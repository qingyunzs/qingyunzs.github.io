
<!doctype html>














<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css" />




  
  
  
  

  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

<link href="/assets/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="PHP,PSR," />





  <link rel="alternate" href="/atom.xml" title="Knowledge Has No Limit" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico?v=5.1.1" />
















<meta name="description" content="PHP">
<meta name="keywords" content="PHP, PSR">
<meta property="og:type" content="article">
<meta property="og:title" content="PHP Notes">
<meta property="og:url" content="http://localhost:4000/php/2015/04/12/php-notes/">
<meta property="og:site_name" content="Knowledge Has No Limit">
<meta property="og:description" content="PHP">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PHP Notes">
<meta name="twitter:description" content="PHP">


<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://localhost:4000/"/>





  <title>PHP Notes | Knowledge Has No Limit</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-123739978-1', 'auto');
  ga('send', 'pageview');
</script>













</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Knowledge Has No Limit</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

<div id="posts" class="posts-expand">
  
  

  

  
  
  

  <article class="post post-type- " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://localhost:4000/php/2015/04/12/php-notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhao Rengui">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/assets/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Knowledge Has No Limit">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
          
          
            PHP Notes
          
        </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-04-12T00:00:00+08:00">
                2015-04-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/category/#/php" itemprop="url" rel="index">
                    <span itemprop="name">php</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          
            
            




























            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  30245
                </span>
              

              

              
            </div>
          

          
            
                <div class="post-description">
                    PHP
                </div>
            
          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
  <p>
如果你有任何问题或疑问，请发送Email至zrg1390556487@gmail.com！
</p>

<div id="outline-container-org19c778a" class="outline-2">
<h2 id="org19c778a"><span class="section-number-2">1</span> PHP 应用记录</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org6852a83" class="outline-3">
<h3 id="org6852a83"><span class="section-number-3">1.1</span> PHP vs Java vs C</h3>
<div class="outline-text-3" id="text-1-1">
<ol class="org-ol">
<li>C/C++，编译成机器语言（二进制）来运行</li>
</ol>
<p>
2.Java，编译成.class文件，称为bytecode，由jvm来运行，Java语言不垮平台，是JVM跨平台。
</p>
<ol class="org-ol">
<li>严格说，PHP是一门编译语言，由 zend 虚拟机编译成 opcode，在执行 opcode</li>
<li><p>
Opcode 能缓存吗？
</p>
<pre class="example">
答：PHP本身不支持，但是 apc，xcache 等加速器实现了。
</pre></li>
<li>PHP 是弱类型语言。C、Java是强类型语言</li>
</ol>
</div>
</div>
<div id="outline-container-org99f8a37" class="outline-3">
<h3 id="org99f8a37"><span class="section-number-3">1.2</span> echo &amp; print &amp; printf &amp; sprintf &amp; var_dump &amp; print_r</h3>
<div class="outline-text-3" id="text-1-2">
<ol class="org-ol">
<li><p>
echo函数：
</p>
<pre class="example">
输出函数，是命令，不能返回值。echo后面可以跟很多个参数，之间用分号隔开。
echo比print稍快，因为它不返回任何值
</pre></li>
<li><p>
print函数：
</p>
<pre class="example">
是函数，可以返回一个值，只能有一个参数。
</pre></li>
<li><p>
printf函数：
</p>
<pre class="example">
把文字格式化以后输出，如：
$name="hunte";
$age=25;
printf("my name is %s, age %d", $name, $age);
</pre></li>
<li><p>
sprintf函数：
</p>
<pre class="example">
跟printf相似，但不打印，而是返回格式化后的文字，其他的与printf一样。
</pre></li>
</ol>
</div>
</div>

<div id="outline-container-orgeab57fc" class="outline-3">
<h3 id="orgeab57fc"><span class="section-number-3">1.3</span> 单引号和双引号的区别</h3>
<div class="outline-text-3" id="text-1-3">
<pre class="example">
单引号不支持变量的解析和转义字符！而双引号可以直接解析变量和转义字符！
</pre>
</div>
</div>
<div id="outline-container-org435b599" class="outline-3">
<h3 id="org435b599"><span class="section-number-3">1.4</span> isset vs empty vs is_null</h3>
<div class="outline-text-3" id="text-1-4">
<ol class="org-ol">
<li><p>
empty
</p>
<pre class="example">
判断一个变量是否为空
null、false、00、0、’0′、』。都会返回true。
</pre></li>
<li><p>
isset
</p>
<pre class="example">
判断一个变量是否设置
0、00、’0′、』、’ ‘、false、’false’、’null’都返回true。 
只有值為null的变量返回true
</pre></li>
<li><p>
if 判断式
</p>
<pre class="example">
0、00、0.0、’0′、』、false、null返回false 
‘00′、’0.0′、’null’、’false’、’ ‘返回true
</pre></li>
<li><p>
is_null 判断变量是否为NULL
</p>
<pre class="example">
is_null，我们可以把它看成是!isset，是isset的一个逆操作，下面一张表可以很清楚的说明他们之间的关系：
</pre>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 1:</span> empty vs isset vs is_null</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">变量</th>
<th scope="col" class="org-left">empty</th>
<th scope="col" class="org-left">is_null</th>
<th scope="col" class="org-left">isset</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">$a=""</td>
<td class="org-left">true</td>
<td class="org-left">false</td>
<td class="org-left">true</td>
</tr>

<tr>
<td class="org-left">$a=null</td>
<td class="org-left">true</td>
<td class="org-left">true</td>
<td class="org-left">false</td>
</tr>

<tr>
<td class="org-left">var $a</td>
<td class="org-left">true</td>
<td class="org-left">true</td>
<td class="org-left">false</td>
</tr>

<tr>
<td class="org-left">$a=array()</td>
<td class="org-left">true</td>
<td class="org-left">false</td>
<td class="org-left">true</td>
</tr>

<tr>
<td class="org-left">$a=false</td>
<td class="org-left">true</td>
<td class="org-left">false</td>
<td class="org-left">true</td>
</tr>

<tr>
<td class="org-left">$a=15</td>
<td class="org-left">false</td>
<td class="org-left">false</td>
<td class="org-left">true</td>
</tr>

<tr>
<td class="org-left">$a=1</td>
<td class="org-left">false</td>
<td class="org-left">false</td>
<td class="org-left">true</td>
</tr>

<tr>
<td class="org-left">$a=0</td>
<td class="org-left">true</td>
<td class="org-left">false</td>
<td class="org-left">true</td>
</tr>

<tr>
<td class="org-left">$a="0"</td>
<td class="org-left">true</td>
<td class="org-left">false</td>
<td class="org-left">true</td>
</tr>

<tr>
<td class="org-left">$a="true"</td>
<td class="org-left">false</td>
<td class="org-left">false</td>
<td class="org-left">true</td>
</tr>

<tr>
<td class="org-left">$a="false"</td>
<td class="org-left">false</td>
<td class="org-left">false</td>
<td class="org-left">true</td>
</tr>
</tbody>
</table>

<p>
<b>总结</b>
</p>
<ul class="org-ul">
<li>只要变量是否为” “或者0，或者是 false 和 null，只要是这些值 empty 都会返回 true</li>
<li>isset是判断变量是否存在，只要你这个变量不是null或未赋值，返回结果都是true</li>
<li>is_null正好是isset的反结果</li>
</ul></li>
</ol>
</div>
</div>
<div id="outline-container-orgd84a598" class="outline-3">
<h3 id="orgd84a598"><span class="section-number-3">1.5</span> exit vs die</h3>
<div class="outline-text-3" id="text-1-5">
<ol class="org-ol">
<li>die()是exit()函数的别名。功能上，die() 就等同于 exit();</li>
<li><p>
使用场景：
</p>
<pre class="example">
当传递给exit和die函数的值为0时，意味着提前终止脚本的执行，通常用exit()
当程序出错时，可以给它传递一个字符串，它会原样输出在系统终端上，通常使用die()
</pre></li>
</ol>
</div>
</div>
<div id="outline-container-orga03e1d0" class="outline-3">
<h3 id="orga03e1d0"><span class="section-number-3">1.6</span> include vs require vs include_once vs require_once</h3>
<div class="outline-text-3" id="text-1-6">
<ul class="org-ul">
<li>require will produce a fatal error (E_COMPILE_ERROR) and stop the script（致命错误）</li>
<li>include will only produce a warning (E_WARNING) and the script will continue（警告）</li>
</ul>
</div>
</div>
<div id="outline-container-org0509cf0" class="outline-3">
<h3 id="org0509cf0"><span class="section-number-3">1.7</span> stripslashes, htmlspecialchars, htmlentities, and strip_tags 区别</h3>
<div class="outline-text-3" id="text-1-7">
<ol class="org-ol">
<li><p>
stripslashes——Un-quotes a quoted string
</p>
<pre class="example">
清理字符串中的反斜杠 \
与之相反的是 addslashes，在字符串中的单引号（'）,双引号（"）,反斜杠（\），NULL前面添加反斜杠。通常默认的，php会对所有的GET，POST和COOKIE数据自动运行addslashes()
</pre></li>
<li>htmlspecialchars——Convert special characters to HTML entities</li>
<li>htmlentities——Convert all applicable characters to HTML entities</li>
<li>strip_tags——Strip HTML and PHP tags from a string</li>
<li>Strip 去除的意思</li>
</ol>
</div>
</div>
<div id="outline-container-org8db1f79" class="outline-3">
<h3 id="org8db1f79"><span class="section-number-3">1.8</span> static, self, parent, and $this 区别</h3>
<div class="outline-text-3" id="text-1-8">
<ol class="org-ol">
<li>static
<ul class="org-ul">
<li>static关键字声明一个属性或方法是和类相关的，而不是和类的某个特定的实例相关，因此，这类属性或方法也称为“类属性”或“类方法”。</li>
<li>static的属性，在内存中只有一份，为所有的实例共用。也就是说，在内存中即使有多个实例，静态的属性也只有一份。</li>
<li>static关键字可以用来修饰变量、方法。</li>
<li>通过static关键字定义的属性或方法（例如static $web），只能由当前类通过【self::$web】来访问，其他类和子类是无法访问的。</li>
</ul></li>
<li>$this指的是实例化的对象，而不是类本身</li>
<li>self指的是类本身，而不是实例化的对象</li>
<li>在PHP中，子类继承父类并改写了父类中的方法，但是依然想要调用父类中的方法，就用parent</li>
</ol>
</div>
</div>
<div id="outline-container-orgef156f9" class="outline-3">
<h3 id="orgef156f9"><span class="section-number-3">1.9</span> return, break, and continue 区别</h3>
<div class="outline-text-3" id="text-1-9">
<ol class="org-ol">
<li>return，立即停止执行函数内部的代码，然后继续执行下面的代码</li>
<li>break，立即停止执行本循环体内的所有循环，最常见的switch循环。</li>
<li>continue与break都是用于终止循环执行，所不同的是，break是彻底终止循环体的执行，而continue是结束本次循环，继续下一次的循环。</li>
</ol>
</div>
</div>
<div id="outline-container-org762daca" class="outline-3">
<h3 id="org762daca"><span class="section-number-3">1.10</span> 值传递和引用传递的区别</h3>
<div class="outline-text-3" id="text-1-10">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #CDC673;">/**</span>
<span style="color: #CDC673;"> * &#20540;&#20256;&#36882;</span>
<span style="color: #CDC673;"> * </span><span style="color: #AF87FF;">@param</span><span style="color: #CDC673;"> [type]</span>
<span style="color: #CDC673;"> */</span>
<span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">add</span>($<span style="color: #FF8C00;">a</span>){
    $<span style="color: #FF8C00;">a</span>++;
    $<span style="color: #FF8C00;">res</span> = $<span style="color: #FF8C00;">a</span>;
    <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">res</span>;
}
$<span style="color: #FF8C00;">a</span> = 100;
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">a</span>.<span style="color: #CDC673;">'&lt;br /&gt;'</span>;   <span style="color: #8B8878;">// </span><span style="color: #8B8878;">100</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">add</span>($<span style="color: #FF8C00;">a</span>).<span style="color: #CDC673;">'&lt;br /&gt;'</span>;  <span style="color: #8B8878;">// </span><span style="color: #8B8878;">101</span>
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">a</span>.<span style="color: #CDC673;">'&lt;br /&gt;'</span>;   <span style="color: #8B8878;">// </span><span style="color: #8B8878;">100</span>


<span style="color: #CDC673;">/**</span>
<span style="color: #CDC673;"> * &#24341;&#29992;&#20256;&#36882;</span>
<span style="color: #CDC673;"> * </span><span style="color: #AF87FF;">@param</span><span style="color: #CDC673;"> [type]</span>
<span style="color: #CDC673;"> */</span>
<span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">add</span>(&amp;$<span style="color: #FF8C00;">a</span>){
    $<span style="color: #FF8C00;">a</span>++;
    $<span style="color: #FF8C00;">res</span> = $<span style="color: #FF8C00;">a</span>;
    <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">res</span>;
}
$<span style="color: #FF8C00;">a</span> = 100;
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">a</span>.<span style="color: #CDC673;">'&lt;br /&gt;'</span>;   <span style="color: #8B8878;">// </span><span style="color: #8B8878;">100</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">add</span>($<span style="color: #FF8C00;">a</span>).<span style="color: #CDC673;">'&lt;br /&gt;'</span>;  <span style="color: #8B8878;">// </span><span style="color: #8B8878;">101</span>
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">a</span>.<span style="color: #CDC673;">'&lt;br /&gt;'</span>;   <span style="color: #8B8878;">// </span><span style="color: #8B8878;">101</span>


<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#23545;&#35937;&#30340;&#24341;&#29992;</span>
<span style="color: #5FD7FF;">class</span> <span style="color: #FF8C00;">A</span>{
    <span style="color: #FF1493;">var</span> $<span style="color: #FF8C00;">abc</span>=<span style="color: #CDC673;">"ABC"</span>;
}
$<span style="color: #FF8C00;">b</span> =<span style="color: #FF1493;">new</span> A();
$<span style="color: #FF8C00;">c</span> =$<span style="color: #FF8C00;">b</span>; <span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#31561;&#25928;&#20110; $c=&amp;$b;</span>
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">b</span>-&gt;<span style="color: #FF8C00;">abc</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36825;&#37324;&#36755;&#20986;ABC</span>
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">"&lt;br /&gt;"</span>;
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">c</span>-&gt;<span style="color: #FF8C00;">abc</span>=<span style="color: #CDC673;">"DEF"</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36825;&#37324;&#36755;&#20986;ABC $b-&gt;abc="DEF";</span>
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">"&lt;br /&gt;"</span>;
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">c</span>-&gt;<span style="color: #FF8C00;">abc</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36825;&#37324;&#36755;&#20986; DEF</span>
$<span style="color: #FF8C00;">d1</span> = <span style="color: #FF1493;">clone</span> $<span style="color: #FF8C00;">c</span>;
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">"&lt;br /&gt;"</span>;
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">d1</span>-&gt;<span style="color: #FF8C00;">abc</span>=<span style="color: #CDC673;">"GHI"</span>; <span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36825;&#37324;&#36755;&#20986; GHI $d1-&gt;abc="GHI";</span>
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">"&lt;br /&gt;"</span>;
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">d1</span>-&gt;<span style="color: #FF8C00;">abc</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36825;&#37324;&#36755;&#20986; GHI</span>
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">"&lt;br /&gt;"</span>;
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">c</span>-&gt;<span style="color: #FF8C00;">abc</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36825;&#37324;&#36755;&#20986; DEF</span>

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#20989;&#25968;&#30340;&#24341;&#29992;</span>
<span style="color: #FF1493;">function</span> &amp;<span style="color: #87D700;">test2</span>(){
    <span style="color: #FF1493;">static</span> $<span style="color: #FF8C00;">b</span>=0;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#30003;&#26126;&#19968;&#20010;&#38745;&#24577;&#21464;&#37327;</span>
    $<span style="color: #FF8C00;">b</span>=$<span style="color: #FF8C00;">b</span>+1;
    <span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">b</span>;
    <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">b</span>;
}
$<span style="color: #FF8C00;">a</span>=test2();<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36825;&#26465;&#35821;&#21477;&#20250;&#36755;&#20986;&#12288;$b&#30340;&#20540;&#12288;&#20026;&#65297;</span>
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">"&lt;br /&gt;"</span>;
$<span style="color: #FF8C00;">a</span>=5;
$<span style="color: #FF8C00;">a</span>=test2();<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36825;&#26465;&#35821;&#21477;&#20250;&#36755;&#20986;&#12288;$b&#30340;&#20540;&#12288;&#20026;2</span>
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">"&lt;br /&gt;"</span>;
$<span style="color: #FF8C00;">a</span>=&amp;test2();<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36825;&#26465;&#35821;&#21477;&#20250;&#36755;&#20986;&#12288;$b&#30340;&#20540;&#12288;&#20026;3&#12290;&#23558;return $b &#20013;&#30340; $b &#21464;&#37327;&#30340;&#20869;&#23384;&#22320;&#22336;&#19982; $a &#21464;&#37327;&#30340;&#20869;&#23384;&#22320;&#22336;&#25351;&#21521;&#20102;&#21516;&#19968;&#20010;&#22320;&#26041;&#12290;</span>
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">"&lt;br /&gt;"</span>;
$<span style="color: #FF8C00;">a</span>=5;
$<span style="color: #FF8C00;">a</span>=test2();<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36825;&#26465;&#35821;&#21477;&#20250;&#36755;&#20986;&#12288;$b&#30340;&#20540;&#12288;&#20026;6</span>

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#20989;&#25968;&#22320;&#22336;&#24341;&#29992;</span>
<span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">test1</span>(&amp;$<span style="color: #FF8C00;">a</span>){
    $<span style="color: #FF8C00;">a</span>=$<span style="color: #FF8C00;">a</span>+100;
}
$<span style="color: #FF8C00;">b</span>=1;
test1($<span style="color: #FF8C00;">b</span>);
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">b</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36755;&#20986;&#65297;01</span>
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36825;&#37324;$b&#20256;&#36882;&#32473;&#20989;&#25968;&#30340;&#20854;&#23454;&#26159;$b&#30340;&#20869;&#23384;&#22320;&#22336;&#65292;&#36890;&#36807;&#22312;&#20989;&#25968;&#37324;&#25913;&#21464;$a&#30340;&#20540;&#65292;&#23601;&#21487;&#20197;&#25913;&#21464;$b&#30340;&#20540;</span>
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#21464;&#37327;</span>
$<span style="color: #FF8C00;">a</span>=<span style="color: #CDC673;">"ABC"</span>;
$<span style="color: #FF8C00;">b</span> =&amp;$<span style="color: #FF8C00;">a</span>;
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">a</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36825;&#37324;&#36755;&#20986;:ABC</span>
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">"&lt;br /&gt;"</span>;
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">b</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36825;&#37324;&#36755;&#20986;:ABC</span>
$<span style="color: #FF8C00;">b</span>=<span style="color: #CDC673;">"EFG"</span>;
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">"&lt;br /&gt;"</span>;
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">a</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36825;&#37324;$a&#30340;&#20540;&#21464;&#20026;EFG &#25152;&#20197;&#36755;&#20986;EFG echo $b;//&#36825;&#37324;&#36755;&#20986;EFG</span>
<span style="color: #FF1493;">?&gt;</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org2cf1bdc" class="outline-3">
<h3 id="org2cf1bdc"><span class="section-number-3">1.11</span> 构造函数 vs 析构函数</h3>
<div class="outline-text-3" id="text-1-11">
<ol class="org-ol">
<li>构造函数
<ul class="org-ul">
<li>类的构造函数是类的一种特殊的成员函数，它会在每次创建类的新对象时执行。</li>
<li>Java、C++ 构造函数的名称与类的名称是完全相同的，PHP 语言目前普遍用法是使用 __construct() 代替。</li>
<li>构造函数不会返回任何类型，也不会返回 void。</li>
</ul></li>
<li>析构函数
<ul class="org-ul">
<li>类的析构函数是类的一种特殊的成员函数，它会在每次删除所创建的对象时执行。</li>
<li>Java、C++ 析构函数的名称与类的名称是完全相同的，只是在前面加了个波浪号（~）作为前缀，它不会返回任何值，也不能带有任何参数。PHP 语言普遍用法是使用 __desctruct() 代替。</li>
<li>析构函数有助于在跳出程序（比如关闭文件、释放内存等）前释放资源。</li>
<li>试图在析构函数（在脚本终止时被调用）中抛出一个异常会导致致命错误。</li>
</ul></li>
</ol>
</div>
</div>
<div id="outline-container-org57bffb1" class="outline-3">
<h3 id="org57bffb1"><span class="section-number-3">1.12</span> public, protected, private and final 区别</h3>
<div class="outline-text-3" id="text-1-12">
<ol class="org-ol">
<li>public 用于声明可以外部调用类或方法</li>
<li>protected 声明只能被继承子类调用</li>
<li>private 用于定义私有属性或方法，仅供内部类调用</li>
<li>final 指定某个类不允许被继承或者是某个方法不允许被修改</li>
</ol>
</div>
</div>
<div id="outline-container-org5d2469a" class="outline-3">
<h3 id="org5d2469a"><span class="section-number-3">1.13</span> implode vs explode</h3>
<div class="outline-text-3" id="text-1-13">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#23558;&#25968;&#32452;&#20803;&#32032;&#32452;&#21512;&#20026;&#23383;&#31526;&#20018;</span>
$<span style="color: #FF8C00;">array</span> = <span style="color: #FF1493;">array</span>(<span style="color: #CDC673;">'&#22995;&#21517;'</span>, <span style="color: #CDC673;">'&#30005;&#35805;'</span>, <span style="color: #CDC673;">'&#30005;&#23376;&#37038;&#31665;'</span>);
$<span style="color: #FF8C00;">char</span> = implode(<span style="color: #CDC673;">"^"</span>, $<span style="color: #FF8C00;">array</span>);
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">char</span>;

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#23558;&#23383;&#31526;&#20018;&#36716;&#21270;&#20026;&#25968;&#32452;</span>
$<span style="color: #FF8C00;">str</span> = <span style="color: #CDC673;">'&#22995;&#21517;^&#30005;&#35805;^&#30005;&#23376;&#37038;&#31665;'</span>;
$<span style="color: #FF8C00;">arr</span> = explode(<span style="color: #CDC673;">'^'</span>,$<span style="color: #FF8C00;">str</span>);
print_r($<span style="color: #FF8C00;">arr</span>);
</pre>
</div>
</div>
</div>
<div id="outline-container-org058687a" class="outline-3">
<h3 id="org058687a"><span class="section-number-3">1.14</span> 字符串操作</h3>
<div class="outline-text-3" id="text-1-14">
</div>
<div id="outline-container-org83514f7" class="outline-4">
<h4 id="org83514f7"><span class="section-number-4">1.14.1</span> 字符串大小写切换以及翻转和加密</h4>
<div class="outline-text-4" id="text-1-14-1">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#23558;&#23567;&#20889;&#23383;&#27597;&#20840;&#37096;&#21464;&#25104;&#22823;&#20889;&#23383;&#27597;</span>
$<span style="color: #FF8C00;">a</span> = <span style="color: #CDC673;">'hello world'</span>;
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">strtoupper</span>($<span style="color: #FF8C00;">a</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">HELLO WORLD!</span>
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#23558;&#22823;&#20889;&#23383;&#27597;&#20840;&#37096;&#21464;&#25104;&#23567;&#20889;&#23383;&#27597;</span>
$<span style="color: #FF8C00;">b</span> = <span style="color: #CDC673;">'HELLO WORLD!'</span>;
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">strtolower</span>($<span style="color: #FF8C00;">b</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">hello world!</span>
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#23558;&#35821;&#21477;&#20013;&#30340;&#39318;&#23383;&#27597;&#21464;&#25104;&#22823;&#20889;</span>
$<span style="color: #FF8C00;">c</span> = <span style="color: #CDC673;">'my name is fxxy'</span>;
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">ucfirst</span>($<span style="color: #FF8C00;">c</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">My name is fxxy</span>
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#23558;&#35821;&#21477;&#20013;&#27599;&#20010;&#23383;&#27597;&#30340;&#39318;&#23383;&#27597;&#21464;&#25104;&#22823;&#20889;</span>
$<span style="color: #FF8C00;">d</span> = <span style="color: #CDC673;">'my name is fxxy'</span>;
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">ucwords</span>($<span style="color: #FF8C00;">d</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">My Name Is Fxxy;</span>

/&#23383;&#31526;&#20018;&#32763;&#36716;&#20989;&#25968;
$<span style="color: #FF8C00;">e</span> = <span style="color: #CDC673;">'hello world'</span>;
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">strrev</span>($<span style="color: #FF8C00;">a</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">!dlrow olleh </span>
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#23383;&#31526;&#20018;&#21152;&#23494;&#20989;&#25968;</span>
$<span style="color: #FF8C00;">f</span> = <span style="color: #CDC673;">'hello fxxy'</span>;
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">md5</span>($<span style="color: #FF8C00;">f</span>);   <span style="color: #8B8878;">//</span><span style="color: #8B8878;">b9facffba44a838e493d2f8f28bb3584</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb4f7ada" class="outline-4">
<h4 id="orgb4f7ada"><span class="section-number-4">1.14.2</span> 字符串截取</h4>
<div class="outline-text-4" id="text-1-14-2">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">1. &#25353;&#29031;&#23383;&#31526;&#25152;&#22312;&#32034;&#24341;&#36827;&#34892;&#25130;&#21462;&#65306;</span>
$<span style="color: #FF8C00;">str</span> = <span style="color: #CDC673;">'hello word,my name is fxxy'</span>;
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">substr</span>($<span style="color: #FF8C00;">str</span>,11);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">my name is fxxy</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">substr</span>($<span style="color: #FF8C00;">str</span>,11,2);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">my</span>

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">2. &#25353;&#29031;&#25351;&#23450;&#23383;&#31526;&#36827;&#34892;&#25130;&#21462;&#65306;</span>
$<span style="color: #FF8C00;">str</span> = <span style="color: #CDC673;">'hello world,my name is fxxy'</span>;
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#25130;&#21462;&#26576;&#20010;&#23383;&#31526;&#22312;&#23383;&#31526;&#20018;&#20013;&#39318;&#27425;&#20986;&#29616;&#30452;&#21040;&#26368;&#21518;&#30340;&#25152;&#26377;&#23383;&#31526;&#65288;&#20174;&#24038;&#21040;&#21491;&#65289;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">strchr</span>($<span style="color: #FF8C00;">str</span>,<span style="color: #CDC673;">'my'</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">my name is fxxy</span>
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#21478;&#22806;&#19968;&#31181;&#20889;&#27861;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">strstr</span>($<span style="color: #FF8C00;">str</span>,<span style="color: #CDC673;">'my'</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">my name is fxxy</span>
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#19981;&#21306;&#20998;&#22823;&#23567;&#20889;&#30340;&#20889;&#27861;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">stristr</span>($<span style="color: #FF8C00;">str</span>,<span style="color: #CDC673;">'MY'</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">my name is fxxy</span>
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#25130;&#21462;&#26576;&#20010;&#23383;&#31526;&#22312;&#23383;&#31526;&#20018;&#20013;&#26368;&#21518;&#20986;&#29616;&#21040;&#26368;&#21518;&#30340;&#25152;&#26377;&#23383;&#31526;&#65288;&#20174;&#21491;&#21040;&#24038;&#65289;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">strrchr</span>($<span style="color: #FF8C00;">str</span>,<span style="color: #CDC673;">'o'</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">orld,my name is fxxy</span>
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36755;&#20986;&#26576;&#20010;&#23383;&#31526;&#22312;&#23383;&#31526;&#20018;&#20013;&#39318;&#27425;&#20986;&#29616;&#30340;&#20301;&#32622;&#32034;&#24341;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">strpos</span>($<span style="color: #FF8C00;">str</span>,<span style="color: #CDC673;">'my'</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">12</span>
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#23558;&#23383;&#31526;&#20018;&#25286;&#20998;&#25104;&#25968;&#32452;</span>
$<span style="color: #FF8C00;">arry</span> = explode(<span style="color: #CDC673;">','</span>,$<span style="color: #FF8C00;">str</span>);
var_dump($<span style="color: #FF8C00;">arry</span>);

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#22312;&#19968;&#20010;&#35821;&#21477;&#20013;&#65292;&#25214;&#20986;&#26576;&#20010;&#23383;&#20986;&#29616;&#20102;&#22810;&#23569;&#27425;&#65292;&#20998;&#21035;&#20986;&#29616;&#22312;&#21738;&#20010;&#20301;&#32622;&#65311;</span>
$<span style="color: #FF8C00;">str</span> = <span style="color: #CDC673;">'hello world,my name is fxxy'</span>;
$<span style="color: #FF8C00;">num</span>=0;
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">'&#23383;&#27597;&#12304;o&#12305;&#20986;&#29616;&#20102;&#20301;&#32622;&#32034;&#24341;&#26159;&#65306;'</span>;
<span style="color: #FF1493;">for</span>($<span style="color: #FF8C00;">i</span>=0; strpos($<span style="color: #FF8C00;">str</span>,<span style="color: #CDC673;">'o'</span>,$<span style="color: #FF8C00;">i</span>)!=0; $<span style="color: #FF8C00;">i</span>=strpos($<span style="color: #FF8C00;">str</span>,<span style="color: #CDC673;">'o'</span>,$<span style="color: #FF8C00;">i</span>)+1){
    $<span style="color: #FF8C00;">num</span>+=1;
    <span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">strpos</span>($<span style="color: #FF8C00;">str</span>,<span style="color: #CDC673;">'o'</span>,$<span style="color: #FF8C00;">i</span>).<span style="color: #CDC673;">'&#12289;'</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">4  7</span>
}
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">'&#23383;&#27597;&#12304;o&#12305;&#24635;&#20849;&#20986;&#29616;&#20102;'</span>.$<span style="color: #FF8C00;">num</span>.<span style="color: #CDC673;">'&#27425;'</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">2</span>

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">3. &#36890;&#36807;&#25351;&#23450;&#23383;&#31526;&#23558;&#20027;&#23383;&#31526;&#20018;&#36827;&#34892;&#25286;&#20998;&#65306;</span>
$<span style="color: #FF8C00;">arr</span> = <span style="color: #FF1493;">array</span>();
$<span style="color: #FF8C00;">a</span> = <span style="color: #CDC673;">'hello,world,my,name,is,fxxy'</span>;
$<span style="color: #FF8C00;">b</span> = strtok($<span style="color: #FF8C00;">a</span>,<span style="color: #CDC673;">','</span>);
<span style="color: #FF1493;">while</span>($<span style="color: #FF8C00;">b</span>){
    $<span style="color: #FF8C00;">arr</span>[] = $<span style="color: #FF8C00;">b</span>;
    <span style="color: #8B8878;">//</span><span style="color: #8B8878;">array_push($arr,$b);</span>
    $<span style="color: #FF8C00;">b</span> = strtok(<span style="color: #CDC673;">','</span>);
}
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">"&lt;pre&gt;"</span>;var_dump($<span style="color: #FF8C00;">arr</span>);<span style="color: #FF1493;">exit</span>;

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">4. &#25226;&#26597;&#35810;&#23383;&#31526;&#35299;&#26512;&#21040;&#21464;&#37327;&#20013;&#65306;</span>
$<span style="color: #FF8C00;">url</span> = <span style="color: #CDC673;">'http://www.baidu.com?username=fxxy&amp;age=24'</span>;
$<span style="color: #FF8C00;">msg</span> = substr($<span style="color: #FF8C00;">url</span>,(strpos($<span style="color: #FF8C00;">url</span>,<span style="color: #CDC673;">'?'</span>)+1));
parse_str($<span style="color: #FF8C00;">msg</span>);
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">username</span>;
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">age</span>;

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">5. &#23558;&#23383;&#31526;&#20018;&#27599;&#38548;n&#20010;&#23383;&#31526;&#23601;&#25286;&#20998;&#19968;&#27425;&#65292;&#24182;&#25554;&#20837;&#29305;&#23450;&#30340;&#20998;&#38548;&#31526;&#65306;</span>
$<span style="color: #FF8C00;">a</span> = <span style="color: #CDC673;">'abcdefghijklmnopqrstuvwxyz'</span>;
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">chunk_split</span>($<span style="color: #FF8C00;">a</span>,5,<span style="color: #CDC673;">' | '</span>);
</pre>
</div>
</div>
</div>
<div id="outline-container-orgeeefcc5" class="outline-4">
<h4 id="orgeeefcc5"><span class="section-number-4">1.14.3</span> 字符串替换和比较函数</h4>
<div class="outline-text-4" id="text-1-14-3">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">1. PHP&#23383;&#31526;&#20018;&#26367;&#25442;&#20989;&#25968;&#65306;</span>
$<span style="color: #FF8C00;">str</span> = <span style="color: #CDC673;">'hello world!'</span>;
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#26367;&#25442;&#21333;&#20010;&#23383;&#31526;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">str_replace</span>(<span style="color: #CDC673;">'h'</span>,<span style="color: #CDC673;">'H'</span>,$<span style="color: #FF8C00;">str</span>).<span style="color: #CDC673;">'&lt;br/&gt;'</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">Hello world!</span>
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#26367;&#25442;&#22810;&#20010;&#23383;&#31526;&#65288;&#29992;&#25968;&#32452;&#65289;</span>
$<span style="color: #FF8C00;">arry1</span> = <span style="color: #FF1493;">array</span>(<span style="color: #CDC673;">'h'</span>,<span style="color: #CDC673;">'d'</span>);
$<span style="color: #FF8C00;">arry2</span> = <span style="color: #FF1493;">array</span>(<span style="color: #CDC673;">'H'</span>,<span style="color: #CDC673;">'D'</span>);
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">str_replace</span>($<span style="color: #FF8C00;">arry1</span>,$<span style="color: #FF8C00;">arry2</span>,$<span style="color: #FF8C00;">str</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">Hello worlD!</span>

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">2. PHP&#23383;&#31526;&#20018;&#27604;&#36739;&#20989;&#25968;&#65306;</span>
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#38750;&#33258;&#28982;&#27604;&#36739;&#65292;&#31532;&#19968;&#20010;&#23383;&#31526;&#20018;&#26159;&#23567;&#20110;10&#30340;&#25968;&#23383;&#65292;&#22823;&#20110;&#31532;&#20108;&#20010;&#23383;&#31526;&#20018;&#30340;&#31532;&#19968;&#20010;&#25968;&#23383;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">strcmp</span>(<span style="color: #CDC673;">'4'</span>,<span style="color: #CDC673;">'30'</span>).<span style="color: #CDC673;">'&lt;br/&gt;'</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">1</span>
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#33258;&#28982;&#25968;&#27604;&#36739;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">strnatcmp</span>(<span style="color: #CDC673;">'4'</span>,<span style="color: #CDC673;">'30'</span>).<span style="color: #CDC673;">'&lt;br/&gt;'</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">-1</span>
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#33521;&#25991;&#23383;&#31526;&#20018;&#27604;&#36739;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">strcmp</span>(<span style="color: #CDC673;">'hello'</span>,<span style="color: #CDC673;">'hello'</span>).<span style="color: #CDC673;">'&lt;br/&gt;'</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">0</span>
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#19981;&#21306;&#20998;&#22823;&#23567;&#20889;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">strcasecmp</span>(<span style="color: #CDC673;">'hello'</span>,<span style="color: #CDC673;">'Hello'</span>).<span style="color: #CDC673;">'&lt;br/&gt;'</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">0</span>
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#35268;&#23450;&#21069;&#20960;&#20010;&#25968;&#23383;&#36827;&#34892;&#27604;&#36739;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">strncmp</span>(<span style="color: #CDC673;">'2015'</span>,<span style="color: #CDC673;">'2016'</span>,3).<span style="color: #CDC673;">'&lt;br/&gt;'</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">0</span>
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#20004;&#20010;&#23383;&#31526;&#20018;&#20013;&#30456;&#20284;&#23383;&#31526;&#30340;&#25968;&#37327;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">similar_text</span>(<span style="color: #CDC673;">'hello world'</span>,<span style="color: #CDC673;">'hello zym'</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">6</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf14b0fd" class="outline-4">
<h4 id="orgf14b0fd"><span class="section-number-4">1.14.4</span> 字符串url解析和实体转换</h4>
<div class="outline-text-4" id="text-1-14-4">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">1. &#36890;&#36807;parse_url()&#35299;&#26512;url&#65292;&#24182;&#19988;&#36820;&#22238;&#20854;&#32452;&#25104;&#37096;&#20998;&#65306;</span>
$<span style="color: #FF8C00;">str</span> = <span style="color: #CDC673;">'http://www.baidu.com/admin?username=fxxy&amp;pwd=123456'</span>;
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">'&lt;pre&gt;'</span>;
print_r(parse_url($<span style="color: #FF8C00;">str</span>));
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">'&lt;pre/&gt;'</span>;
<span style="color: #8B8878;">/*</span>
<span style="color: #8B8878;">  Array</span>
<span style="color: #8B8878;">  (</span>
<span style="color: #8B8878;">  [scheme] =&gt; http</span>
<span style="color: #8B8878;">  [host] =&gt; www.baidu.com</span>
<span style="color: #8B8878;">  [path] =&gt; /admin</span>
<span style="color: #8B8878;">  [query] =&gt; username=fxxy&amp;pwd=123456</span>
<span style="color: #8B8878;">  )</span>
<span style="color: #8B8878;">*/</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">parse_url</span>($<span style="color: #FF8C00;">str</span>,<span style="color: #AF87FF;">PHP_URL_HOST</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">www.baidu.com</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">parse_url</span>($<span style="color: #FF8C00;">str</span>,<span style="color: #AF87FF;">PHP_URL_PATH</span>);<span style="color: #8B8878;">// </span><span style="color: #8B8878;">/admin</span>

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">2. url&#32534;&#30721;&#21644;&#35299;&#30721;&#20989;&#25968;&#65292;&#23545;url&#30340;&#20013;&#25991;&#36827;&#34892;&#32534;&#30721;&#21644;&#35299;&#30721;&#65306;</span>
$<span style="color: #FF8C00;">str</span> = <span style="color: #CDC673;">'&#30127;&#34892;&#35199;&#26376;'</span>;
$<span style="color: #FF8C00;">a</span> = urlencode($<span style="color: #FF8C00;">str</span>);
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">"&lt;a href='www.baidu.com/a..php?h=</span><span style="color: #FF8C00;">$a</span><span style="color: #CDC673;">'&gt;&#28857;&#20987;&#36339;&#36716;&lt;/a&gt;"</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#32593;&#22336;&#30340;&#20013;&#25991;&#37096;&#20998;&#21464;&#25104;&#20102;&#33521;&#25991;&#32534;&#30721;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">urlencode</span>($<span style="color: #FF8C00;">str</span>);<span style="color: #8B8878;">//  </span><span style="color: #8B8878;">%E7%96%AF%E8%A1%8C%E8%A5%BF%E6%9C%88</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">urldecode</span>(urlencode($<span style="color: #FF8C00;">str</span>));<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#30127;&#34892;&#35199;&#26376;</span>

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">3. &#23558;&#23383;&#31526;&#20018;&#36716;&#25442;&#20026;html&#23454;&#20307;&#65306;</span>
$<span style="color: #FF8C00;">str</span> = <span style="color: #CDC673;">'&lt;h1&gt;&#30127;&#34892;&#35199;&#26376;&lt;/h1&gt;'</span>;
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">str</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#30127;&#34892;&#35199;&#26376;</span>
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36716;&#25442;&#20013;&#25991;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">htmlentities</span>($<span style="color: #FF8C00;">str</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&lt;h1&gt;&#30127;&#34892;&#35199;&#26376;&lt;/h1&gt;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">htmlspecialchars</span>($<span style="color: #FF8C00;">str</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#19981;&#36716;&#25442;&#12304;&#20013;&#25991;&#12305;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">htmlspecialchars_decode</span>($<span style="color: #FF8C00;">str</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#30127;&#34892;&#35199;&#26376;</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org83299cf" class="outline-3">
<h3 id="org83299cf"><span class="section-number-3">1.15</span> 数组操作</h3>
<div class="outline-text-3" id="text-1-15">
</div>
<div id="outline-container-org6d5d03e" class="outline-4">
<h4 id="org6d5d03e"><span class="section-number-4">1.15.1</span> 向二位数组中添加键值对</h4>
<div class="outline-text-4" id="text-1-15-1">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#26041;&#27861;&#19968;</span>
$<span style="color: #FF8C00;">tempArr</span>=<span style="color: #FF1493;">array</span>();
<span style="color: #FF1493;">foreach</span>($<span style="color: #FF8C00;">arr</span> <span style="color: #FF1493;">as</span> $<span style="color: #FF8C00;">key</span> =&gt; $<span style="color: #FF8C00;">value</span>){
    $<span style="color: #FF8C00;">value</span>[<span style="color: #CDC673;">'new_key'</span>] = $<span style="color: #FF8C00;">value</span>[<span style="color: #CDC673;">'old_key1'</span>]+$<span style="color: #FF8C00;">value</span>[<span style="color: #CDC673;">'old_key2'</span>];
    $<span style="color: #FF8C00;">tempArr</span>[] = $<span style="color: #FF8C00;">value</span>;
}
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#26041;&#27861;&#20108;</span>
<span style="color: #FF1493;">foreach</span>($<span style="color: #FF8C00;">arr</span> <span style="color: #FF1493;">as</span> $<span style="color: #FF8C00;">key</span> =&gt; $<span style="color: #FF8C00;">value</span>){
    $<span style="color: #FF8C00;">arr</span>[$<span style="color: #FF8C00;">key</span>][<span style="color: #CDC673;">'new_key'</span>] = $<span style="color: #FF8C00;">value</span>[<span style="color: #CDC673;">'old_key1'</span>]+$<span style="color: #FF8C00;">value</span>[<span style="color: #CDC673;">'old_key2'</span>];
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org70def36" class="outline-4">
<h4 id="org70def36"><span class="section-number-4">1.15.2</span> 判断二维数组是否为空</h4>
<div class="outline-text-4" id="text-1-15-2">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#21028;&#26029;&#19968;&#32500;&#25968;&#32452;&#26159;&#21542;&#20026;&#31354;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #FF1493;">empty</span>($<span style="color: #FF8C00;">array_test</span>); <span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#22914;&#26524;&#25968;&#32452;$array_test&#20026;&#31354;&#37027;&#20040;&#36825;&#20010;&#20989;&#25968;&#36820;&#22238;true</span>
<span style="color: #FF1493;">if</span>($<span style="color: #FF8C00;">array_test</span>){}; <span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#22914;&#26524;&#25968;&#32452;&#20026;&#31354;.&#37027;&#20040;if&#30340;&#26465;&#20214;&#21028;&#26029;&#20026;false</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">count</span>($<span style="color: #FF8C00;">array_test</span>) <span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#35745;&#31639;&#25968;&#32452;&#20803;&#32032;&#20010;&#25968;.&#20026;0&#23601;&#26159;&#31354;</span>
<span style="color: #FF1493;">echo</span> sizeof($<span style="color: #FF8C00;">array_test</span>) <span style="color: #8B8878;">//</span><span style="color: #8B8878;">count() &#30340;&#21035;&#21517; &#29992;&#27861;&#21644;&#36820;&#22238;&#19968;&#26679;</span>

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#21028;&#26029;&#20108;&#32500;&#25968;&#32452;&#26159;&#21542;&#20026;&#31354;</span>
<span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">array_is_null</span>($<span style="color: #FF8C00;">arr</span> = <span style="color: #AF87FF;">null</span>){
    <span style="color: #FF1493;">if</span>(is_array($<span style="color: #FF8C00;">arr</span>)){
    <span style="color: #FF1493;">foreach</span>($<span style="color: #FF8C00;">arr</span> <span style="color: #FF1493;">as</span> $<span style="color: #FF8C00;">k</span>=&gt;$<span style="color: #FF8C00;">v</span>){
        <span style="color: #FF1493;">if</span>($<span style="color: #FF8C00;">v</span>&amp;&amp;!is_array($<span style="color: #FF8C00;">v</span>)){
        <span style="color: #FF1493;">return</span> <span style="color: #AF87FF;">false</span>;
        }
        $<span style="color: #FF8C00;">t</span> = <span style="color: #FF1493;">self</span>::array_is_null($<span style="color: #FF8C00;">v</span>);
        <span style="color: #FF1493;">if</span>(!$<span style="color: #FF8C00;">t</span>){
        <span style="color: #FF1493;">return</span> <span style="color: #AF87FF;">false</span>;
        }
    }
    <span style="color: #FF1493;">return</span> <span style="color: #AF87FF;">true</span>;
    }<span style="color: #FF1493;">elseif</span>(!$<span style="color: #FF8C00;">arr</span>){
    <span style="color: #FF1493;">return</span> <span style="color: #AF87FF;">true</span>;
    }<span style="color: #FF1493;">else</span>{
    <span style="color: #FF1493;">return</span> <span style="color: #AF87FF;">false</span>;
    }
}
</pre>
</div>
</div>
</div>
<div id="outline-container-orge131aaf" class="outline-4">
<h4 id="orge131aaf"><span class="section-number-4">1.15.3</span> 求数组中各个元素之和</h4>
<div class="outline-text-4" id="text-1-15-3">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#29992;foreach&#23454;&#29616;</span>
$<span style="color: #FF8C00;">sum</span> = 0;
<span style="color: #FF1493;">foreach</span> ($<span style="color: #FF8C00;">ar</span> <span style="color: #FF1493;">as</span> $<span style="color: #FF8C00;">v</span>) {
    $<span style="color: #FF8C00;">sum</span>+=$<span style="color: #FF8C00;">v</span>;
}
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">sum</span>;

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#29992;array_reduce&#23454;&#29616;</span>
$<span style="color: #FF8C00;">result</span> = array_reduce($<span style="color: #FF8C00;">arr</span>, <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">leijia</span>($<span style="color: #FF8C00;">a</span>,$<span style="color: #FF8C00;">b</span>){
    $<span style="color: #FF8C00;">a</span>+=$<span style="color: #FF8C00;">b</span>;
    <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">a</span>;
    });
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">result</span>;

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#23558;&#25968;&#32452;$arr&#30340;&#39318;&#20010;&#20803;&#32032;&#24377;&#20986;&#65292;&#20316;&#20026;&#21021;&#22987;&#20540;&#65292;&#36991;&#20813;min($result['min'], $item['min'])&#20013;$result&#20026;&#31354;&#12290;&#21542;&#21017;&#26368;&#32456;&#32467;&#26524;min&#26159;&#31354;&#30340;&#12290;</span>
$<span style="color: #FF8C00;">arr</span> = <span style="color: #FF1493;">array</span>( 
    <span style="color: #FF1493;">array</span>(<span style="color: #CDC673;">'min'</span> =&gt; 1.5456, <span style="color: #CDC673;">'max'</span> =&gt; 2.28548, <span style="color: #CDC673;">'volume'</span> =&gt; 23.152), 
    <span style="color: #FF1493;">array</span>(<span style="color: #CDC673;">'min'</span> =&gt; 1.5457, <span style="color: #CDC673;">'max'</span> =&gt; 2.28549, <span style="color: #CDC673;">'volume'</span> =&gt; 23.152), 
    <span style="color: #FF1493;">array</span>(<span style="color: #CDC673;">'min'</span> =&gt; 1.5458, <span style="color: #CDC673;">'max'</span> =&gt; 2.28550, <span style="color: #CDC673;">'volume'</span> =&gt; 23.152), 
    <span style="color: #FF1493;">array</span>(<span style="color: #CDC673;">'min'</span> =&gt; 1.5459, <span style="color: #CDC673;">'max'</span> =&gt; 2.28551, <span style="color: #CDC673;">'volume'</span> =&gt; 23.152), 
    <span style="color: #FF1493;">array</span>(<span style="color: #CDC673;">'min'</span> =&gt; 1.5460, <span style="color: #CDC673;">'max'</span> =&gt; 2.28552, <span style="color: #CDC673;">'volume'</span> =&gt; 23.152), 
); 

$<span style="color: #FF8C00;">initial</span> = array_shift($<span style="color: #FF8C00;">arr</span>); 

$<span style="color: #FF8C00;">t</span> = array_reduce($<span style="color: #FF8C00;">arr</span>, <span style="color: #FF1493;">function</span>($<span style="color: #FF8C00;">result</span>, $<span style="color: #FF8C00;">item</span>) { 
    $<span style="color: #FF8C00;">result</span>[<span style="color: #CDC673;">'min'</span>] = min($<span style="color: #FF8C00;">result</span>[<span style="color: #CDC673;">'min'</span>], $<span style="color: #FF8C00;">item</span>[<span style="color: #CDC673;">'min'</span>]); 
    $<span style="color: #FF8C00;">result</span>[<span style="color: #CDC673;">'max'</span>] = max($<span style="color: #FF8C00;">result</span>[<span style="color: #CDC673;">'max'</span>], $<span style="color: #FF8C00;">item</span>[<span style="color: #CDC673;">'max'</span>]); 
    $<span style="color: #FF8C00;">result</span>[<span style="color: #CDC673;">'volume'</span>] += $<span style="color: #FF8C00;">item</span>[<span style="color: #CDC673;">'volume'</span>]; 

    <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">result</span>; 
}, $<span style="color: #FF8C00;">initial</span>);
</pre>
</div>
</div>
</div>
<div id="outline-container-org8e644d3" class="outline-4">
<h4 id="org8e644d3"><span class="section-number-4">1.15.4</span> 取出两个数组中相同的内容</h4>
<div class="outline-text-4" id="text-1-15-4">
<div class="org-src-container">
<pre class="src src-php">$<span style="color: #FF8C00;">arr1</span>=<span style="color: #FF1493;">array</span>(<span style="color: #CDC673;">"0"</span>=&gt;<span style="color: #CDC673;">"17"</span>,<span style="color: #CDC673;">"1"</span>=&gt;<span style="color: #CDC673;">"20"</span>,<span style="color: #CDC673;">"2"</span>=&gt;<span style="color: #CDC673;">"36"</span>,<span style="color: #CDC673;">"3"</span>=&gt;<span style="color: #CDC673;">"48"</span>);
$<span style="color: #FF8C00;">arr2</span>=<span style="color: #FF1493;">array</span>(<span style="color: #CDC673;">"0"</span>=&gt;<span style="color: #CDC673;">"17"</span>,<span style="color: #CDC673;">"1"</span>=&gt;<span style="color: #CDC673;">"36"</span>,<span style="color: #CDC673;">"3"</span>=&gt;<span style="color: #CDC673;">"57"</span>);
$<span style="color: #FF8C00;">arr3</span>=array_intersect($<span style="color: #FF8C00;">arr1</span>,$<span style="color: #FF8C00;">arr2</span>);
var_dump(array_unique($<span style="color: #FF8C00;">arr3</span>));
</pre>
</div>
</div>
</div>
<div id="outline-container-org0659250" class="outline-4">
<h4 id="org0659250"><span class="section-number-4">1.15.5</span> 从数组中找到指定元素的位置</h4>
<div class="outline-text-4" id="text-1-15-5">
<div class="org-src-container">
<pre class="src src-php">$<span style="color: #FF8C00;">array</span>=<span style="color: #FF1493;">array</span>(2,3,4,1,5);
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#25214;&#21040;3&#25152;&#22788;&#30340;&#20301;&#32622;</span>
$<span style="color: #FF8C00;">find</span>=3;

<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#31532;&#19968;&#31181;&#26041;&#24335; &#24490;&#29615;&#35299;&#20915; &#27492;&#20030;&#31867;&#20284;&#20110; for while&#31561;&#24490;&#29615;</span>
<span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">find_by_foreach</span>($<span style="color: #FF8C00;">array</span>,$<span style="color: #FF8C00;">find</span>)
{
    <span style="color: #FF1493;">foreach</span> ($<span style="color: #FF8C00;">array</span> <span style="color: #FF1493;">as</span> $<span style="color: #FF8C00;">key</span> =&gt; $<span style="color: #FF8C00;">v</span>)
    {
    <span style="color: #FF1493;">if</span>($<span style="color: #FF8C00;">v</span>==$<span style="color: #FF8C00;">find</span>)
    {
        <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">key</span>;
    }
    }
}
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#31532;&#20108;&#31181;&#26041;&#24335; &#21033;&#29992;&#25968;&#32452;&#26597;&#25214; &#25214;&#21040;&#25152;&#38656;&#35201;&#20803;&#32032;&#30340;&#32034;&#24341;&#20301;&#32622;</span>
<span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">find_by_array_search</span>($<span style="color: #FF8C00;">array</span>,$<span style="color: #FF8C00;">find</span>)
{
    <span style="color: #FF1493;">return</span> array_search($<span style="color: #FF8C00;">find</span>,$<span style="color: #FF8C00;">array</span>);
}

<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#31532;&#19977;&#31181;&#26041;&#24335; &#38190;&#20540;&#21453;&#36716; &#36890;&#36807;&#20540;&#26597;&#25214;&#38190;</span>
<span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">find_by_array_flip</span>($<span style="color: #FF8C00;">array</span>,$<span style="color: #FF8C00;">find</span>)
{
    $<span style="color: #FF8C00;">array</span>=array_flip($<span style="color: #FF8C00;">array</span>);
    <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">array</span>[$<span style="color: #FF8C00;">find</span>];
}

var_dump(find_by_foreach($<span style="color: #FF8C00;">array</span>,$<span style="color: #FF8C00;">find</span>));
var_dump(find_by_array_search($<span style="color: #FF8C00;">array</span>,$<span style="color: #FF8C00;">find</span>));
var_dump(find_by_array_flip($<span style="color: #FF8C00;">array</span>,$<span style="color: #FF8C00;">find</span>));
</pre>
</div>
</div>
</div>
<div id="outline-container-org6fb9a87" class="outline-4">
<h4 id="org6fb9a87"><span class="section-number-4">1.15.6</span> 删除数组中指定值的元素的几种方法</h4>
<div class="outline-text-4" id="text-1-15-6">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">1. &#21033;&#29992;foreach&#21644;unset()&#20989;&#25968;&#21024;&#38500;&#25968;&#32452;&#20013;&#30340;&#29305;&#23450;&#20803;&#32032;</span>
<span style="color: #FF1493;">foreach</span>($<span style="color: #FF8C00;">array</span> <span style="color: #FF1493;">as</span> $<span style="color: #FF8C00;">k</span>=&gt;$<span style="color: #FF8C00;">v</span>){
    <span style="color: #FF1493;">if</span>($<span style="color: #FF8C00;">v</span> == <span style="color: #CDC673;">'day'</span>){
    <span style="color: #FF1493;">unset</span>($<span style="color: #FF8C00;">array</span>[$<span style="color: #AF87FF;">k</span>]):
    }
}

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">2. &#21033;&#29992;array_flip()&#20989;&#25968;&#21644;unset()&#20989;&#25968;&#21024;&#38500;&#25968;&#32452;&#20013;&#30340;&#29305;&#23450;&#20540;</span>
$<span style="color: #FF8C00;">arr</span> = array_flip($<span style="color: #FF8C00;">arr</span>);
<span style="color: #FF1493;">unset</span>($<span style="color: #FF8C00;">arr</span>[<span style="color: #CDC673;">'world'</span>]);

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">3. &#21033;&#29992;array_search()&#21644;unset()&#20989;&#25968;&#21024;&#38500;&#25968;&#32452;&#20013;&#30340;&#29305;&#23450;&#20540;</span>
<span style="color: #FF1493;">if</span>(($<span style="color: #FF8C00;">key</span> = array_search(<span style="color: #CDC673;">'day'</span>,$<span style="color: #FF8C00;">arr</span>))){
    <span style="color: #FF1493;">unset</span>($<span style="color: #FF8C00;">arr</span>[$<span style="color: #FF8C00;">key</span>]);
}

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">4. array_splice()&#20989;&#25968;&#21487;&#20197;&#19982;unset()&#20989;&#25968;&#36215;&#21040;&#30456;&#21516;&#20316;&#29992;</span>
<span style="color: #FF1493;">if</span>(($<span style="color: #FF8C00;">key</span> = array_search(<span style="color: #CDC673;">'day'</span>,$<span style="color: #FF8C00;">arr</span>))){
    array_splice($<span style="color: #FF8C00;">arr</span>, $<span style="color: #FF8C00;">key</span>,1);
}
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb354777" class="outline-4">
<h4 id="orgb354777"><span class="section-number-4">1.15.7</span> 根据某一个键值合并生成一个新的二维数组</h4>
<div class="outline-text-4" id="text-1-15-7">
<div class="org-src-container">
<pre class="src src-php">$<span style="color: #FF8C00;">result</span>= <span style="color: #FF1493;">array</span>();
<span style="color: #FF1493;">foreach</span> ($<span style="color: #FF8C00;">infos</span> <span style="color: #FF1493;">as</span> $<span style="color: #FF8C00;">key</span> =&gt; $<span style="color: #FF8C00;">info</span>) {
    $<span style="color: #FF8C00;">result</span>[$<span style="color: #FF8C00;">info</span>[<span style="color: #CDC673;">'a'</span>]][] = $<span style="color: #FF8C00;">info</span>;
}
print_r($<span style="color: #FF8C00;">result</span>);
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbfeb9d6" class="outline-4">
<h4 id="orgbfeb9d6"><span class="section-number-4">1.15.8</span> 无限级树</h4>
<div class="outline-text-4" id="text-1-15-8">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #CDC673;">/**</span>
<span style="color: #CDC673;"> * &#29983;&#25104;&#26080;&#38480;&#32423;&#26641;&#31639;&#27861;</span>
<span style="color: #CDC673;"> * </span><span style="color: #AF87FF;">@param</span><span style="color: #CDC673;">  </span><span style="color: #5FD7FF;">array</span><span style="color: #CDC673;">  </span><span style="color: #FF8C00;">$</span><span style="color: #FF8C00;">arr</span><span style="color: #CDC673;">                &#36755;&#20837;&#25968;&#32452;</span>
<span style="color: #CDC673;"> * </span><span style="color: #AF87FF;">@param</span><span style="color: #CDC673;">  </span><span style="color: #5FD7FF;">number</span><span style="color: #CDC673;"> </span><span style="color: #FF8C00;">$</span><span style="color: #FF8C00;">pid</span><span style="color: #CDC673;">                &#26681;&#32423;&#30340;pid</span>
<span style="color: #CDC673;"> * </span><span style="color: #AF87FF;">@param</span><span style="color: #CDC673;">  </span><span style="color: #5FD7FF;">string</span><span style="color: #CDC673;"> </span><span style="color: #FF8C00;">$</span><span style="color: #FF8C00;">column_name</span><span style="color: #CDC673;">        &#21015;&#21517;,id|pid&#29238;id&#30340;&#21517;&#23383;|children&#23376;&#25968;&#32452;&#30340;&#38190;&#21517;</span>
<span style="color: #CDC673;"> * </span><span style="color: #AF87FF;">@return</span><span style="color: #CDC673;"> </span><span style="color: #5FD7FF;">array</span><span style="color: #CDC673;">  </span><span style="color: #FF8C00;">$</span><span style="color: #FF8C00;">ret</span>
<span style="color: #CDC673;"> */</span>
<span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">make_tree</span>($<span style="color: #FF8C00;">arr</span>, $<span style="color: #FF8C00;">pid</span> = 0, $<span style="color: #FF8C00;">column_name</span> = <span style="color: #CDC673;">'id|pid|children'</span>) {
    <span style="color: #FF1493;">list</span>($<span style="color: #FF8C00;">idname</span>, $<span style="color: #FF8C00;">pidname</span>, $<span style="color: #FF8C00;">cldname</span>) = explode(<span style="color: #CDC673;">'|'</span>, $<span style="color: #FF8C00;">column_name</span>);
    $<span style="color: #FF8C00;">ret</span> = <span style="color: #FF1493;">array</span>();
    <span style="color: #FF1493;">foreach</span> ($<span style="color: #FF8C00;">arr</span> <span style="color: #FF1493;">as</span> $<span style="color: #FF8C00;">k</span> =&gt; $<span style="color: #FF8C00;">v</span>) {
    <span style="color: #FF1493;">if</span> ($<span style="color: #FF8C00;">v</span>[$<span style="color: #FF8C00;">pidname</span>] == $<span style="color: #FF8C00;">pid</span>) {
        $<span style="color: #FF8C00;">tmp</span> = $<span style="color: #FF8C00;">arr</span>[$<span style="color: #FF8C00;">k</span>];
        <span style="color: #FF1493;">unset</span>($<span style="color: #FF8C00;">arr</span>[$<span style="color: #FF8C00;">k</span>]);
        $<span style="color: #FF8C00;">tmp</span>[$<span style="color: #FF8C00;">cldname</span>] = make_tree($<span style="color: #FF8C00;">arr</span>, $<span style="color: #FF8C00;">v</span>[$<span style="color: #FF8C00;">idname</span>], $<span style="color: #FF8C00;">column_name</span>);
        $<span style="color: #FF8C00;">ret</span>[] = $<span style="color: #FF8C00;">tmp</span>;
    }
    }
    <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">ret</span>;
}
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org2ca02ee" class="outline-3">
<h3 id="org2ca02ee"><span class="section-number-3">1.16</span> 魔术方法</h3>
<div class="outline-text-3" id="text-1-16">
<ol class="org-ol">
<li>__construct()，类的构造函数</li>
<li>__destruct()，类的析构函数</li>
<li><p>
__call()，在对象中调用一个不可访问方法时调用
</p>
<pre class="example">
实例化的对象执行没有定义的方法或无权限访问的方法会报错，但是通过__call方法可以避免报错，并输出一些提示信息！
</pre>

<div class="org-src-container">
<pre class="src src-php"><span style="color: #5FD7FF;">class</span> <span style="color: #FF8C00;">C</span>{
    <span style="color: #FF1493;">public</span> <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">show</span>(){
    <span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">'show'</span>;
    }
    <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">__call</span>($<span style="color: #FF8C00;">methodName</span><span style="color: #8B8878;">/*</span><span style="color: #8B8878;">&#26041;&#27861;&#21517;</span><span style="color: #8B8878;">*/</span>,$<span style="color: #FF8C00;">args</span><span style="color: #8B8878;">/*</span><span style="color: #8B8878;">&#21442;&#25968;</span><span style="color: #8B8878;">*/</span>){
    <span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">methodName</span>;
    }
}
$<span style="color: #FF8C00;">c</span> = <span style="color: #FF1493;">new</span> C();
$<span style="color: #FF8C00;">c</span>-&gt;go();
</pre>
</div></li>
<li>__callStatic()，用静态方式中调用一个不可访问方法时调用</li>
<li><p>
__get()，获得一个类的成员变量时调用，通过它可以在对象的外部获取私有成员属性的值。
</p>
<pre class="example">
当调用一个权限上不允许调用的属性或不存在的属性时，__get魔术方法会自动调用，并且自动传参，参数值是属性名。
</pre>

<div class="org-src-container">
<pre class="src src-php"><span style="color: #5FD7FF;">class</span> <span style="color: #FF8C00;">Person</span>{
    <span style="color: #FF1493;">public</span> $<span style="color: #FF8C00;">name</span> = <span style="color: #CDC673;">'fxxy'</span>;
    <span style="color: #FF1493;">protected</span> $<span style="color: #FF8C00;">age</span> = 23;
    <span style="color: #FF1493;">private</span> $<span style="color: #FF8C00;">sex</span> = <span style="color: #CDC673;">'man'</span>;
    <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">__get</span>($<span style="color: #FF8C00;">var</span>){
    <span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">'&#20320;&#24819;&#35775;&#38382;&#25105;&#30340;'</span>.$<span style="color: #FF8C00;">var</span>.<span style="color: #CDC673;">'&#23646;&#24615;'</span>;
    }
}
$<span style="color: #FF8C00;">person</span> = <span style="color: #FF1493;">new</span> Person();
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">person</span>-&gt;<span style="color: #FF8C00;">name</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">fxxy</span>
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">person</span>-&gt;<span style="color: #FF8C00;">age</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#20320;&#24819;&#35775;&#38382;&#25105;&#30340;age&#23646;&#24615;</span>
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">person</span>-&gt;<span style="color: #FF8C00;">sex</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#20320;&#24819;&#35775;&#38382;&#25105;&#30340;sex&#23646;&#24615;</span>
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">'&lt;pre/&gt;'</span>;
print_r($<span style="color: #FF8C00;">person</span>);
</pre>
</div></li>
<li><p>
__set()，设置一个类的成员变量时调用，用来设置私有属性值。
</p>
<pre class="example">
当给一个权限上不允许直接访问或者是不存在的属性设置属性值时，__set魔术方法会自动调用
</pre>

<div class="org-src-container">
<pre class="src src-php"><span style="color: #5FD7FF;">class</span> <span style="color: #FF8C00;">Person</span>{
    <span style="color: #FF1493;">public</span> $<span style="color: #FF8C00;">name</span>;
    <span style="color: #FF1493;">protected</span> $<span style="color: #FF8C00;">age</span>;
    <span style="color: #FF1493;">private</span> $<span style="color: #FF8C00;">sex</span>;
    <span style="color: #FF1493;">public</span> <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">__set</span>($<span style="color: #FF8C00;">a</span>,$<span style="color: #FF8C00;">b</span>){
    <span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">'&#20320;&#24819;&#32473;&#25105;&#30340;'</span>.$<span style="color: #FF8C00;">a</span>.<span style="color: #CDC673;">'&#36171;&#20540;'</span>.<span style="color: #CDC673;">'&#24182;&#19988;&#20540;&#26159;'</span>.$<span style="color: #FF8C00;">b</span>.<span style="color: #CDC673;">'&lt;br/&gt;'</span>;
    }
}
$<span style="color: #FF8C00;">person</span> = <span style="color: #FF1493;">new</span> Person();
$<span style="color: #FF8C00;">person</span>-&gt;<span style="color: #FF8C00;">name</span> = <span style="color: #CDC673;">'fxxy'</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">fxxy</span>
$<span style="color: #FF8C00;">person</span>-&gt;<span style="color: #FF8C00;">age</span> = <span style="color: #CDC673;">'28'</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#20320;&#24819;&#32473;&#25105;&#30340;age&#36171;&#20540;&#24182;&#19988;&#20540;&#26159;28</span>
$<span style="color: #FF8C00;">person</span>-&gt;<span style="color: #FF8C00;">sex</span> = <span style="color: #CDC673;">'man'</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#20320;&#24819;&#32473;&#25105;&#30340;sex&#36171;&#20540;&#24182;&#19988;&#20540;&#26159;man</span>
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">person</span>-&gt;<span style="color: #FF8C00;">name</span>.<span style="color: #CDC673;">'&lt;br/&gt;'</span>;
</pre>
</div></li>
<li><p>
__isset()，当对private属性调用isset()或empty()时调用。
</p>
<pre class="example">
用isset()判断某个某个属性属性是否存在时，__isset()自动执行。
</pre></li>
<li><p>
__unset()，当对private属性调用unset()时被调用。
</p>
<pre class="example">
用unset()清除一个权限上不允许访问或者是不存在的属性时，__unset()自动执行。
</pre></li>
<li>__sleep()，执行serialize()时，先会调用这个函数，然后才执行序列化操作。这个方法返回一个数组，数组元素就是类属性，可以包括全部的类属性，也可以随便包括其中的几个。</li>
<li><p>
__wakeup()，执行unserialize()时，先会调用这个函数，unserialize()函数可以重新还原一个被serialize()函数序列化的对象，__wakeup()方法则是恢复在序列中可能丢失的数据库连接及相关工作！
因为对象是存储在内存中的，为了提高程序运行效率，当某个对象使用完成之后，就会被垃圾回收机制回收，所以它不可能永久的保存在内存中，这样的话如果其他页面也需要用到这个对象，就比较困难了，这个时候可以把对象利用serialiaze()方法序列化，然后保存在到一个或数据库中，这样的话其他页面就可以随时调用了，然后想要删除这个序列化的对象也是很简单的。
</p>
<div class="org-src-container">
<pre class="src src-php"><span style="color: #5FD7FF;">class</span> <span style="color: #FF8C00;">Person</span>{
    <span style="color: #FF1493;">public</span> $<span style="color: #FF8C00;">name</span>;
    <span style="color: #FF1493;">public</span> $<span style="color: #FF8C00;">sex</span>;
    <span style="color: #FF1493;">private</span> $<span style="color: #FF8C00;">age</span>;
    <span style="color: #FF1493;">public</span> <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">__construct</span>($<span style="color: #FF8C00;">name</span>,$<span style="color: #FF8C00;">sex</span>,$<span style="color: #FF8C00;">age</span>){
    <span style="color: #AF87FF;">$</span><span style="color: #AF87FF;">this</span>-&gt;<span style="color: #FF8C00;">name</span> = $<span style="color: #FF8C00;">name</span>;
    <span style="color: #AF87FF;">$</span><span style="color: #AF87FF;">this</span>-&gt;<span style="color: #FF8C00;">sex</span> = $<span style="color: #FF8C00;">sex</span>;
    <span style="color: #AF87FF;">$</span><span style="color: #AF87FF;">this</span>-&gt;<span style="color: #FF8C00;">age</span> = $<span style="color: #FF8C00;">age</span>;
    }
    <span style="color: #FF1493;">public</span> <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">__sleep</span>(){
    <span style="color: #FF1493;">return</span> <span style="color: #FF1493;">array</span>(<span style="color: #CDC673;">'name'</span>,<span style="color: #CDC673;">'age'</span>);
    }
    <span style="color: #FF1493;">public</span> <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">__wakeup</span>(){
    $<span style="color: #FF8C00;">age</span>+=1;
    <span style="color: #FF1493;">return</span> <span style="color: #AF87FF;">$</span><span style="color: #AF87FF;">this</span>-&gt;<span style="color: #FF8C00;">name</span>;
    }
}
$<span style="color: #FF8C00;">person</span> = <span style="color: #FF1493;">new</span> Person(<span style="color: #CDC673;">'fxxy'</span>,<span style="color: #CDC673;">'man'</span>,28);
$<span style="color: #FF8C00;">p1</span> = serialize($<span style="color: #FF8C00;">person</span>);
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">p1</span>.<span style="color: #CDC673;">'&lt;br/&gt;'</span>;
$<span style="color: #FF8C00;">p2</span> = unserialize($<span style="color: #FF8C00;">p1</span>);
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">p2</span>-&gt;<span style="color: #FF8C00;">name</span>;
</pre>
</div></li>
<li><p>
__toString()，类被当成字符串时的回应方法
</p>
<pre class="example">
实例化的对象不可以直接用echo输出，但是如果类中有__toString方法，就可以输出相应的信息。
</pre>

<div class="org-src-container">
<pre class="src src-php"><span style="color: #5FD7FF;">class</span> <span style="color: #FF8C00;">B</span>{
    <span style="color: #FF1493;">private</span> $<span style="color: #FF8C00;">host</span>;
    <span style="color: #FF1493;">private</span> $<span style="color: #FF8C00;">dbname</span>;
    <span style="color: #FF1493;">private</span> $<span style="color: #FF8C00;">user</span>;
    <span style="color: #FF1493;">private</span> $<span style="color: #FF8C00;">pwd</span>;
    <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">__construct</span>($<span style="color: #FF8C00;">host</span>,$<span style="color: #FF8C00;">dbname</span>,$<span style="color: #FF8C00;">user</span>,$<span style="color: #FF8C00;">pwd</span>){
    <span style="color: #AF87FF;">$</span><span style="color: #AF87FF;">this</span>-&gt;<span style="color: #FF8C00;">host</span> = $<span style="color: #FF8C00;">host</span>;
    <span style="color: #AF87FF;">$</span><span style="color: #AF87FF;">this</span>-&gt;<span style="color: #FF8C00;">dbname</span> = $<span style="color: #FF8C00;">dbname</span>;
    <span style="color: #AF87FF;">$</span><span style="color: #AF87FF;">this</span>-&gt;<span style="color: #FF8C00;">user</span> = $<span style="color: #FF8C00;">user</span>;
    <span style="color: #AF87FF;">$</span><span style="color: #AF87FF;">this</span>-&gt;<span style="color: #FF8C00;">pwd</span> = $<span style="color: #FF8C00;">pwd</span>;
    }
    <span style="color: #FF1493;">public</span> <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">connect</span>(){
    <span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">'&#36830;&#25509;&#25968;&#25454;&#24211;'</span>;
    }
    <span style="color: #FF1493;">public</span> <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">gettable</span>(){
    <span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">'&#33719;&#24471;&#34920;&#21517;'</span>;
    }
    <span style="color: #FF1493;">public</span> <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">insert</span>(){
    <span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">'&#25554;&#20837;&#25968;&#25454;&#24211;'</span>;
    }
    <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">__toString</span>(){
    $<span style="color: #FF8C00;">method</span> = get_class_methods(<span style="color: #FF1493;">__CLASS__</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#33719;&#24471;&#24403;&#21069;&#31867;&#30340;&#25152;&#26377;&#26041;&#27861;&#65288;&#25968;&#32452;&#24418;&#24335;&#65289;</span>
    $<span style="color: #FF8C00;">methodString</span> = implode(<span style="color: #CDC673;">'&#12289;'</span>,$<span style="color: #FF8C00;">method</span>);
    <span style="color: #8B8878;">//</span><span style="color: #8B8878;">return $methodString;//__construct&#12289;connect&#12289;gettable&#12289;insert&#12289;__toString</span>

    $<span style="color: #FF8C00;">vars</span> = get_object_vars(<span style="color: #AF87FF;">$</span><span style="color: #AF87FF;">this</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#33719;&#24471;&#24403;&#21069;&#23545;&#35937;&#30340;&#25152;&#26377;&#23646;&#24615;&#65288;&#25968;&#32452;&#24418;&#24335;&#65289;</span>
    $<span style="color: #FF8C00;">varsString</span> = implode(<span style="color: #CDC673;">'&#12289;'</span>,$<span style="color: #FF8C00;">vars</span>);
    <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">varsString</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">localhost&#12289;mydb&#12289;admin&#12289;admin</span>
    }
}
$<span style="color: #FF8C00;">b</span> = <span style="color: #FF1493;">new</span> B(<span style="color: #CDC673;">'localhost'</span>,<span style="color: #CDC673;">'mydb'</span>,<span style="color: #CDC673;">'admin'</span>,<span style="color: #CDC673;">'admin'</span>);
<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">b</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#22914;&#26524;&#31867;&#20013;&#27809;&#26377;__toString&#26041;&#27861;&#20250;&#25253;&#38169;</span>

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#22914;&#26524;&#27809;&#26377;toString()&#26041;&#27861;&#65292;&#30452;&#25509;&#36755;&#20986;&#23545;&#35937;&#23545;&#21457;&#29983;&#33268;&#21629;&#24615;&#38169;&#35823;&#12290;</span>
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#27880;&#24847;&#65306;echo&#25110;print_r&#20989;&#25968;&#21518;&#38754;&#30452;&#25509;&#36319;&#36755;&#20986;&#30340;&#23545;&#35937;&#65292;&#20013;&#38388;&#19981;&#35201;&#21152;&#20854;&#20182;&#22810;&#20313;&#30340;&#23383;&#31526;&#65292;&#21542;&#21017;__toString()&#26041;&#27861;&#19981;&#20250;&#34987;&#25191;&#34892;&#65292;&#20363;&#22914;&#36825;&#31181;&#24773;&#20917;&#65306;echo '&#36755;&#20986;&#23545;&#35937;'.$obj;</span>
</pre>
</div></li>
<li>__invoke()，调用函数的方式调用一个对象时的回应方法。</li>
<li>__set_state()，调用var_export()导出类时，此静态方法会被调用。</li>
<li><p>
__clone()，当对象复制完成时调用（一个对象克隆另一个对象的时候）。
</p>
<pre class="example">
__clone()里边的$this代表副本中的对象。$that代表原对象。
</pre>

<div class="org-src-container">
<pre class="src src-php"><span style="color: #5FD7FF;">class</span> <span style="color: #FF8C00;">A</span>{
    <span style="color: #FF1493;">public</span> $<span style="color: #FF8C00;">num</span> = 1;
    <span style="color: #FF1493;">public</span> <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">show</span>(){
    <span style="color: #FF1493;">echo</span> <span style="color: #AF87FF;">$</span><span style="color: #AF87FF;">this</span>-&gt;<span style="color: #FF8C00;">num</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">1</span>
    }
    <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">__clone</span>(){
    <span style="color: #FF1493;">echo</span> ++<span style="color: #AF87FF;">$</span><span style="color: #AF87FF;">this</span>-&gt;<span style="color: #FF8C00;">num</span>;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">2</span>
    }
}
$<span style="color: #FF8C00;">a</span> = <span style="color: #FF1493;">new</span> A();

$<span style="color: #FF8C00;">b</span> = $<span style="color: #FF8C00;">a</span>;
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">intval</span>($<span style="color: #FF8C00;">a</span>===$<span style="color: #FF8C00;">b</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">1</span>

<span style="color: #FF1493;">echo</span> $<span style="color: #FF8C00;">a</span>-&gt;show();
$<span style="color: #FF8C00;">b</span> = <span style="color: #FF1493;">clone</span> $<span style="color: #FF8C00;">a</span>;
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">echo intval($a===$b);//0,&#20869;&#23481;&#34429;&#28982;&#19968;&#26679;&#65292;&#20294;&#26159;&#22312;&#20869;&#23384;&#20013;&#30340;&#22320;&#22336;&#19981;&#21516;</span>
</pre>
</div></li>
<li><p>
__autoload()，尝试加载未定义的类
</p>
<pre class="example">
其他的魔术方法都是在类中添加起作用，这是一个唯一不在类中添加的方法。
只要在页面中使用到一个类，只要用到类名，就会自动将类名传给__autoload()的参数。
</pre>

<p>
<b>代码示例</b>
</p>
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">test.php</span>
<span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">__autoload</span>($<span style="color: #FF8C00;">className</span>){
    <span style="color: #FF1493;">include</span> $<span style="color: #FF8C00;">className</span>.<span style="color: #CDC673;">'.class.php'</span>;
}
$<span style="color: #FF8C00;">one</span> = <span style="color: #FF1493;">new</span> OneAction();
$<span style="color: #FF8C00;">two</span> = <span style="color: #FF1493;">new</span> TwoAction();
$<span style="color: #FF8C00;">three</span> = <span style="color: #FF1493;">new</span> ThreeAction();

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">OneAction.class.php</span>
<span style="color: #5FD7FF;">class</span> <span style="color: #FF8C00;">OneAction</span>{
    <span style="color: #FF1493;">public</span> <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">__construct</span>(){
    <span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">'oneAction'</span>.<span style="color: #CDC673;">'&lt;br/&gt;'</span>;
    }
}

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">TwoAction.class.php</span>
<span style="color: #5FD7FF;">class</span> <span style="color: #FF8C00;">TwoAction</span>{
    <span style="color: #FF1493;">public</span> <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">__construct</span>(){
    <span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">'twoAction'</span>.<span style="color: #CDC673;">'&lt;br/&gt;'</span>;
    }
}

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">ThreeAction.class.php</span>
<span style="color: #5FD7FF;">class</span> <span style="color: #FF8C00;">ThreeAction</span>{
    <span style="color: #FF1493;">public</span> <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">__construct</span>(){
    <span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">'threeAction'</span>.<span style="color: #CDC673;">'&lt;br/&gt;'</span>;
    }
}

</pre>
</div></li>
<li>__debugInfo()，打印所需调试信息</li>
</ol>
</div>
</div>
<div id="outline-container-orga485db3" class="outline-3">
<h3 id="orga485db3"><span class="section-number-3">1.17</span> 面向对象方法get_object_vars、is_subclass_of、interface_exists</h3>
<div class="outline-text-3" id="text-1-17">
<ol class="org-ol">
<li>get_object_vars($obj) 获得对象的属性，以关联数组形式返回。</li>
<li>get_parent_class()，参数是对象或者是类名，获得父类。</li>
<li>is_subclass_of($obj,$class)：判断对象是否是某个类的子类实例化产生的。</li>
<li>interface_exists():判断接口是否存在。</li>
<li>get_class():获得当前对象是哪个类实例化出来的。</li>
<li>get_declared_classes()：以数组形式返回当前脚本中所有的类。</li>
<li>get_declared_interfaces()：以数组形式返回当前脚本中的所有接口。</li>
<li>method_exists():判断某个类中是否存在某个方法，也就是检查类的方法是否存在。</li>
<li>property_exists():判断某个类中是否存在某个属性，也就是检查类的属性是否存在。</li>
<li>instanceof:判断某个对象是否是某个类实例化产生的。</li>
<li></li>
</ol>
</div>
</div>
<div id="outline-container-org93941e5" class="outline-3">
<h3 id="org93941e5"><span class="section-number-3">1.18</span> mysql, mysqli, pdo 区别</h3>
</div>
<div id="outline-container-org4e9bd2d" class="outline-3">
<h3 id="org4e9bd2d"><span class="section-number-3">1.19</span> PHP 命令传参</h3>
<div class="outline-text-3" id="text-1-19">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">1. &#20351;&#29992; $argc $argv &#25509;&#21463;&#21442;&#25968;</span>
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">"&#25509;&#25910;&#21040;</span><span style="color: #FF8C00;">{$argc}</span><span style="color: #CDC673;">&#20010;&#21442;&#25968;"</span>;
print_r($<span style="color: #FF8C00;">argv</span>);

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">2. &#20351;&#29992;getopt&#20989;&#25968;</span>
$<span style="color: #FF8C00;">param_arr</span> = getopt(<span style="color: #CDC673;">'name:age:'</span>);<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#21482;&#25509;&#21463;name&#21644;age&#20004;&#20010;&#21442;&#25968;</span>
print_r($<span style="color: #FF8C00;">param_arr</span>);
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">$ php test.php -name john</span>

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">3. &#36890;&#36807; php &#31995;&#32479;&#23450;&#20041; CLI &#30340;&#24120;&#37327;&#65306;STDIN , STDOUT , STDERR</span>
$<span style="color: #FF8C00;">fs</span> = <span style="color: #AF87FF;">true</span>;
$<span style="color: #FF8C00;">username</span> = <span style="color: #CDC673;">''</span>;
<span style="color: #FF1493;">do</span> {
    <span style="color: #FF1493;">if</span> ($<span style="color: #FF8C00;">fs</span>) {
    fwrite(<span style="color: #AF87FF;">STDOUT</span>, <span style="color: #CDC673;">'&#35831;&#36755;&#20837;&#29992;&#25143;&#21517;&#65306;'</span>);
    $<span style="color: #FF8C00;">fs</span> = <span style="color: #AF87FF;">false</span>;
    } <span style="color: #FF1493;">else</span> {
    fwrite(<span style="color: #AF87FF;">STDOUT</span>, <span style="color: #CDC673;">'&#25265;&#27465;&#65292;&#29992;&#25143;&#21517;&#19981;&#33021;&#20026;&#31354;&#65292;&#35831;&#37325;&#26032;&#36755;&#20837;&#65306;'</span>);
    }
    $<span style="color: #FF8C00;">username</span> = trim(fgets(<span style="color: #AF87FF;">STDIN</span>));
} <span style="color: #FF1493;">while</span> (!$<span style="color: #FF8C00;">username</span>);
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">'&#24744;&#36755;&#20837;&#30340;&#29992;&#25143;&#21517;&#26159;&#65306;'</span> . $<span style="color: #FF8C00;">username</span> . <span style="color: #CDC673;">"\r\n"</span>;

</pre>
</div>
</div>
</div>
<div id="outline-container-orgadd7f95" class="outline-3">
<h3 id="orgadd7f95"><span class="section-number-3">1.20</span> PHP生成唯一标识的方法</h3>
<div class="outline-text-3" id="text-1-20">
<pre class="example">
md5(time() . uniqid("", true));
</pre>
</div>
</div>
<div id="outline-container-org7e80c8e" class="outline-3">
<h3 id="org7e80c8e"><span class="section-number-3">1.21</span> PHP手机号码中间4位加密</h3>
<div class="outline-text-3" id="text-1-21">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #CDC673;">/**</span>
<span style="color: #CDC673;"> * &#20013;&#38388;&#21152;&#23494; &#23383;&#31526;&#20018;&#25130;&#21462;&#27861;</span>
<span style="color: #CDC673;"> */</span>
<span style="color: #FF1493;">public</span> <span style="color: #FF1493;">static</span> <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">encryptTel</span>($<span style="color: #FF8C00;">tel</span>) {
    $<span style="color: #FF8C00;">new_tel</span> = substr($<span style="color: #FF8C00;">tel</span>, 0, 3).<span style="color: #CDC673;">'****'</span>.substr($<span style="color: #FF8C00;">tel</span>, 7);
    <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">new_tel</span>;
}
<span style="color: #CDC673;">/**</span>
<span style="color: #CDC673;"> * &#20013;&#38388;&#21152;&#23494; &#26367;&#25442;&#23383;&#31526;&#20018;&#30340;&#23376;&#20018;</span>
<span style="color: #CDC673;"> */</span>
<span style="color: #FF1493;">public</span> <span style="color: #FF1493;">static</span> <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">encryptTel</span>($<span style="color: #FF8C00;">tel</span>) {
    $<span style="color: #FF8C00;">new_tel</span> = substr_replace($<span style="color: #FF8C00;">tel</span>, <span style="color: #CDC673;">'****'</span>, 3, 4);
    <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">new_tel</span>;
}
<span style="color: #CDC673;">/**</span>
<span style="color: #CDC673;"> * &#20013;&#38388;&#21152;&#23494; &#29992;&#27491;&#21017;</span>
<span style="color: #CDC673;"> */</span>
<span style="color: #FF1493;">public</span> <span style="color: #FF1493;">static</span> <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">encryptTel</span>($<span style="color: #FF8C00;">tel</span>) {
    $<span style="color: #FF8C00;">new_tel</span> = preg_replace(<span style="color: #CDC673;">'/(\d{3})\d{4}(\d{4})/'</span>, <span style="color: #CDC673;">'$1****$2'</span>, $<span style="color: #FF8C00;">tel</span>);
    <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">new_tel</span>;
}

</pre>
</div>
</div>
</div>
<div id="outline-container-org4a2937a" class="outline-3">
<h3 id="org4a2937a"><span class="section-number-3">1.22</span> 在字符串指定位置插入字符串</h3>
<div class="outline-text-3" id="text-1-22">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">str_insert</span>($<span style="color: #FF8C00;">str</span>,$<span style="color: #FF8C00;">i</span>,$<span style="color: #FF8C00;">subStr</span>){
    <span style="color: #FF1493;">for</span>($<span style="color: #FF8C00;">j</span>=0;$<span style="color: #FF8C00;">j</span>&lt;$<span style="color: #FF8C00;">i</span>;$<span style="color: #FF8C00;">j</span>++){
    $<span style="color: #FF8C00;">startStr</span> .=$<span style="color: #FF8C00;">str</span>[$<span style="color: #FF8C00;">j</span>];
    }
    <span style="color: #FF1493;">for</span>($<span style="color: #FF8C00;">j</span>=$<span style="color: #FF8C00;">i</span>;$<span style="color: #FF8C00;">j</span>&lt;strlen($<span style="color: #FF8C00;">str</span>);$<span style="color: #FF8C00;">j</span>++){
    $<span style="color: #FF8C00;">lastStr</span> .= $<span style="color: #FF8C00;">str</span>[$<span style="color: #FF8C00;">j</span>];
    }
    $<span style="color: #FF8C00;">newStr</span> = $<span style="color: #FF8C00;">startStr</span>.$<span style="color: #FF8C00;">subStr</span>.$<span style="color: #FF8C00;">lastStr</span>;
    <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">newStr</span>;
}
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf9359a8" class="outline-3">
<h3 id="orgf9359a8"><span class="section-number-3">1.23</span> 数值中去除无效的0</h3>
<div class="outline-text-3" id="text-1-23">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #CDC673;">/**</span>
<span style="color: #CDC673;"> * &#21435;&#38500;&#22810;&#20313;&#30340;0</span>
<span style="color: #CDC673;"> */</span>
<span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">del0</span>($<span style="color: #FF8C00;">s</span>)
{
    $<span style="color: #FF8C00;">s</span> = trim(strval($<span style="color: #FF8C00;">s</span>));
    <span style="color: #FF1493;">if</span> (preg_match(<span style="color: #CDC673;">'#^-?\d+?\.0+$#'</span>, $<span style="color: #FF8C00;">s</span>)) {
    <span style="color: #FF1493;">return</span> preg_replace(<span style="color: #CDC673;">'#^(-?\d+?)\.0+$#'</span>,<span style="color: #CDC673;">'$1'</span>,$<span style="color: #FF8C00;">s</span>);
    }
    <span style="color: #FF1493;">if</span> (preg_match(<span style="color: #CDC673;">'#^-?\d+?\.[0-9]+?0+$#'</span>, $<span style="color: #FF8C00;">s</span>)) {
    <span style="color: #FF1493;">return</span> preg_replace(<span style="color: #CDC673;">'#^(-?\d+\.[0-9]+?)0+$#'</span>,<span style="color: #CDC673;">'$1'</span>,$<span style="color: #FF8C00;">s</span>);
    }
    <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">s</span>;
}
</pre>
</div>
</div>
</div>
<div id="outline-container-orga899743" class="outline-3">
<h3 id="orga899743"><span class="section-number-3">1.24</span> PHP 生成UUID我唯一序列</h3>
<div class="outline-text-3" id="text-1-24">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">uuid</span>($<span style="color: #FF8C00;">prefix</span> =<span style="color: #CDC673;">''</span>)
{
    $<span style="color: #FF8C00;">chars</span> = md5(uniqid(mt_rand(), <span style="color: #AF87FF;">true</span>));
    $<span style="color: #FF8C00;">uuid</span> = substr($<span style="color: #FF8C00;">chars</span>,0,8) . <span style="color: #CDC673;">'-'</span>;
    $<span style="color: #FF8C00;">uuid</span> .= substr($<span style="color: #FF8C00;">chars</span>,8,4) . <span style="color: #CDC673;">'-'</span>;
    $<span style="color: #FF8C00;">uuid</span> .= substr($<span style="color: #FF8C00;">chars</span>,12,4) . <span style="color: #CDC673;">'-'</span>;
    $<span style="color: #FF8C00;">uuid</span> .= substr($<span style="color: #FF8C00;">chars</span>,16,4) . <span style="color: #CDC673;">'-'</span>;
    $<span style="color: #FF8C00;">uuid</span> .= substr($<span style="color: #FF8C00;">chars</span>,20,12);
    <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">prefix</span> . $<span style="color: #FF8C00;">uuid</span>;
}

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#20063;&#21487;&#20197;&#20351;&#29992;SQL&#35821;&#21477;&#29983;&#25104;&#65306;</span>
&gt; insert into Price( Name, <span style="color: #AF87FF;">UUID</span>, Price) values(<span style="color: #CDC673;">'FEIFEI_TEST'</span>, uuid(), 32);

</pre>
</div>
</div>
</div>
<div id="outline-container-orgacd4906" class="outline-3">
<h3 id="orgacd4906"><span class="section-number-3">1.25</span> 获取上个月第一天及最后一天</h3>
<div class="outline-text-3" id="text-1-25">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">date</span>(<span style="color: #CDC673;">'Y-m-01'</span>, strtotime(<span style="color: #CDC673;">'-1 month'</span>));
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">date</span>(<span style="color: #CDC673;">'Y-m-t'</span>, strtotime(<span style="color: #CDC673;">'-1 month'</span>));
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#19978;&#20010;&#26376;&#31532;&#19968;&#22825;,  &#35745;&#31639;&#20986;&#26412;&#26376;&#31532;&#19968;&#22825;&#20877;&#20943;&#19968;&#20010;&#26376;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">date</span>(<span style="color: #CDC673;">'Y-m-d'</span>, strtotime(date(<span style="color: #CDC673;">'Y-m-01'</span>) . <span style="color: #CDC673;">' -1 month'</span>));
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#19978;&#20010;&#26376;&#26368;&#21518;&#19968;&#22825;,// &#35745;&#31639;&#20986;&#26412;&#26376;&#31532;&#19968;&#22825;&#20877;&#20943;&#19968;&#22825;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">date</span>(<span style="color: #CDC673;">'Y-m-d'</span>, strtotime(date(<span style="color: #CDC673;">'Y-m-01'</span>) . <span style="color: #CDC673;">' -1 day'</span>));
</pre>
</div>
</div>
</div>
<div id="outline-container-org1a72d20" class="outline-3">
<h3 id="org1a72d20"><span class="section-number-3">1.26</span> 获取当月第一天及最后一天</h3>
<div class="outline-text-3" id="text-1-26">
<div class="org-src-container">
<pre class="src src-php">$<span style="color: #FF8C00;">BeginDate</span>=date(<span style="color: #CDC673;">'Y-m-01'</span>, strtotime(date(<span style="color: #CDC673;">"Y-m-d"</span>)));
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">date</span>(<span style="color: #CDC673;">'Y-m-d'</span>, strtotime(<span style="color: #CDC673;">"</span><span style="color: #FF8C00;">$BeginDate</span><span style="color: #CDC673;"> +1 month -1 day"</span>));
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd4e1d4e" class="outline-3">
<h3 id="orgd4e1d4e"><span class="section-number-3">1.27</span> 获取当前年份、月份、日、天数</h3>
<div class="outline-text-3" id="text-1-27">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">" &#26412;&#26376;&#20849;&#26377;:"</span>.date(<span style="color: #CDC673;">"t"</span>).<span style="color: #CDC673;">"&#22825;"</span>;
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">" &#24403;&#21069;&#24180;&#20221;"</span>.date(<span style="color: #CDC673;">'Y'</span>);
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">" &#24403;&#21069;&#26376;&#20221;"</span>.date(<span style="color: #CDC673;">'m'</span>);
<span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">" &#24403;&#21069;&#20960;&#21495;"</span>.date(<span style="color: #CDC673;">'d'</span>);
</pre>
</div>
</div>
</div>
<div id="outline-container-org7911084" class="outline-3">
<h3 id="org7911084"><span class="section-number-3">1.28</span> 日期转时间戳，时间戳转日期</h3>
<div class="outline-text-3" id="text-1-28">
<div class="org-src-container">
<pre class="src src-php">strtotime(<span style="color: #CDC673;">'2010-03-24 08:15:42'</span>);
date(<span style="color: #CDC673;">'Y-m-d H:i:s'</span>, 1156219870);
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd68175d" class="outline-3">
<h3 id="orgd68175d"><span class="section-number-3">1.29</span> 计算已成为会员多少天或距离某活动还剩余多少天</h3>
<div class="outline-text-3" id="text-1-29">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">get_days_calc</span>($<span style="color: #FF8C00;">calcTime</span>, $<span style="color: #FF8C00;">currentTime</span>, $<span style="color: #FF8C00;">differOrSurplus</span>){
    <span style="color: #FF1493;">switch</span> ($<span style="color: #FF8C00;">differOrSurplus</span>) {
    <span style="color: #FF1493;">case</span> 1:
    <span style="color: #FF1493;">return</span> round(($<span style="color: #FF8C00;">currentTime</span>-$<span style="color: #FF8C00;">calcTime</span>)/3600/24);
    <span style="color: #FF1493;">break</span>;
    <span style="color: #FF1493;">case</span> 2:
    <span style="color: #FF1493;">return</span> round(($<span style="color: #FF8C00;">calcTime</span>-$<span style="color: #FF8C00;">currentTime</span>)/3600/24);
    <span style="color: #FF1493;">break</span>;
    <span style="color: #FF1493;">default</span>:
    <span style="color: #FF1493;">return</span> round(($<span style="color: #FF8C00;">currentTime</span>-$<span style="color: #FF8C00;">calcTime</span>)/3600/24);
    <span style="color: #FF1493;">break</span>;
    }
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org000f737" class="outline-3">
<h3 id="org000f737"><span class="section-number-3">1.30</span> 下载文件</h3>
<div class="outline-text-3" id="text-1-30">
<div class="org-src-container">
<pre class="src src-php">header(<span style="color: #CDC673;">"Content-type:text/html;charset=utf-8"</span>);
<span style="color: #CDC673;">/**</span>
<span style="color: #CDC673;"> * &#25991;&#20214;&#19979;&#36733;</span>
<span style="color: #CDC673;"> * </span><span style="color: #AF87FF;">@param</span><span style="color: #CDC673;">  [type] </span><span style="color: #FF8C00;">$</span><span style="color: #FF8C00;">file_url</span><span style="color: #CDC673;"> [&#32477;&#23545;&#36335;&#24452;&#65292;&#22914;:</span><span style="color: #FF8C00;">$</span><span style="color: #FF8C00;">_SERVER</span><span style="color: #CDC673;">['DOCUMENT_ROOT'].'/upload/file/2019/01/18/test.png';]</span>
<span style="color: #CDC673;"> * </span><span style="color: #AF87FF;">@param</span><span style="color: #CDC673;">  [type] </span><span style="color: #FF8C00;">$</span><span style="color: #FF8C00;">new_name</span><span style="color: #CDC673;"> [&#25351;&#23450;&#25991;&#20214;&#21517;&#31216;]</span>
<span style="color: #CDC673;"> * </span><span style="color: #AF87FF;">@return</span><span style="color: #CDC673;"> [type] [description]</span>
<span style="color: #CDC673;"> */</span>
<span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">downloadFile</span>($<span style="color: #FF8C00;">file_url</span>,$<span style="color: #FF8C00;">new_name</span>=<span style="color: #CDC673;">''</span>){
    <span style="color: #FF1493;">if</span>(!isset($<span style="color: #FF8C00;">file_url</span>)||trim($<span style="color: #FF8C00;">file_url</span>) == <span style="color: #CDC673;">''</span>){
    <span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">'500'</span>;
    }
    <span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#26816;&#26597;&#25991;&#20214;&#26159;&#21542;&#23384;&#22312;</span>
    <span style="color: #FF1493;">if</span>(!file_exists($<span style="color: #FF8C00;">file_url</span>)){
    <span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">'404'</span>;
    }
    $<span style="color: #FF8C00;">file_name</span>=basename($<span style="color: #FF8C00;">file_url</span>);
    $<span style="color: #FF8C00;">file_type</span>=explode(<span style="color: #CDC673;">'.'</span>,$<span style="color: #FF8C00;">file_url</span>);
    $<span style="color: #FF8C00;">file_type</span>=$<span style="color: #FF8C00;">file_type</span>[count($<span style="color: #FF8C00;">file_type</span>)-1];
    $<span style="color: #FF8C00;">file_name</span>=trim($<span style="color: #FF8C00;">new_name</span>==<span style="color: #CDC673;">''</span>)?$<span style="color: #FF8C00;">file_name</span>:urlencode($<span style="color: #FF8C00;">new_name</span>);
    $<span style="color: #FF8C00;">file_type</span>=fopen($<span style="color: #FF8C00;">file_url</span>,<span style="color: #CDC673;">'r'</span>); <span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#25171;&#24320;&#25991;&#20214;</span>
    <span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36755;&#20837;&#25991;&#20214;&#26631;&#31614;</span>
    header(<span style="color: #CDC673;">"Content-type: application/octet-stream"</span>);
    header(<span style="color: #CDC673;">"Accept-Ranges: bytes"</span>);
    header(<span style="color: #CDC673;">"Accept-Length: "</span>.filesize($<span style="color: #FF8C00;">file_url</span>));
    header(<span style="color: #CDC673;">"Content-Disposition: attachment; filename="</span>.$<span style="color: #FF8C00;">file_name</span>);
    <span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#36755;&#20986;&#25991;&#20214;&#20869;&#23481;</span>
    <span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">fread</span>($<span style="color: #FF8C00;">file_type</span>,filesize($<span style="color: #FF8C00;">file_url</span>));
    fclose($<span style="color: #FF8C00;">file_type</span>);
}
</pre>
</div>
<p>
<b>几点注意事项</b>
</p>
<ul class="org-ul">
<li>header("Content-type:text/html;charset=utf-8")的作用：在服务器响应浏览器的请求时，告诉浏览器以编码格式为UTF-8的编码显示该内容。</li>
<li>关于file_exists()函数不支持中文路径的问题:因为php函数比较早，不支持中文，所以如果被下载的文件名是中文的话，需要对其进行字符编码转换，否则file_exists()函数不能识别，可以使用iconv()函数进行编码转换。</li>
<li>$file_sub_path() 我使用的是绝对路径，执行效率要比相对路径高。</li>
<li>Header("Content-type: application/octet-stream")的作用：通过这句代码客户端浏览器就能知道服务端返回的文件形式。</li>
<li>Header("Accept-Ranges: bytes")的作用：告诉客户端浏览器返回的文件大小是按照字节进行计算的。</li>
<li>Header("Accept-Length:".$file_size)的作用：告诉浏览器返回的文件大小。</li>
<li>Header("Content-Disposition: attachment; filename=".$file_name)的作用:告诉浏览器返回的文件的名称。</li>
<li>以上四个Header()是必需的。</li>
<li>fclose($fp)可以把缓冲区内最后剩余的数据输出到磁盘文件中，并释放文件指针和有关的缓冲区</li>
</ul>
</div>
<div id="outline-container-orgd33d481" class="outline-4">
<h4 id="orgd33d481"><span class="section-number-4">1.30.1</span> 参考资料</h4>
<div class="outline-text-4" id="text-1-30-1">
<p>
<a href="http://www.cnblogs.com/hongfei/archive/2012/06/12/2546929.html">Php如何实现下载功能超详细流程分析</a>
<a href="https://blog.csdn.net/hj960511/article/details/51837990">php实现当前页面点击下载文件实例</a>
</p>
</div>
</div>
</div>
<div id="outline-container-org9b00a0e" class="outline-3">
<h3 id="org9b00a0e"><span class="section-number-3">1.31</span> 获取当前URL</h3>
<div class="outline-text-3" id="text-1-31">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">getCurrentPageURL</span>()
{
    $<span style="color: #FF8C00;">pageURL</span> = <span style="color: #CDC673;">'http'</span>;
    <span style="color: #FF1493;">if</span> (<span style="color: #FF1493;">isset</span>($<span style="color: #FF8C00;">_SERVER</span>[<span style="color: #CDC673;">"HTTPS"</span>]) &amp;&amp; $<span style="color: #FF8C00;">_SERVER</span>[<span style="color: #CDC673;">"HTTPS"</span>] == <span style="color: #CDC673;">"on"</span>)
    {
    $<span style="color: #FF8C00;">pageURL</span> .= <span style="color: #CDC673;">"s"</span>;
    }
    $<span style="color: #FF8C00;">pageURL</span> .= <span style="color: #CDC673;">"://"</span>;
    <span style="color: #FF1493;">if</span> ($<span style="color: #FF8C00;">_SERVER</span>[<span style="color: #CDC673;">"SERVER_PORT"</span>] != <span style="color: #CDC673;">"80"</span>)
    {
    $<span style="color: #FF8C00;">pageURL</span> .= $<span style="color: #FF8C00;">_SERVER</span>[<span style="color: #CDC673;">"SERVER_NAME"</span>] . <span style="color: #CDC673;">":"</span> . $<span style="color: #FF8C00;">_SERVER</span>[<span style="color: #CDC673;">"SERVER_PORT"</span>] . $<span style="color: #FF8C00;">_SERVER</span>[<span style="color: #CDC673;">"REQUEST_URI"</span>];
    }
    <span style="color: #FF1493;">else</span>
    {
    $<span style="color: #FF8C00;">pageURL</span> .= $<span style="color: #FF8C00;">_SERVER</span>[<span style="color: #CDC673;">"SERVER_NAME"</span>] . $<span style="color: #FF8C00;">_SERVER</span>[<span style="color: #CDC673;">"REQUEST_URI"</span>];
    }
    <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">pageURL</span>;
}
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf243fce" class="outline-3">
<h3 id="orgf243fce"><span class="section-number-3">1.32</span> curl 请求处理</h3>
<div class="outline-text-3" id="text-1-32">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">curl</span>( $<span style="color: #FF8C00;">url</span> = <span style="color: #CDC673;">''</span>,$<span style="color: #FF8C00;">method</span> = <span style="color: #CDC673;">'GET'</span>,$<span style="color: #FF8C00;">req_data</span> = <span style="color: #AF87FF;">false</span>,$<span style="color: #FF8C00;">header</span> = <span style="color: #AF87FF;">false</span>,$<span style="color: #FF8C00;">response_header</span> = <span style="color: #AF87FF;">false</span>,$<span style="color: #FF8C00;">exec_time</span> = 5,$<span style="color: #FF8C00;">connect_time</span> = 5 )
{
    $<span style="color: #FF8C00;">method</span> = strtoupper( $<span style="color: #FF8C00;">method</span> );
    $<span style="color: #FF8C00;">ch</span> = curl_init();
    <span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#35774;&#32622;&#35831;&#27714;url</span>
    curl_setopt( $<span style="color: #FF8C00;">ch</span>,<span style="color: #AF87FF;">CURLOPT_URL</span>,$<span style="color: #FF8C00;">url</span> );
    <span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#35774;&#32622;&#35831;&#27714;&#26041;&#27861;,&#40664;&#35748;&#25191;&#34892;GET&#35831;&#27714;&#65292;&#26080;&#38656;&#35774;&#32622;</span>
    <span style="color: #FF1493;">if</span>( <span style="color: #CDC673;">'POST'</span> == $<span style="color: #FF8C00;">method</span> ){
    curl_setopt( $<span style="color: #FF8C00;">ch</span>, <span style="color: #AF87FF;">CURLOPT_POST</span>,1 );
    }<span style="color: #FF1493;">elseif</span>( <span style="color: #CDC673;">'GET'</span> != $<span style="color: #FF8C00;">method</span> ){
    curl_setopt( $<span style="color: #FF8C00;">ch</span>, <span style="color: #AF87FF;">CURLOPT_CUSTOMREQUEST</span>,$<span style="color: #FF8C00;">method</span> );
    }
    <span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#35774;&#32622;&#35831;&#27714;&#22836;</span>
    <span style="color: #FF1493;">if</span>( <span style="color: #AF87FF;">null</span> != $<span style="color: #FF8C00;">header</span> &amp;&amp; is_array($<span style="color: #FF8C00;">header</span>) ){
    curl_setopt( $<span style="color: #FF8C00;">ch</span>,<span style="color: #AF87FF;">CURLOPT_HTTPHEADER</span>,array_map(<span style="color: #FF1493;">function</span>($<span style="color: #FF8C00;">field</span>,$<span style="color: #FF8C00;">value</span>){
        <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">field</span> . <span style="color: #CDC673;">':'</span> . $<span style="color: #FF8C00;">value</span>;
    }, array_keys($<span style="color: #FF8C00;">header</span>), $<span style="color: #FF8C00;">header</span>) );
    }
    <span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#35774;&#32622;&#35831;&#35831;&#27714;&#25968;&#25454;</span>
    <span style="color: #FF1493;">if</span>( <span style="color: #AF87FF;">null</span> != $<span style="color: #FF8C00;">req_data</span> &amp;&amp; <span style="color: #CDC673;">'GET'</span> != $<span style="color: #FF8C00;">method</span> ){
    <span style="color: #FF1493;">if</span> ( is_array($<span style="color: #FF8C00;">req_data</span>) &amp;&amp; !isset($<span style="color: #FF8C00;">req_data</span>[<span style="color: #CDC673;">'isfile'</span>]) ){
        $<span style="color: #FF8C00;">req_data</span> = http_build_query($<span style="color: #FF8C00;">req_data</span>);
    }
    curl_setopt( $<span style="color: #FF8C00;">ch</span>,<span style="color: #AF87FF;">CURLOPT_POSTFIELDS</span>,$<span style="color: #FF8C00;">req_data</span> );
    }
    <span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#35774;&#32622;&#36755;&#20986;&#25968;&#25454;&#20013;&#21253;&#21547;http header</span>
    curl_setopt( $<span style="color: #FF8C00;">ch</span>, <span style="color: #AF87FF;">CURLOPT_HEADER</span>,$<span style="color: #FF8C00;">response_header</span> );
    <span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#23558;curl_exec()&#33719;&#21462;&#30340;&#20449;&#24687;&#20197;&#23383;&#31526;&#20018;&#36820;&#22238;&#65292;&#32780;&#19981;&#26159;&#30452;&#25509;&#36755;&#20986;</span>
    curl_setopt( $<span style="color: #FF8C00;">ch</span>,<span style="color: #AF87FF;">CURLOPT_RETURNTRANSFER</span>,<span style="color: #AF87FF;">true</span> );
    <span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#20801;&#35768; cURL &#20989;&#25968;&#25191;&#34892;&#30340;&#26368;&#38271;&#31186;&#25968;&#12290;</span>
    curl_setopt( $<span style="color: #FF8C00;">ch</span>,<span style="color: #AF87FF;">CURLOPT_TIMEOUT</span>,$<span style="color: #FF8C00;">exec_time</span> );
    <span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#22312;&#23581;&#35797;&#36830;&#25509;&#26102;&#31561;&#24453;&#30340;&#31186;&#25968;&#12290;&#35774;&#32622;&#20026;0&#65292;&#21017;&#26080;&#38480;&#31561;&#24453;</span>
    curl_setopt( $<span style="color: #FF8C00;">ch</span>,<span style="color: #AF87FF;">CURLOPT_CONNECTTIMEOUT</span>,$<span style="color: #FF8C00;">connect_time</span> );
    <span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#25191;&#34892;curl&#35831;&#27714;</span>
    $<span style="color: #FF8C00;">response</span> = curl_exec($<span style="color: #FF8C00;">ch</span>);
    <span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#33719;&#21462;&#29366;&#24577;&#30721;</span>
    $<span style="color: #FF8C00;">status</span> = curl_getinfo($<span style="color: #FF8C00;">ch</span>, <span style="color: #AF87FF;">CURLINFO_HTTP_CODE</span>);
    <span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#20851;&#38381;curl&#22238;&#35805;&#24182;&#37322;&#25918;&#36164;&#28304;</span>
    curl_close($<span style="color: #FF8C00;">ch</span>);
    <span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#20998;&#31163;header&#19982;body</span>
    <span style="color: #FF1493;">if</span>( $<span style="color: #FF8C00;">response_header</span> ){
    $<span style="color: #FF8C00;">tmp</span>         = explode(<span style="color: #CDC673;">"\r\n\r\n"</span>, $<span style="color: #FF8C00;">response</span>);
    $<span style="color: #FF8C00;">resp_header</span> = $<span style="color: #FF8C00;">tmp</span>[0];
    $<span style="color: #FF8C00;">data</span>        = $<span style="color: #FF8C00;">tmp</span>[1];
    } <span style="color: #FF1493;">else</span> {
    $<span style="color: #FF8C00;">resp_header</span> = <span style="color: #AF87FF;">null</span>;
    $<span style="color: #FF8C00;">data</span>        = $<span style="color: #FF8C00;">response</span>;
    }
    $<span style="color: #FF8C00;">result</span>[<span style="color: #CDC673;">'errcode'</span>] = $<span style="color: #FF8C00;">status</span>;
    $<span style="color: #FF8C00;">result</span>[<span style="color: #CDC673;">'header'</span>]  = $<span style="color: #FF8C00;">resp_header</span>;
    $<span style="color: #FF8C00;">result</span>[<span style="color: #CDC673;">'data'</span>]    = $<span style="color: #FF8C00;">data</span>;
    <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">result</span>;
}
</pre>
</div>
</div>
</div>
<div id="outline-container-orge0ab1b2" class="outline-3">
<h3 id="orge0ab1b2"><span class="section-number-3">1.33</span> Cookie 与 Session</h3>
</div>
<div id="outline-container-org52609c5" class="outline-3">
<h3 id="org52609c5"><span class="section-number-3">1.34</span> 跨域请求问题处理</h3>
<div class="outline-text-3" id="text-1-34">
</div>
<div id="outline-container-org0dab69b" class="outline-4">
<h4 id="org0dab69b"><span class="section-number-4">1.34.1</span> 问题处理</h4>
<div class="outline-text-4" id="text-1-34-1">
<div class="org-src-container">
<pre class="src src-php" id="org721a213"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#23458;&#25143;&#31471;&#35831;&#27714;&#20195;&#30721;</span>
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#19978;&#20256;&#25991;&#20214;</span>
<span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">upload_idcard_file</span>(_this,type){
    <span style="color: #5FD7FF;">var</span> <span style="color: #FF8C00;">formData</span> = <span style="color: #FF1493;">new</span> FormData();
    formData.append(<span style="color: #CDC673;">'type'</span>,type);
    formData.append(<span style="color: #CDC673;">'file'</span>,_this.files[0]);
    $.ajax({
        url: <span style="color: #CDC673;">'{$upload_file_url}'</span>,
        type: <span style="color: #CDC673;">'POST'</span>,
        dataType: <span style="color: #CDC673;">'json'</span>,
        data: formData,
        cache: <span style="color: #AF87FF;">false</span>,
        contentType : <span style="color: #AF87FF;">false</span>,
        processData : <span style="color: #AF87FF;">false</span>,
        headers : {<span style="color: #CDC673;">"access_token"</span> : <span style="color: #CDC673;">"</span><span style="color: #FF8C00;">{$access_token}</span><span style="color: #CDC673;">"</span>},
        success:<span style="color: #FF1493;">function</span>(d){
            <span style="color: #FF1493;">var</span> img_url = d.data;
            img_url = <span style="color: #CDC673;">'http:'</span>+img_url;
            load_img(_this.id,img_url);
        },
        error:<span style="color: #FF1493;">function</span>(err){
            console.log(err);
        }
    });
}
</pre>
</div>

<div class="org-src-container">
<pre class="src src-php" id="org6058e2d"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#26381;&#21153;&#31471;&#22788;&#29702;&#65306;&#31895;&#31961;&#35299;&#20915;&#26041;&#24335;</span>
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#20801;&#35768;&#25152;&#26377;&#36328;&#22495;&#35831;&#27714;</span>
header(<span style="color: #CDC673;">'Access-Control-Allow-Origin: *'</span>);

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#21482;&#20801;&#35768; http://www.baidu.com &#21457;&#26469;&#30340;&#36328;&#22495;&#35831;&#27714;</span>
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">header('Access-Control-Allow-Origin: http://www.baidu.com');</span>

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#35774;&#32622;&#25903;&#25345;&#30340; http &#35831;&#27714;&#26041;&#24335;</span>
header(<span style="color: #CDC673;">'Access-Control-Allow-Methods:POST,GET,OPTIONS,PUT,DELETE'</span>);

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#20801;&#35768;&#30340;&#21709;&#24212;&#22836;&#23383;&#27573;&#65292;&#35831;&#25353;&#29031;&#33258;&#24049;&#38656;&#27714;&#28155;&#21152;</span>
header(<span style="color: #CDC673;">'Access-Control-Allow-Headers:access_token'</span>);
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 1: </span>服务端处理：动态判断处理跨域问题</label><pre class="src src-php"><span style="color: #FF1493;">if</span>(<span style="color: #FF1493;">isset</span>($<span style="color: #FF8C00;">_SERVER</span>[<span style="color: #CDC673;">'HTTP_ORIGIN'</span>])){
    <span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#35831;&#27714;&#26041;&#27861;</span>
    $<span style="color: #FF8C00;">request_method</span> = $<span style="color: #FF8C00;">_SERVER</span>[<span style="color: #CDC673;">'REQUEST_METHOD'</span>];
    <span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#23450;&#20041;&#19968;&#20010;&#20801;&#35768;&#36328;&#22495;&#35831;&#27714;&#25509;&#21475;&#30340;&#22495;&#21517;&#21015;&#34920;&#65292;&#36825;&#37324;&#20320;&#21487;&#20197;&#29992;&#37197;&#32622;&#20063;&#21487;&#20197;&#29992;&#20854;&#23427;&#24418;&#24335;&#65292;&#25105;&#36825;&#37324;&#21482;&#26159;&#29992;$GLOBALS&#31616;&#21333;&#28436;&#31034;&#19968;&#19979;</span>
    $<span style="color: #FF8C00;">allow_origin</span> = <span style="color: #FF1493;">array</span>(
    <span style="color: #CDC673;">'baidu.com'</span>,
    <span style="color: #CDC673;">'bing.com'</span>
    );
    <span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#21028;&#26029;&#26159;&#21542;&#26377;origin&#35831;&#27714;&#22836;</span>
    <span style="color: #FF1493;">if</span>(in_array($<span style="color: #FF8C00;">request_method</span>, $<span style="color: #FF8C00;">allow_origin</span>)
    {
        header(<span style="color: #CDC673;">'Access-Control-Allow-Origin: '</span> . $<span style="color: #FF8C00;">_SERVER</span>[<span style="color: #CDC673;">'HTTP_ORIGIN'</span>]);
        <span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#23458;&#25143;&#31471;&#25658;&#24102;&#35777;&#20070;&#24335;&#35775;&#38382;&#12290;&#20986;&#20110;&#23433;&#20840;&#32771;&#34385;&#65292;&#35813;&#39033;&#35774;&#32622;&#20026;true&#26102;&#65292;Access-Control-Allow-Origin &#30340;&#20540;&#19981;&#20801;&#35768;&#20026;&#12300;*&#12301;</span>
        header(<span style="color: #CDC673;">'Access-Control-Allow-Credentials: true'</span>); 
        header(<span style="color: #CDC673;">'Access-Control-Allow-Methods:POST,GET,OPTIONS,PUT,DELETE'</span>);
        header(<span style="color: #CDC673;">'Access-Control-Allow-Headers:x-requested-with,content-type,access_token'</span>);
    }
    }
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org6af5b03" class="outline-4">
<h4 id="org6af5b03"><span class="section-number-4">1.34.2</span> Session 跨域问题</h4>
<div class="outline-text-4" id="text-1-34-2">
<div class="org-src-container">
<pre class="src src-php">ini_set(<span style="color: #CDC673;">'session.cookie_domain'</span>, <span style="color: #CDC673;">'.a.com'</span>);
header(<span style="color: #CDC673;">'Access-Control-Allow-Credentials: true'</span>);
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb848288" class="outline-4">
<h4 id="orgb848288"><span class="section-number-4">1.34.3</span> References</h4>
<div class="outline-text-4" id="text-1-34-3">
<ul class="org-ul">
<li><a href="https://blog.csdn.net/z69183787/article/details/78954325">跨域Ajax请求时是否带Cookie的设置</a></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org6ec81f8" class="outline-3">
<h3 id="org6ec81f8"><span class="section-number-3">1.35</span> PHP 与 XML 技术</h3>
</div>
<div id="outline-container-org2e2f18e" class="outline-3">
<h3 id="org2e2f18e"><span class="section-number-3">1.36</span> trait</h3>
</div>
<div id="outline-container-orgd4805ec" class="outline-3">
<h3 id="orgd4805ec"><span class="section-number-3">1.37</span> yield 是什么？yield 使用场景？yield 核心原理？</h3>
</div>
<div id="outline-container-orgc8faef8" class="outline-3">
<h3 id="orgc8faef8"><span class="section-number-3">1.38</span> Slow array function used in loop</h3>
<div class="outline-text-3" id="text-1-38">
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">Let's start with an example demonstrating the case:</span>
$<span style="color: #FF8C00;">options</span> = [];
<span style="color: #FF1493;">foreach</span> ($<span style="color: #FF8C00;">configurationSources</span> <span style="color: #FF1493;">as</span> $<span style="color: #FF8C00;">source</span>) {
    <span style="color: #8B8878;">/* </span><span style="color: #8B8878;">something happens here</span><span style="color: #8B8878;"> */</span>
    $<span style="color: #FF8C00;">options</span> = array_merge($<span style="color: #FF8C00;">options</span>, $<span style="color: #FF8C00;">source</span>-&gt;getOptions());
}

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">In order to reduce execution time we can modify the code and perform the merge operation only once:</span>
$<span style="color: #FF8C00;">options</span> = [];
<span style="color: #FF1493;">foreach</span> ($<span style="color: #FF8C00;">configurationSources</span> <span style="color: #FF1493;">as</span> $<span style="color: #FF8C00;">source</span>) {
    <span style="color: #8B8878;">/* </span><span style="color: #8B8878;">something happens here</span><span style="color: #8B8878;"> */</span>
    $<span style="color: #FF8C00;">options</span>[] = $<span style="color: #FF8C00;">source</span>-&gt;getOptions(); <span style="color: #8B8878;">// </span><span style="color: #8B8878;">&lt;- yes, we'll use a little bit more memory</span>
}

<span style="color: #8B8878;">/* </span><span style="color: #8B8878;">PHP below 5.6</span><span style="color: #8B8878;"> */</span>
$<span style="color: #FF8C00;">options</span> = call_user_func_array(<span style="color: #CDC673;">'array_merge'</span>, $<span style="color: #FF8C00;">options</span> + [[]]); <span style="color: #8B8878;">// </span><span style="color: #8B8878;">the nested empty array covers cases when no loops were made, must be second operand</span>

<span style="color: #8B8878;">/* </span><span style="color: #8B8878;">PHP 5.6+: more friendly to refactoring as less magic involved</span><span style="color: #8B8878;"> */</span>
$<span style="color: #FF8C00;">options</span> = array_merge([], ...$<span style="color: #FF8C00;">options</span>); <span style="color: #8B8878;">// </span><span style="color: #8B8878;">the empty array covers cases when no loops were made</span>

<span style="color: #8B8878;">/* </span><span style="color: #8B8878;">PHP 7.4+: array_merge now accepts to be called without arguments. It will work even if $options is empty</span><span style="color: #8B8878;"> */</span>
$<span style="color: #FF8C00;">options</span> = array_merge(...$<span style="color: #FF8C00;">options</span>);


<span style="color: #8B8878;">// </span><span style="color: #8B8878;">The second case demonstration:</span>
<span style="color: #FF1493;">for</span> ($<span style="color: #FF8C00;">index</span> = 0; $<span style="color: #FF8C00;">index</span> &lt; count($<span style="color: #FF8C00;">array</span>); ++$<span style="color: #FF8C00;">index</span>) {
    <span style="color: #8B8878;">/* </span><span style="color: #8B8878;">something happens here</span><span style="color: #8B8878;"> */</span>
}

<span style="color: #8B8878;">// </span><span style="color: #8B8878;">Here count($array) is executed in each loop cycle and cause performance issues when counting big arrays. Instead, we can introduce a local variable, so the count operation gets executed only once:</span>
<span style="color: #FF1493;">for</span> ($<span style="color: #FF8C00;">index</span> = 0, $<span style="color: #FF8C00;">count</span> = count($<span style="color: #FF8C00;">array</span>); $<span style="color: #FF8C00;">index</span> &lt; $<span style="color: #FF8C00;">count</span>; ++$<span style="color: #FF8C00;">index</span>) {
    <span style="color: #8B8878;">/* </span><span style="color: #8B8878;">something happens here</span><span style="color: #8B8878;"> */</span>
}
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org03d3dcf" class="outline-2">
<h2 id="org03d3dcf"><span class="section-number-2">2</span> 附录 A：PHP 命名规范</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org7566551" class="outline-3">
<h3 id="org7566551"><span class="section-number-3">2.1</span> 类</h3>
<div class="outline-text-3" id="text-2-1">
</div>
<div id="outline-container-orgc05ed4d" class="outline-4">
<h4 id="orgc05ed4d"><span class="section-number-4">2.1.1</span> 类名称</h4>
<div class="outline-text-4" id="text-2-1-1">
<ul class="org-ul">
<li>使用大写字母作为词的分割，其他的字母均使用小写。</li>
<li>名字的首字母使用大写。</li>
<li><b>不要使用下划线('_')。</b></li>
</ul>
<pre class="example">
如：Name、SuperMan、BigClassObject。
</pre>
</div>
</div>
<div id="outline-container-org5034f35" class="outline-4">
<h4 id="org5034f35"><span class="section-number-4">2.1.2</span> 类属性</h4>
<div class="outline-text-4" id="text-2-1-2">
<p>
属性名命名采用驼峰命名法（首字母小写，后续单词首字母大写），私有属性使用'_'开始。
</p>
<pre class="example">
如：$tablePrefix，$_tablePrefix
</pre>
</div>
</div>
<div id="outline-container-orgf95e476" class="outline-4">
<h4 id="orgf95e476"><span class="section-number-4">2.1.3</span> 类方法和函数名称</h4>
<div class="outline-text-4" id="text-2-1-3">
<ul class="org-ul">
<li>方法的作用都是执行一个动作，达到一个目的。所以名称应该说明方法是做什么的。一般名称的前缀都是有第一规律的，如 is, get, set。</li>
<li>方法的的命名采用驼峰命名法（首字母小写，后续单词首字母大写）， 如：getUserName(), parseLayout()</li>
<li>私有方法、函数，使用带有下划线的形式，如 _func()</li>
</ul>
</div>
</div>
<div id="outline-container-org98a93b7" class="outline-4">
<h4 id="org98a93b7"><span class="section-number-4">2.1.4</span> 方法中参数</h4>
<div class="outline-text-4" id="text-2-1-4">
<ul class="org-ul">
<li><p>
参数命名采用驼峰命名法（首字母小写，后续单词首字母大写）。如：
</p>
<div class="org-src-container">
<pre class="src src-php"><span style="color: #5FD7FF;">class</span> <span style="color: #FF8C00;">EchoAnyWord</span>{
    <span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">echoWord</span>($<span style="color: #FF8C00;">firstWord</span>, $<span style="color: #FF8C00;">secondWord</span>){
    ...
    }
}
</pre>
</div></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org8749c86" class="outline-3">
<h3 id="org8749c86"><span class="section-number-3">2.2</span> 变量和常量</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>所有字母都使用小写。</li>
<li>使用‘_’作为每个词的分界。</li>
</ul>

<pre class="example">
如：$msg_error、$chk_pwd等
</pre>
</div>
<div id="outline-container-org3654618" class="outline-4">
<h4 id="org3654618"><span class="section-number-4">2.2.1</span> 引用变量</h4>
<div class="outline-text-4" id="text-2-2-1">
<ul class="org-ul">
<li><p>
引用变量要带有‘r’(recommend)前缀。如：
</p>
<div class="org-src-container">
<pre class="src src-php"><span style="color: #5FD7FF;">class</span> <span style="color: #FF8C00;">Example</span>{
    $<span style="color: #FF8C00;">mExam</span> = <span style="color: #CDC673;">""</span>;
    <span style="color: #5FD7FF;">funciton</span> <span style="color: #87D700;">SetExam</span>(&amp;$<span style="color: #FF8C00;">rExam</span>){
    ...
    }
    <span style="color: #FF1493;">function</span> $<span style="color: #FF8C00;">rGetExam</span>(){
    ...
    }
}
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-org9354610" class="outline-4">
<h4 id="org9354610"><span class="section-number-4">2.2.2</span> 全局变量</h4>
<div class="outline-text-4" id="text-2-2-2">
<ul class="org-ul">
<li>全局变量应该带有前缀‘g’。如：global = $gTest、global = $g。</li>
</ul>
</div>
</div>
<div id="outline-container-orgbc0c98a" class="outline-4">
<h4 id="orgbc0c98a"><span class="section-number-4">2.2.3</span> 常量</h4>
<div class="outline-text-4" id="text-2-2-3">
<ul class="org-ul">
<li><p>
常量、全局常量，应该全部使用大写字母，单词之间用‘_’来分割。如
</p>
<div class="org-src-container">
<pre class="src src-php">define(<span style="color: #CDC673;">'DEFAULT_NUM_AVE'</span>,90);
define(<span style="color: #CDC673;">'DEFAULT_NUM_SUM'</span>,500);
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-orgb059830" class="outline-4">
<h4 id="orgb059830"><span class="section-number-4">2.2.4</span> 全局常量</h4>
<div class="outline-text-4" id="text-2-2-4">
<ul class="org-ul">
<li><p>
静态变量应该带有前缀‘s’。如：
</p>
<div class="org-src-container">
<pre class="src src-php">station $<span style="color: #FF8C00;">sStatus</span> = 1;
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-org5a8218f" class="outline-4">
<h4 id="org5a8218f"><span class="section-number-4">2.2.5</span> 静态变量</h4>
<div class="outline-text-4" id="text-2-2-5">
<ul class="org-ul">
<li><p>
<b>所有的名称都使用小写字母，多个单词使用‘_’来分割。如：</b>
</p>
<div class="org-src-container">
<pre class="src src-php"><span style="color: #5FD7FF;">function</span> <span style="color: #87D700;">this_good_idear</span>(){
    ...
}
</pre>
</div></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org95fff04" class="outline-3">
<h3 id="org95fff04"><span class="section-number-3">2.3</span> PSR-0 vs PSR-4</h3>
<div class="outline-text-3" id="text-2-3">
<p>
PSR，PHP Standards Recommendations。为自动加载而服务。目前官方已经废弃了 PSR-0，但是发现 composer 还是对  PSR-0 向下兼容，从 composer 的加载代码中了解了一下他们的区别：<a href="https://getcomposer.org/doc/04-schema.md#psr-4">https://getcomposer.org/doc/04-schema.md#psr-4</a>
</p>
</div>
</div>
</div>
<div id="outline-container-org02a7410" class="outline-2">
<h2 id="org02a7410"><span class="section-number-2">3</span> 附录 B：PHP 预定义常量</h2>
<div class="outline-text-2" id="text-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">常量名</th>
<th scope="col" class="org-left">常量值</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">__FILE__</td>
<td class="org-left">当前的文件名</td>
<td class="org-left">在哪个文件中使用，就代表哪个文件名称</td>
</tr>

<tr>
<td class="org-left">__LINE__</td>
<td class="org-left">当前的行数</td>
<td class="org-left">在代码的哪行使用，就代表哪行的行号</td>
</tr>

<tr>
<td class="org-left">__FUNCTION__</td>
<td class="org-left">当前的函数名</td>
<td class="org-left">在哪个函数中使用，就代表哪个函数名</td>
</tr>

<tr>
<td class="org-left">__CLASS__</td>
<td class="org-left">当前的类名</td>
<td class="org-left">在哪个类中使用，就代表哪个类的类名</td>
</tr>

<tr>
<td class="org-left">__METHOD__</td>
<td class="org-left">当前对象的方法名</td>
<td class="org-left">在对象中的哪个方法使用，就代表这个方法名</td>
</tr>

<tr>
<td class="org-left">PHP_OS</td>
<td class="org-left">UNIX或WINNT等</td>
<td class="org-left">执行PHP解析的操作系统名称</td>
</tr>

<tr>
<td class="org-left">PHP_VERSION</td>
<td class="org-left">5.5</td>
<td class="org-left">当前php服务器的版本</td>
</tr>

<tr>
<td class="org-left">TRUE</td>
<td class="org-left">TRUE</td>
<td class="org-left">代表布尔值，真</td>
</tr>

<tr>
<td class="org-left">FALSE</td>
<td class="org-left">FALSE</td>
<td class="org-left">代表布尔值，假</td>
</tr>

<tr>
<td class="org-left">NULL</td>
<td class="org-left">NULL</td>
<td class="org-left">代表空值</td>
</tr>

<tr>
<td class="org-left">DIRECTORY_SEPARATOR</td>
<td class="org-left">\或/</td>
<td class="org-left">根据操作系统决定目录的分隔符</td>
</tr>

<tr>
<td class="org-left">PATH_SEPARATOR</td>
<td class="org-left">:或;</td>
<td class="org-left">在linux上是一个":"号,WIN上是一个";"号</td>
</tr>

<tr>
<td class="org-left">E_ERROR</td>
<td class="org-left">1</td>
<td class="org-left">错误，导致php脚本运行终止</td>
</tr>

<tr>
<td class="org-left">E_WARNING</td>
<td class="org-left">2</td>
<td class="org-left">警告，不会导致php脚本运行终止</td>
</tr>

<tr>
<td class="org-left">E_PARSE</td>
<td class="org-left">4</td>
<td class="org-left">解析错误，由程序解析器报告</td>
</tr>

<tr>
<td class="org-left">E_NOTICE</td>
<td class="org-left">8</td>
<td class="org-left">非关键的错误，例如变量未初始化</td>
</tr>

<tr>
<td class="org-left">M_PI</td>
<td class="org-left">3.141592653</td>
<td class="org-left">π 圆周率</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgf6f762e" class="outline-2">
<h2 id="orgf6f762e"><span class="section-number-2">4</span> 附录 C：PHP 函数</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org769f184" class="outline-3">
<h3 id="org769f184"><span class="section-number-3">4.1</span> 数组函数</h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li>curl_setopt_array — 为 cURL 传输会话批量设置选项</li>
<li>array_change_key_case — 将数组中的所有键名修改为全大写或小写</li>
<li>array_chunk — 将一个数组分割成多个</li>
<li>array_column — 返回数组中指定的一列</li>
<li>array_combine — 创建一个数组，用一个数组的值作为其键名，另一个数组的值作为其值</li>
<li>array_count_values — 统计数组中所有的值</li>
<li>array_diff_assoc — 带索引检查计算数组的差集</li>
<li>array_diff_key — 使用键名比较计算数组的差集</li>
<li>array_diff_uassoc — 用用户提供的回调函数做索引检查来计算数组的差集</li>
<li>array_diff_ukey — 用回调函数对键名比较计算数组的差集</li>
<li>array_diff — 计算数组的差集</li>
<li>array_intersect_assoc — 带索引检查计算数组的交集</li>
<li>array_intersect_key — 使用键名比较计算数组的交集</li>
<li>array_intersect_uassoc — 带索引检查计算数组的交集，用回调函数比较索引</li>
<li>array_intersect_ukey — 用回调函数比较键名来计算数组的交集</li>
<li><p>
array_intersect — 计算数组的交集
</p>
<div class="org-src-container">
<pre class="src src-php">  <span style="color: #8B8878;">// </span><span style="color: #8B8878;">array_intersect ( array $array1 , array $array2 [, array $... ] ) : array</span>
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#21435;&#38500;&#31354;&#20803;&#32032;</span>
<span style="color: #FF1493;">foreach</span>($<span style="color: #FF8C00;">arr</span> <span style="color: #FF1493;">as</span> $<span style="color: #FF8C00;">k</span>=&gt;$<span style="color: #FF8C00;">v</span>){
    <span style="color: #FF1493;">if</span>(!$<span style="color: #FF8C00;">v</span>) <span style="color: #FF1493;">unset</span>($<span style="color: #FF8C00;">arr</span>[$<span style="color: #FF8C00;">k</span>]);
}
<span style="color: #8B8878;">#</span><span style="color: #8B8878;">## &#25193;&#23637;&#23398;&#20064;&#65306;PHP&#20174;&#25968;&#32452;&#20013;&#21024;&#38500;&#20803;&#32032;&#30340;&#22235;&#31181;&#26041;&#27861;&#23454;&#20363;</span>
$<span style="color: #FF8C00;">array</span> = <span style="color: #FF1493;">array</span>(0 =&gt; <span style="color: #CDC673;">"a"</span>, 1 =&gt; <span style="color: #CDC673;">"b"</span>, 2 =&gt; <span style="color: #CDC673;">"c"</span>);
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">1. &#21024;&#38500;&#19968;&#20010;&#20803;&#32032;&#65292;&#19988;&#20445;&#25345;&#21407;&#26377;&#32034;&#24341;&#19981;&#21464;</span>
<span style="color: #FF1493;">unset</span>($<span style="color: #FF8C00;">array</span>[1]);
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#20320;&#24819;&#21024;&#38500;&#30340;key</span>
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#37325;&#25490;&#32034;&#24341;</span>
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#20351;&#29992; array_values &#20989;&#25968;&#65306;</span>
$<span style="color: #FF8C00;">array</span> = array_values($<span style="color: #FF8C00;">array</span>);
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">2. &#21024;&#38500;&#19968;&#20010;&#20803;&#32032;&#65292;&#19981;&#20445;&#25345;&#32034;&#24341;</span>
array_splice($<span style="color: #FF8C00;">array</span>, 1, 1);
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#20320;&#24819;&#21024;&#38500;&#30340;&#20803;&#32032;&#30340;Offset</span>
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">3. &#25353;&#20540;&#21024;&#38500;&#22810;&#20010;&#20803;&#32032;&#65292;&#20445;&#25345;&#32034;&#24341;</span>
$<span style="color: #FF8C00;">array</span> = array_diff($<span style="color: #FF8C00;">array</span>, [<span style="color: #CDC673;">"a"</span>, <span style="color: #CDC673;">"c"</span>]);
           <span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;&#8594; &#20320;&#24819;&#21024;&#38500;&#30340;&#25968;&#32452;&#20803;&#32032;&#20540;values</span>
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">4. &#25353;&#38190;&#21024;&#38500;&#22810;&#20010;&#20803;&#32032;&#65292;&#20445;&#25345;&#32034;&#24341;</span>
$<span style="color: #FF8C00;">array</span> = array_diff_key($<span style="color: #FF8C00;">array</span>, [0 =&gt; <span style="color: #CDC673;">"xy"</span>, <span style="color: #CDC673;">"2"</span> =&gt; <span style="color: #CDC673;">"xy"</span>]);
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#20320;&#24819;&#21024;&#38500;&#30340;&#25968;&#32452;&#38190;keys</span>
</pre>
</div></li>
<li>array_fill — 用给定的值填充数组</li>
<li>array_fill_keys — 使用指定的键和值填充数组</li>
<li><p>
array_filter — 用回调函数过滤数组中的单元
</p>
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">array_filter ( array $array [, callable $callback [, int $flag = 0 ]] ) : array</span>
</pre>
</div></li>
<li>array_flip — 交换数组中的键和值</li>
<li>array_key_exists — 检查数组里是否有指定的键名或索引</li>
<li>array_key_first — Gets the first key of an array</li>
<li>array_key_last — Gets the last key of an array</li>
<li><p>
array_keys — 返回数组中部分的或所有的键名
</p>
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">array_flip ( array $array ) : array</span>
</pre>
</div></li>
<li>array_map — 为数组的每个元素应用回调函数</li>
<li>array_walk_recursive — 对数组中的每个成员递归地应用用户函数</li>
<li><p>
array_walk — 使用用户自定义函数对数组中的每个元素做回调处理
</p>
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">array_map ( callable $callback , array $array1 [, array $... ] ) : array</span>
</pre>
</div></li>
<li>array_merge_recursive — 递归地合并一个或多个数组</li>
<li>array_merge — 合并一个或多个数组</li>
<li>array_reverse — 返回单元顺序相反的数组</li>
<li>array_pad — 以指定长度将一个值填充进数组</li>
<li>array_pop — 弹出数组最后一个单元（出栈）</li>
<li>array_product — 计算数组中所有值的乘积</li>
<li>array_push — 将一个或多个单元压入数组的末尾（入栈）</li>
<li>array_rand — 从数组中随机取出一个或多个单元</li>
<li>array_reduce — 用回调函数迭代地将数组简化为单一的值</li>
<li>array_replace_recursive — 使用传递的数组递归替换第一个数组的元素</li>
<li>array_replace — 使用传递的数组替换第一个数组的元素</li>
<li>array_search — 在数组中搜索给定的值，如果成功则返回首个相应的键名</li>
<li>array_slice — 从数组中取出一段</li>
<li>array_splice — 去掉数组中的某一部分并用其它值取代</li>
<li>array_sum — 对数组中所有值求和</li>
<li>array_udiff_assoc — 带索引检查计算数组的差集，用回调函数比较数据</li>
<li>array_udiff_uassoc — 带索引检查计算数组的差集，用回调函数比较数据和索引</li>
<li>array_udiff — 用回调函数比较数据来计算数组的差集</li>
<li>array_uintersect_assoc — 带索引检查计算数组的交集，用回调函数比较数据</li>
<li>array_uintersect_uassoc — 带索引检查计算数组的交集，用单独的回调函数比较数据和索引</li>
<li>array_uintersect — 计算数组的交集，用回调函数比较数据</li>
<li>array_unique — 移除数组中重复的值</li>
<li>array_shift — 将数组开头的单元移出数组</li>
<li>array_unshift — 在数组开头插入一个或多个单元</li>
<li>array_values — 返回数组中所有的值</li>
<li>array — 新建一个数组</li>
<li>compact — 建立一个数组，包括变量名和它们的值</li>
<li>count — 计算数组中的单元数目，或对象中的属性个数</li>
<li>current — 返回数组中的当前单元</li>
<li>each — 返回数组中当前的键／值对并将数组指针向前移动一步</li>
<li>end — 将数组的内部指针指向最后一个单元</li>
<li>extract — 从数组中将变量导入到当前的符号表</li>
<li>in_array — 检查数组中是否存在某个值</li>
<li>key_exists — 别名 array_key_exists</li>
<li>key — 从关联数组中取得键名</li>
<li>list — 把数组中的值赋给一组变量</li>
<li>next — 将数组中的内部指针向前移动一位</li>
<li>pos — current 的别名</li>
<li>prev — 将数组的内部指针倒回一位</li>
<li>range — 根据范围创建数组，包含指定的元素</li>
<li>reset — 将数组的内部指针指向第一个单元</li>
<li>shuffle — 打乱数组</li>
<li>sizeof — count 的别名</li>
</ul>
</div>

<div id="outline-container-orgff625b7" class="outline-4">
<h4 id="orgff625b7"><span class="section-number-4">4.1.1</span> 排序函数</h4>
<div class="outline-text-4" id="text-4-1-1">
<ul class="org-ul">
<li>array_multisort — 对多个数组或多维数组进行排序</li>
<li>arsort — 对数组进行逆向排序并保持索引关系</li>
<li>asort — 对数组进行排序并保持索引关系</li>
<li>krsort — 对数组按照键名逆向排序</li>
<li>ksort — 对数组按照键名排序</li>
<li>sort — 对数组排序</li>
<li>rsort — 对数组逆向排序</li>
<li>natcasesort — 用“自然排序”算法对数组进行不区分大小写字母的排序</li>
<li>natsort — 用“自然排序”算法对数组排序</li>
<li>uasort — 使用用户自定义的比较函数对数组中的值进行排序并保持索引关联</li>
<li>uksort — 使用用户自定义的比较函数对数组中的键名进行排序</li>
<li><p>
usort — 使用用户自定义的比较函数对数组中的值进行排序
</p>
<div class="org-src-container">
<pre class="src src-php">    <span style="color: #8B8878;">// </span><span style="color: #8B8878;">uksort ( array &amp;$array , callable $key_compare_func ) : bool</span>
uksort(&amp;$<span style="color: #FF8C00;">arr</span>, <span style="color: #FF1493;">function</span> ($<span style="color: #FF8C00;">a</span>, $<span style="color: #FF8C00;">b</span>) <span style="color: #FF1493;">use</span> ($<span style="color: #FF8C00;">seq</span>) {
    $<span style="color: #FF8C00;">seq</span> = array_flip($<span style="color: #FF8C00;">seq</span>);
    $<span style="color: #FF8C00;">idx1</span> = $<span style="color: #FF8C00;">seq</span>[$<span style="color: #FF8C00;">a</span>] ?? -1;
    $<span style="color: #FF8C00;">idx2</span> = $<span style="color: #FF8C00;">seq</span>[$<span style="color: #FF8C00;">b</span>] ?? -1;
    <span style="color: #FF1493;">return</span> $<span style="color: #FF8C00;">idx1</span> - $<span style="color: #FF8C00;">idx2</span>;
});
</pre>
</div></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgc50419c" class="outline-3">
<h3 id="orgc50419c"><span class="section-number-3">4.2</span> 字符串函数</h3>
<div class="outline-text-3" id="text-4-2">
<ul class="org-ul">
<li>addcslashes — 以 C 语言风格使用反斜线转义字符串中的字符</li>
<li>addslashes()，字符串转义，使用反斜线引用字符串。如I’m Zhao中的’</li>
<li>bin2hex — 函数把包含数据的二进制字符串转换为十六进制值</li>
<li>chop — rtrim 的别名</li>
<li>chr — 返回指定的字符</li>
<li>chunk_split — 将字符串分割成小块</li>
<li>convert_cyr_string — 将字符由一种 Cyrillic 字符转换成另一种</li>
<li>convert_uudecode — 解码一个 uuencode 编码的字符串</li>
<li>convert_uuencode — 使用 uuencode 编码一个字符串</li>
<li>count_chars — 返回字符串所用字符的信息</li>
<li>crc32 — 计算一个字符串的 crc32 多项式</li>
<li>crypt — 单向字符串散列</li>
<li>echo — 输出一个或多个字符串</li>
<li>fprintf — 将格式化后的字符串写入到流</li>
<li>print_r — 以易于理解的格式打印变量。</li>
<li>var_dump — 打印变量的相关信息</li>
<li><p>
var_export — 输出或返回一个变量的字符串表示
</p>
<div class="org-src-container">
<pre class="src src-php">print_r ( mixed $<span style="color: #FF8C00;">expression</span> [, <span style="color: #5FD7FF;">bool</span> $<span style="color: #FF8C00;">return</span> = <span style="color: #AF87FF;">FALSE</span> ] ) : mixed
    var_dump ( mixed $<span style="color: #FF8C00;">expression</span> [, mixed $... ] ) : <span style="color: #5FD7FF;">void</span>
    var_export ( mixed $<span style="color: #FF8C00;">expression</span> [, <span style="color: #5FD7FF;">bool</span> $<span style="color: #FF8C00;">return</span> ] ) : mixed
</pre>
</div></li>
<li>get_html_translation_table — 返回使用 htmlspecialchars 和 htmlentities 后的转换表</li>
<li>hebrev — 将逻辑顺序希伯来文（logical-Hebrew）转换为视觉顺序希伯来文（visual-Hebrew）</li>
<li>hebrevc — 将逻辑顺序希伯来文（logical-Hebrew）转换为视觉顺序希伯来文（visual-Hebrew），并且转换换行符</li>
<li>hex2bin — 转换十六进制字符串为二进制字符串</li>
<li>html_entity_decode — Convert HTML entities to their corresponding characters</li>
<li>htmlentities — 将字符转换为 HTML 转义字符</li>
<li>htmlspecialchars_decode — 将特殊的 HTML 实体转换回普通字符</li>
<li>htmlspecialchars — 将特殊字符转换为 HTML 实体
htmlentities 和 htmlspecialchars 的区别:
这两个函数的功能都是转换字符为 HTML 字符编码，特别是 url 和代码字符串。htmlentities 转换所有的 html 标记；htmlspecialchars 只格式化&amp; ' " &lt; 和 \&gt; 这几个特殊符号。</li>
<li>lcfirst — 使一个字符串的第一个字符小写</li>
<li>levenshtein — 计算两个字符串之间的编辑距离</li>
<li>localeconv — Get numeric formatting information</li>
<li>ltrim — 删除字符串开头的空白字符（或其他字符）</li>
<li>md5_file — 计算指定文件的 MD5 散列值</li>
<li>md5 — 计算字符串的 MD5 散列值</li>
<li>metaphone — Calculate the metaphone key of a string</li>
<li>money_format — 将数字格式化成货币字符串</li>
<li>nl_langinfo — Query language and locale information</li>
<li>nl2br — 在字符串所有新行之前插入 HTML 换行标记</li>
<li><p>
number_format — 以千位分隔符方式格式化一个数字
</p>
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#26080;&#35770;&#20540;&#26159;&#21542;&#20026;0&#65292;&#37117;&#20445;&#30041;&#23567;&#25968;&#28857;&#21518;&#20004;&#20301;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">number_format</span>((<span style="color: #5FD7FF;">float</span>)round($<span style="color: #FF8C00;">a</span>,2,<span style="color: #AF87FF;">PHP_ROUND_HALF_ODD</span>),2,<span style="color: #CDC673;">'.'</span>,<span style="color: #CDC673;">''</span>);
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#25972;&#25968;&#37096;&#20998;&#20197;&#21315;&#20301;&#20998;&#38548;&#31526;&#26041;&#24335;&#20998;&#38548;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">number_format</span>((<span style="color: #5FD7FF;">float</span>)round($<span style="color: #FF8C00;">a</span>,2,<span style="color: #AF87FF;">PHP_ROUND_HALF_ODD</span>),2,<span style="color: #CDC673;">'.'</span>,<span style="color: #CDC673;">','</span>);
</pre>
</div></li>
<li>ord — 转换字符串第一个字节为 0-255 之间的值</li>
<li>parse_str — 将字符串解析成多个变量</li>
<li>print — 输出字符串</li>
<li>printf — 输出格式化字符串</li>
<li>quoted_printable_decode — 将 quoted-printable 字符串转换为 8-bit 字符串</li>
<li>quoted_printable_encode — 将 8-bit 字符串转换成 quoted-printable 字符串</li>
<li>quotemeta — 转义元字符集</li>
<li>rtrim — 删除字符串末端的空白字符（或者其他字符）</li>
<li>setlocale — 设置地区信息</li>
<li>sha1_file — 计算文件的 sha1 散列值</li>
<li>sha1 — 计算字符串的 sha1 散列值</li>
<li>similar_text — 计算两个字符串的相似度</li>
<li>soundex — Calculate the soundex key of a string</li>
<li>sprintf — Return a formatted string</li>
<li>sscanf — 根据指定格式解析输入的字符</li>
<li>str_getcsv — 解析 CSV 字符串为一个数组</li>
<li>str_ireplace — str_replace 的忽略大小写版本</li>
<li>str_pad — 使用另一个字符串填充字符串为指定长度</li>
<li>str_repeat — 重复一个字符串</li>
<li>str_rot13 — 对字符串执行 ROT13 转换</li>
<li>str_shuffle — 随机打乱一个字符串</li>
<li>str_split — 将字符串转换为数组</li>
<li>str_word_count — 返回字符串中单词的使用情况</li>
<li>strcasecmp — 二进制安全比较字符串（不区分大小写）</li>
<li>strcmp — 二进制安全字符串比较</li>
<li>strcoll — 基于区域设置的字符串比较</li>
<li>strcspn — 获取不匹配遮罩的起始子字符串的长度</li>
<li>strip_tags — 从字符串中去除 HTML 和 PHP 标记</li>
<li>stripcslashes — 反引用一个使用 addcslashes 转义的字符串</li>
<li><p>
strpos()，查找字符串首次出现的位置。strpos ( string $haystack , mixed $needle [, int $offset = 0 ] ) : int，如果没找到 needle，将返回 FALSE，此函数可能返回布尔值 FALSE，但也可能返回等同于 FALSE 的非布尔值。应使用 <code>=</code> 运算符来测试此函数的返回值。缺点：对中文支持不好
</p>
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#21028;&#26029;&#26159;&#21542;&#21253;&#21547;&#26576;&#23383;&#31526;&#20018;</span>
$<span style="color: #FF8C00;">pos</span> = strpos($<span style="color: #FF8C00;">str</span>,$<span style="color: #FF8C00;">needle</span>);
<span style="color: #FF1493;">if</span>($<span style="color: #FF8C00;">pos</span> !== <span style="color: #AF87FF;">false</span>){
      <span style="color: #FF1493;">echo</span> <span style="color: #CDC673;">'exist'</span>;
}
</pre>
</div></li>
<li>stripslashes — 反引用一个引用字符串</li>
<li>strlen()，获取字符串长度。</li>
<li>strnatcasecmp — 使用“自然顺序”算法比较字符串（不区分大小写）</li>
<li>strnatcmp — 使用自然排序算法比较字符串</li>
<li>strncasecmp — 二进制安全比较字符串开头的若干个字符（不区分大小写）</li>
<li>strncmp — 二进制安全比较字符串开头的若干个字符</li>
<li>strpbrk — 在字符串中查找一组字符的任何一个字符</li>
<li>substr()，字符串截取。substr(字符串变量,开始截取的位置，截取个数） 。如：</li>
<li>mb_substr() ，字符串截取。mb_substr ( string $str , int $start [, int $length = NULL [, string $encoding = mb_internal_encoding() ]] ) : string</li>
<li><p>
strstr()，返回字符串从查找字符串出现的位置开始到字符串结尾的字符串
</p>
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#21435;&#38500;&#23383;&#31526;&#20018;&#21518;3&#20301;</span>
substr($<span style="color: #FF8C00;">tempStr</span>,0,strlen($<span style="color: #FF8C00;">tempStr</span>)-3);                                                   <span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#25130;&#21462;&#26576;&#20010;&#23383;&#31526;&#20043;&#21518;&#30340;&#23383;&#31526;&#20018;</span>
substr($<span style="color: #FF8C00;">str</span>,strpos($<span style="color: #FF8C00;">str</span>,<span style="color: #CDC673;">"_"</span>);
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#21028;&#26029;&#26159;&#21542;&#21253;&#21547;&#26576;&#23383;&#31526;&#20018;&#65292;&#27809;&#26377;&#36820;&#22238;&#20540;&#65292;&#21017;&#19981;&#21253;&#21547;</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">strstr</span>($<span style="color: #FF8C00;">str</span>,<span style="color: #CDC673;">'@'</span>);
</pre>
</div></li>
<li>stristr()，与 strstr() 的使用方法一样，区别是 stristr 不区分大小写。</li>
<li>strchr — strstr 的别名</li>
<li>strrchr — 查找指定字符在字符串中的最后一次出现</li>
<li>strrev — 反转字符串</li>
<li>strripos — 计算指定字符串在目标字符串中最后一次出现的位置（不区分大小写）</li>
<li>strspn — 计算字符串中全部字符都存在于指定字符集合中的第一段子串的长度。</li>
<li>strspn — 计算字符串中全部字符都存在于指定字符集合中的第一段子串的长度。</li>
<li>strstr — 查找字符串的首次出现</li>
<li>strtok — 标记分割字符串</li>
<li>strtolower — 将字符串转化为小写</li>
<li>strtoupper — 将字符串转化为大写</li>
<li>strtr — 转换指定字符</li>
<li>substr_compare — 二进制安全比较字符串（从偏移位置比较指定长度）</li>
<li>substr_count — 计算字串出现的次数</li>
<li>str_replace()，搜索替换字符串。substr_replace ( mixed $string , mixed $replacement , mixed $start [, mixed $length ] ) : mixed</li>
<li>trim — 去除字符串首尾处的空白字符（或者其他字符）</li>
<li>ucfirst — 将字符串的首字母转换为大写</li>
<li>ucwords — 将字符串中每个单词的首字母转换为大写</li>
<li>vfprintf — 将格式化字符串写入流</li>
<li>vprintf — 输出格式化字符串</li>
<li>vsprintf — 返回格式化字符串</li>
<li>wordwrap — 打断字符串为指定数量的字串</li>
<li>preg_replace()，搜索匹配替换字符串。Eg：搜索匹配到，,\n\r\s的使用|替换：preg_replace('<i>[,，\s\r\n]+</i>', '|', $ids);</li>
<li>sprintf()，格式化字符串。sprintf(格式,要转化的字符串)，Eg：Sprintf('%01.2f',$str);</li>
<li><p>
join — implode() 的别名
</p>
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#21028;&#26029;&#26159;&#21542;&#21253;&#21547;&#26576;&#23383;&#31526;&#20018;</span>
$<span style="color: #FF8C00;">tempArr</span> = explode(<span style="color: #CDC673;">','</span>,$<span style="color: #FF8C00;">str</span>);
<span style="color: #FF1493;">if</span>(count($<span style="color: #FF8C00;">tempArr</span>) &gt; 1){
    <span style="color: #FF1493;">return</span> <span style="color: #AF87FF;">true</span>;
}
</pre>
</div></li>
<li>htmlentities/htmlspecialchars/addslashes/stripslashes/strip_tags、mysql_real_escape_strin。</li>
<li>json_decode()，对 JSON 格式的字符串进行解码。</li>
<li>json_encode()，对变量进行 JSON 编码 。</li>
<li>strtolower()，把所有字符转换为小写</li>
<li>strtoupper(), 把所有字符转换为大写</li>
<li>strncmp() ， 二进制安全比较字符串开头的若干个字符（区分大小写）</li>
</ul>
</div>
</div>
<div id="outline-container-orga9a6ed3" class="outline-3">
<h3 id="orga9a6ed3"><span class="section-number-3">4.3</span> Math 函数</h3>
<div class="outline-text-3" id="text-4-3">
<ul class="org-ul">
<li>bcadd — [加]2个任意精度数字的加法计算</li>
<li>bcsub — [减]2个任意精度数字的减法</li>
<li>bcmul — [乘]2个任意精度数字乘法计算</li>
<li><p>
bcdiv — [除]2个任意精度的数字除法计算
</p>
<div class="org-src-container">
<pre class="src src-php">$<span style="color: #FF8C00;">a</span> = <span style="color: #CDC673;">'1.234'</span>;
$<span style="color: #FF8C00;">b</span> = <span style="color: #CDC673;">'5'</span>;
<span style="color: #FF1493;">echo</span>&#8239;bcadd($<span style="color: #FF8C00;">a</span>,$<span style="color: #FF8C00;">b</span>,&#8239;4);&#8239;&#8239;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#8239;6.2340</span>
<span style="color: #FF1493;">echo</span>&#8239;bcsub($<span style="color: #FF8C00;">a</span>,&#8239;$<span style="color: #FF8C00;">b</span>,&#8239;4);&#8239;&#8239;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#8239;-3.7660</span>
<span style="color: #FF1493;">echo</span>&#8239;bcmul(<span style="color: #CDC673;">'1.34747474747'</span>,&#8239;<span style="color: #CDC673;">'35'</span>,&#8239;3);&#8239;<span style="color: #8B8878;">//</span><span style="color: #8B8878;">&#8239;47.161</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">/*</span>
<span style="color: #8B8878;">**PHP &#39640;&#31934;&#24230;&#35745;&#31639;&#38382;&#39064;**</span>
<span style="color: #8B8878;">  1. &#24341;&#20837;</span>
<span style="color: #8B8878;">  javascript</span>
<span style="color: #8B8878;">  //&#20026;&#21861;&#19981;&#31561;&#20110; 0.3 ? &#65288;&#27491;&#30830;&#32467;&#26524;&#65306;0.30000000000000004&#65289;</span>
<span style="color: #8B8878;">  0.1 + 0.2</span>
<span style="color: #8B8878;">  //&#20026;&#21861;&#19981;&#31561;&#20110; 5.6 ? &#65288;&#27491;&#30830;&#32467;&#26524;&#65306;5.6000000000000005&#65289;</span>
<span style="color: #8B8878;">  0.8 * 7</span>
<span style="color: #8B8878;">  php</span>
<span style="color: #8B8878;">  // &#27491;&#30830;&#32467;&#26524;&#26159; 57&#65292;&#32780;&#19981;&#26159; 58</span>
<span style="color: #8B8878;">  var_dump(intval(0.58 * 100));</span>
<span style="color: #8B8878;">  2. &#21407;&#22240;&#20998;&#26512;</span>
<span style="color: #8B8878;">  &#28014;&#28857;&#36816;&#31639;&#24825;&#30340;&#31096;&#65292;&#24182;&#38750;&#35821;&#35328;&#30340; bug&#65292;&#20294;&#21644;&#35821;&#35328;&#30340;&#23454;&#29616;&#21407;&#29702;&#26377;&#20851;&#65292;&#19981;&#31649;&#20160;&#20040;&#35821;&#35328;&#65292;&#21482;&#35201;&#28041;&#21450;&#28014;&#28857;&#36816;&#31639;&#65292;&#37117;&#26159;&#23384;&#22312;&#31867;&#20284;&#30340;&#38382;&#39064;&#65292;&#20351;&#29992;&#26102;&#19968;&#23450;&#35201;&#27880;&#24847;&#12290;</span>
<span style="color: #8B8878;">  &#28014;&#28857;&#25968;&#30340;&#34920;&#31034;(IEEE 754)&#65306;&#28014;&#28857;&#25968;, &#20197;64&#20301;&#30340;&#38271;&#24230;(&#21452;&#31934;&#24230;)&#20026;&#20363;, &#20250;&#37319;&#29992;1&#20301;&#31526;&#21495;&#20301;(E), 11&#25351;&#25968;&#20301;(Q), 52&#20301;&#23614;&#25968;(M)&#34920;&#31034;(&#19968;&#20849;64&#20301;)&#12290;</span>
<span style="color: #8B8878;">  &#31526;&#21495;&#20301;&#65306;&#26368;&#39640;&#20301;&#34920;&#31034;&#25968;&#25454;&#30340;&#27491;&#36127;&#65292;0&#34920;&#31034;&#27491;&#25968;&#65292;1&#34920;&#31034;&#36127;&#25968;&#12290;</span>
<span style="color: #8B8878;">  &#25351;&#25968;&#20301;&#65306;&#34920;&#31034;&#25968;&#25454;&#20197;2&#20026;&#24213;&#30340;&#24130;&#65292;&#25351;&#25968;&#37319;&#29992;&#20559;&#31227;&#30721;&#34920;&#31034;&#12290;</span>
<span style="color: #8B8878;">  &#23614;&#25968;&#65306;&#34920;&#31034;&#25968;&#25454;&#23567;&#25968;&#28857;&#21518;&#30340;&#26377;&#25928;&#25968;&#23383;&#12290;</span>
<span style="color: #8B8878;">  0.58&#30340;&#20108;&#36827;&#21046;&#34920;&#31034;&#26159;: 0.10010100011110101110000101000111101011100001010001111</span>
<span style="color: #8B8878;">  0.57&#30340;&#20108;&#36827;&#21046;&#34920;&#31034;&#26159;: 0.1001000111101011100001010001111010111000010100011111</span>
<span style="color: #8B8878;">  &#22914;&#26524;&#21482;&#26159;&#36890;&#36807;&#36825;52&#20301;&#35745;&#31639;&#30340;&#35805;,&#20998;&#21035;&#26159;:0.58 -&gt; 0.57999999999999996&#65292;0.57 -&gt; 0.5699999999999999&#12290;</span>
<span style="color: #8B8878;">  PHP&#28014;&#28857;&#22411;&#22312;&#36827;&#34892;+-*%/&#23384;&#22312;&#19981;&#20934;&#30830;&#30340;&#38382;&#39064;&#65292;&#20363;&#22914;&#65292;floor((0.1+0.7)*10) &#36890;&#24120;&#20250;&#36820;&#22238; 7 &#32780;&#19981;&#26159;&#39044;&#26399;&#20013;&#30340; 8&#65292;&#22240;&#20026;&#35813;&#32467;&#26524;&#20869;&#37096;&#30340;&#34920;&#31034;&#20854;&#23454;&#26159;&#31867;&#20284; 7.9999999999...&#12290;</span>
<span style="color: #8B8878;">  3. &#32467;&#35770;</span>
<span style="color: #8B8878;">  &#27704;&#36828;&#19981;&#35201;&#30456;&#20449;&#28014;&#28857;&#25968;&#32467;&#26524;&#31934;&#30830;&#21040;&#20102;&#26368;&#21518;&#19968;&#20301;&#65292;&#20063;&#27704;&#36828;&#19981;&#35201;&#27604;&#36739;&#20004;&#20010;&#28014;&#28857;&#25968;&#26159;&#21542;&#30456;&#31561;&#12290;&#22914;&#26524;&#30830;&#23454;&#38656;&#35201;&#26356;&#39640;&#30340;&#31934;&#24230;&#65292;&#24212;&#35813;&#20351;&#29992;&#20219;&#24847;&#31934;&#24230;&#25968;&#23398;&#20989;&#25968;&#25110;&#32773; gmp &#20989;&#25968;&#12290;</span>
<span style="color: #8B8878;">  &#28014;&#28857;&#25968;&#31934;&#30830;&#20301;&#25968;&#21462;&#20915;&#20110; PHP &#37197;&#32622;&#21442;&#25968; precision&#65292;&#40664;&#35748; 14 &#20301;&#65292;&#35745;&#31639;&#26041;&#24335;&#65306;&#20174;&#24038;&#31532;&#19968;&#20010;&#38750;0&#25968;&#23601;&#26159;&#31934;&#24230;&#30340;&#24320;&#22987;&#12290;</span>
<span style="color: #8B8878;">*/</span>
</pre>
</div></li>
<li>bcmod — 对一个任意精度数字取模</li>
<li>bccomp — 比较两个任意精度的数字</li>
<li>bcpow — 任意精度数字的乘方</li>
<li>bcpowmod — Raise an arbitrary precision number to another, reduced by a specified modulus</li>
<li>bcscale — 设置所有bc数学函数的默认小数点保留位数</li>
<li>floatval(), 转换为浮点型</li>
<li>intval(),转换为整型</li>
<li>fmod — 返回除法的浮点数余数</li>
<li>intdiv — 对除法结果取整</li>
<li>bcsqrt — 任意精度数字的二次方根</li>
<li>sqrt — 平方根</li>
<li>is_finite — 判断是否为有限值</li>
<li>is_infinite — 判断是否为无限值</li>
<li>is_nan — 判断是否为合法数值</li>
<li>lcg_value — 组合线性同余发生器</li>
<li>log10 — 以 10 为底的对数</li>
<li>log1p — 返回 log(1 + number)，甚至当 number 的值接近零也能计算出准确结果</li>
<li>log — 自然对数</li>
<li>max — 找出最大值</li>
<li>min — 找出最小值</li>
<li>exp — 计算 e 的指数</li>
<li>expm1 — 返回 exp(number) - 1，甚至当 number 的值接近零也能计算出准确结果</li>
<li>pi — 得到圆周率值</li>
<li>pow— 指数表达式，pow ( number $base , number $exp ) : number</li>
<li>cos — 余弦</li>
<li>cosh — 双曲余弦</li>
<li>sin — 正弦</li>
<li>sinh — 双曲正弦</li>
<li>tan — 正切</li>
<li>tanh — 双曲正切</li>
<li>acos — 反余弦</li>
<li>acosh — 反双曲余弦</li>
<li>asin — 反正弦</li>
<li>asinh — 反双曲正弦</li>
<li>atan2 — 两个参数的反正切</li>
<li>atan — 反正切</li>
<li>atanh — 反双曲正切</li>
<li>deg2rad — 将角度转换为弧度</li>
<li>rad2deg — 将弧度数转换为相应的角度数</li>
<li>mt_getrandmax — 显示随机数的最大可能值</li>
<li>mt_rand — 生成更好的随机数</li>
<li>mt_srand — 播下一个更好的随机数发生器种子</li>
<li>rand — 产生一个随机整数</li>
<li>srand — 播下随机数发生器种子</li>
<li>intval(), 直接取整，intval ( mixed $var [, int $base = 10 ] ) : int</li>
<li>round(), 四舍五入</li>
<li>ceil()，向上取整</li>
<li><p>
floor(), 向下取整
</p>
<div class="org-src-container">
<pre class="src src-php">  <span style="color: #8B8878;">// </span><span style="color: #8B8878;">intval()</span>
  <span style="color: #8B8878;">// </span><span style="color: #8B8878;">3</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">intval</span>(3.14);
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">round()</span>
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#26684;&#24335;&#65306;round ( float $val [, int $precision = 0 [, int $mode = PHP_ROUND_HALF_UP ]] ) : float</span>
<span style="color: #8B8878;">//  </span><span style="color: #8B8878;">PHP_ROUND_HALF_UP&#12289; PHP_ROUND_HALF_DOWN PHP_ROUND_HALF_EVEN &#25110; PHP_ROUND_HALF_ODD</span>
$<span style="color: #FF8C00;">number</span> = 1346.21;
 <span style="color: #8B8878;">//</span><span style="color: #8B8878;">float(1346.21)</span>
var_dump(round($<span style="color: #FF8C00;">number</span>, 2));
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">float(1346)</span>
var_dump(round($<span style="color: #FF8C00;">number</span>, 0));
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">float(1350)</span>
var_dump(round($<span style="color: #FF8C00;">number</span>, -1));
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">float(1300)</span>
var_dump(round($<span style="color: #FF8C00;">number</span>, -2));
 <span style="color: #8B8878;">//</span><span style="color: #8B8878;">10,&#22235;&#33293;&#20845;&#20837;,&#36935;5&#36827;1</span>
var_dump(round(9.5, 0, <span style="color: #AF87FF;">PHP_ROUND_HALF_UP</span>));
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">9,&#22235;&#33293;&#20845;&#20837;,&#36935;5&#19981;&#33293;&#24323;</span>
var_dump(round(9.5, 0, <span style="color: #AF87FF;">PHP_ROUND_HALF_DOWN</span>));
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">10,&#22235;&#33293;&#20845;&#20837;,&#25972;&#25968;&#37096;&#20998;&#20026;&#22855;&#25968;&#21017;&#36827;1</span>
var_dump(round(9.5, 0, <span style="color: #AF87FF;">PHP_ROUND_HALF_EVEN</span>));
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">9,&#22235;&#33293;&#20845;&#20837;,&#25972;&#25968;&#37096;&#20998;&#20026;&#20598;&#25968;&#21017;&#36827;1</span>
var_dump(round(9.5, 0, <span style="color: #AF87FF;">PHP_ROUND_HALF_ODD</span>));
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">9</span>
var_dump(round(8.5, 0, <span style="color: #AF87FF;">PHP_ROUND_HALF_UP</span>));
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">8</span>
var_dump(round(8.5, 0, <span style="color: #AF87FF;">PHP_ROUND_HALF_DOWN</span>));
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">8</span>
var_dump(round(8.5, 0, <span style="color: #AF87FF;">PHP_ROUND_HALF_EVEN</span>));
<span style="color: #8B8878;">//</span><span style="color: #8B8878;">9</span>
var_dump(round(8.5, 0, <span style="color: #AF87FF;">PHP_ROUND_HALF_ODD</span>));
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">ceil()</span>
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#26684;&#24335;&#65306;ceil ( float $value ) : float</span>
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">4</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">ceil</span>(3.14);
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">floor()</span>
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#26684;&#24335;&#65306;floor ( float $value ) : float</span>
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">3</span>
<span style="color: #5FD7FF;">echo</span> <span style="color: #87D700;">floor</span>(3.14);
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">&#20445;&#30041;&#20004;&#20301;&#23567;&#25968;,&#19981;&#22235;&#33293;&#20116;&#20837;</span>
var_dump(floor(3.157*100)/100));
</pre>
</div></li>
<li>bindec — 二进制转换为十进制</li>
<li>decbin — 十进制转换为二进制</li>
<li>dechex — 十进制转换为十六进制</li>
<li>decoct — 十进制转换为八进制</li>
<li>octdec — 八进制转换为十进制</li>
<li>hexdec — 十六进制转换为十进制</li>
<li><p>
base_convert — 在任意进制之间转换数字
</p>
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">decbin ( int $number ) : string</span>
</pre>
</div></li>
<li>hypot — 计算一直角三角形的斜边长度</li>
</ul>
</div>
</div>
<div id="outline-container-org2cbe106" class="outline-3">
<h3 id="org2cbe106"><span class="section-number-3">4.4</span> 文件函数</h3>
<div class="outline-text-3" id="text-4-4">
<ul class="org-ul">
<li>basename — 返回路径中的文件名部分</li>
<li>chdir()：更改当前操作目录</li>
<li>chgrp — 改变文件所属的组</li>
<li>chmod — 改变文件模式</li>
<li>chown — 改变文件的所有者</li>
<li>clearstatcache — 清除文件状态缓存</li>
<li>copy — 拷贝文件</li>
<li>closedir()：关闭文件夹，参数是文件夹名称。</li>
<li>delete — 参见 unlink 或 unset</li>
<li>dirname — 返回当前文件路径中的目录部分，也就是当前文件/目录的所在目录。</li>
<li>disk_free_space — 返回目录中的可用空间</li>
<li>disk_total_space — 返回一个目录的磁盘总大小</li>
<li>file_exists — 检查文件或目录是否存在</li>
<li>filetype()：判断文件或目录的类型</li>
<li>is_dir — 判断给定文件名是否是一个目录</li>
<li>mkdir — 创建一个文件夹,第一个参数是指定目录名，第二个参数是目录权限，第三个参数如果为true，则递归创建。</li>
<li>readlink — 返回符号连接指向的目标</li>
<li>realpath_cache_get — 获取真实目录缓存的详情</li>
<li>realpath_cache_size — 获取真实路径缓冲区的大小</li>
<li>realpath — 返回规范化的绝对路径名</li>
<li>rename — 重命名一个文件或目录</li>
<li>rmdir — 删除目录</li>
<li>getcwd()：返回当前文件所在的目录</li>
<li>glob — 寻找与模式匹配的文件路径，以数组形式返回，参数1这个目录的所有内容，可以指定返回的具体类型。</li>
<li>pathinfo — 返回文件路径的信息</li>
<li>diskfreespace — disk_free_space 的别名</li>
<li>fclose — 关闭一个已打开的文件指针</li>
<li>feof — 测试文件指针是否到了文件结束的位置</li>
<li>fflush — 将缓冲内容输出到文件</li>
<li>fgetc — 从文件指针中读取字符</li>
<li>fgetcsv — 从文件指针中读入一行并解析 CSV 字段</li>
<li>fgets — 从文件指针中读取一行</li>
<li>fgetss — 从文件指针中读取一行并过滤掉 HTML 标记</li>
<li>filesize()：得到文件大小，单位是字节</li>
<li>fputcsv — 将行格式化为 CSV 并写入文件指针</li>
<li><p>
fputs — fwrite 的别名
</p>
<div class="org-src-container">
<pre class="src src-php"><span style="color: #8B8878;">// </span><span style="color: #8B8878;">fputcsv ( resource $handle , array $fields [, string $delimiter = ',' [, string $enclosure = '"' ]] ) : int</span>
<span style="color: #8B8878;">// </span><span style="color: #8B8878;">fgetcsv ( resource $handle [, int $length = 0 [, string $delimiter = ',' [, string $enclosure = '"' [, string $escape = '\\' ]]]] ) : array</span>
</pre>
</div></li>
<li>opendir()打开文件夹，参数是文件夹路径。</li>
<li>readhdir()：读取文件夹，参数是文件夹名称。</li>
<li>scandir('.')：以数组形式展示某个文件夹下的所有内容：</li>
<li>unlink()：删除文件。rmdir()：删除文件夹</li>
</ul>
</div>
</div>
</div>


      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            
            <a href="/tag/#/PHP" rel="tag"># PHP</a>
          
            
            <a href="/tag/#/PSR" rel="tag"># PSR</a>
          
        </div>
      

      
      
      
      
      

      
      
        <div class="post-nav" id="post-nav-id">
          <div class="post-nav-next post-nav-item">
            
              <a href="/algorithms/2015/05/12/project-euler/" rel="next" title="Project Euler">
                <i class="fa fa-chevron-left"></i> Project Euler
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/javascript/2015/01/15/jquery/" rel="prev" title="jQuery 开发笔记">
                jQuery 开发笔记 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      
      

      
    </footer>
  </article>

  <div class="post-spread">
    
  </div>
</div>


          </div>
          


          

        </div>
        
          

  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        
        
        







      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/assets/images/avatar.gif"
               alt="Zhao Rengui" />
          <p class="site-author-name" itemprop="name">Zhao Rengui</p>
           
              <p class="site-description motion-element" itemprop="description">Life doesn't just happen to you; you receive everything in your life based on what you've given. 生命中的一切都不是巧合，你得到什么，是源于你付出了什么。</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">53</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/">
                <span class="site-state-item-count">81</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
        
        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              
              
              <span class="links-of-author-item">
                <a href="https://github.com/zhaorengui" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              
              
              <span class="links-of-author-item">
                <a href="https://weibo.com/zhaorengui" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                
                
                <li class="links-of-blogroll-item">
                  <a href="https://jiangshengfei.github.io/" title="JiangShengfei" target="_blank">JiangShengfei</a>
                </li>
              
            </ul>
          </div>
        

        

      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            








            
              <div class="post-toc-content">
    <ol class=nav>
      <li class="nav-item nav-level-2"> <a class="nav-link" href="#org19c778a"> <span class="nav-text">1 PHP 应用记录</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org6852a83"> <span class="nav-text">1.1 PHP vs Java vs C</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org99f8a37"> <span class="nav-text">1.2 echo &amp; print &amp; printf &amp; sprintf &amp; var_dump &amp; print_r</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orgeab57fc"> <span class="nav-text">1.3 单引号和双引号的区别</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org435b599"> <span class="nav-text">1.4 isset vs empty vs is_null</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orgd84a598"> <span class="nav-text">1.5 exit vs die</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orga03e1d0"> <span class="nav-text">1.6 include vs require vs include_once vs require_once</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org0509cf0"> <span class="nav-text">1.7 stripslashes, htmlspecialchars, htmlentities, and strip_tags 区别</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org8db1f79"> <span class="nav-text">1.8 static, self, parent, and $this 区别</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orgef156f9"> <span class="nav-text">1.9 return, break, and continue 区别</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org762daca"> <span class="nav-text">1.10 值传递和引用传递的区别</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org2cf1bdc"> <span class="nav-text">1.11 构造函数 vs 析构函数</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org57bffb1"> <span class="nav-text">1.12 public, protected, private and final 区别</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org5d2469a"> <span class="nav-text">1.13 implode vs explode</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org058687a"> <span class="nav-text">1.14 字符串操作</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org83514f7"> <span class="nav-text">1.14.1 字符串大小写切换以及翻转和加密</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#orgb4f7ada"> <span class="nav-text">1.14.2 字符串截取</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#orgeeefcc5"> <span class="nav-text">1.14.3 字符串替换和比较函数</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#orgf14b0fd"> <span class="nav-text">1.14.4 字符串url解析和实体转换</span> </a> </li> </ol> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org83299cf"> <span class="nav-text">1.15 数组操作</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org6d5d03e"> <span class="nav-text">1.15.1 向二位数组中添加键值对</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org70def36"> <span class="nav-text">1.15.2 判断二维数组是否为空</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#orge131aaf"> <span class="nav-text">1.15.3 求数组中各个元素之和</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org8e644d3"> <span class="nav-text">1.15.4 取出两个数组中相同的内容</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org0659250"> <span class="nav-text">1.15.5 从数组中找到指定元素的位置</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org6fb9a87"> <span class="nav-text">1.15.6 删除数组中指定值的元素的几种方法</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#orgb354777"> <span class="nav-text">1.15.7 根据某一个键值合并生成一个新的二维数组</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#orgbfeb9d6"> <span class="nav-text">1.15.8 无限级树</span> </a> </li> </ol> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org2ca02ee"> <span class="nav-text">1.16 魔术方法</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orga485db3"> <span class="nav-text">1.17 面向对象方法get_object_vars、is_subclass_of、interface_exists</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org93941e5"> <span class="nav-text">1.18 mysql, mysqli, pdo 区别</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org4e9bd2d"> <span class="nav-text">1.19 PHP 命令传参</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orgadd7f95"> <span class="nav-text">1.20 PHP生成唯一标识的方法</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org7e80c8e"> <span class="nav-text">1.21 PHP手机号码中间4位加密</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org4a2937a"> <span class="nav-text">1.22 在字符串指定位置插入字符串</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orgf9359a8"> <span class="nav-text">1.23 数值中去除无效的0</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orga899743"> <span class="nav-text">1.24 PHP 生成UUID我唯一序列</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orgacd4906"> <span class="nav-text">1.25 获取上个月第一天及最后一天</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org1a72d20"> <span class="nav-text">1.26 获取当月第一天及最后一天</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orgd4e1d4e"> <span class="nav-text">1.27 获取当前年份、月份、日、天数</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org7911084"> <span class="nav-text">1.28 日期转时间戳，时间戳转日期</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orgd68175d"> <span class="nav-text">1.29 计算已成为会员多少天或距离某活动还剩余多少天</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org000f737"> <span class="nav-text">1.30 下载文件</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-4"> <a class="nav-link" href="#orgd33d481"> <span class="nav-text">1.30.1 参考资料</span> </a> </li> </ol> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org9b00a0e"> <span class="nav-text">1.31 获取当前URL</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orgf243fce"> <span class="nav-text">1.32 curl 请求处理</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orge0ab1b2"> <span class="nav-text">1.33 Cookie 与 Session</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org52609c5"> <span class="nav-text">1.34 跨域请求问题处理</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org0dab69b"> <span class="nav-text">1.34.1 问题处理</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org6af5b03"> <span class="nav-text">1.34.2 Session 跨域问题</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#orgb848288"> <span class="nav-text">1.34.3 References</span> </a> </li> </ol> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org6ec81f8"> <span class="nav-text">1.35 PHP 与 XML 技术</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org2e2f18e"> <span class="nav-text">1.36 trait</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orgd4805ec"> <span class="nav-text">1.37 yield 是什么？yield 使用场景？yield 核心原理？</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orgc8faef8"> <span class="nav-text">1.38 Slow array function used in loop</span> </a> </li> </ol> </li> <li class="nav-item nav-level-2"> <a class="nav-link" href="#org03d3dcf"> <span class="nav-text">2 附录 A：PHP 命名规范</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org7566551"> <span class="nav-text">2.1 类</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-4"> <a class="nav-link" href="#orgc05ed4d"> <span class="nav-text">2.1.1 类名称</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org5034f35"> <span class="nav-text">2.1.2 类属性</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#orgf95e476"> <span class="nav-text">2.1.3 类方法和函数名称</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org98a93b7"> <span class="nav-text">2.1.4 方法中参数</span> </a> </li> </ol> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org8749c86"> <span class="nav-text">2.2 变量和常量</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org3654618"> <span class="nav-text">2.2.1 引用变量</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org9354610"> <span class="nav-text">2.2.2 全局变量</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#orgbc0c98a"> <span class="nav-text">2.2.3 常量</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#orgb059830"> <span class="nav-text">2.2.4 全局常量</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org5a8218f"> <span class="nav-text">2.2.5 静态变量</span> </a> </li> </ol> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org95fff04"> <span class="nav-text">2.3 PSR-0 vs PSR-4</span> </a> </li> </ol> </li> <li class="nav-item nav-level-2"> <a class="nav-link" href="#org02a7410"> <span class="nav-text">3 附录 B：PHP 预定义常量</span> </a> </li> <li class="nav-item nav-level-2"> <a class="nav-link" href="#orgf6f762e"> <span class="nav-text">4 附录 C：PHP 函数</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org769f184"> <span class="nav-text">4.1 数组函数</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-4"> <a class="nav-link" href="#orgff625b7"> <span class="nav-text">4.1.1 排序函数</span> </a> </li> </ol> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orgc50419c"> <span class="nav-text">4.2 字符串函数</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orga9a6ed3"> <span class="nav-text">4.3 Math 函数</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org2cbe106"> <span class="nav-text">4.4 文件函数</span> </a> </li> </ol> </li>
    </ol>
  </div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>

        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  
  &copy;  2018 - 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Zhao Rengui</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://jekyllrb.com">Jekyll</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/simpleyyt/jekyll-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>





















  
   
  
  
  
  
  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>

  
  
  
  
  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>

  
  
  
  
  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery.lazyload/1.9.3/jquery.lazyload.min.js"></script>

  
  
  
  
  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.min.js"></script>

  
  
  
  
  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.ui.min.js"></script>

  
  
  
  
  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.pack.js"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/assets/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/assets/js/src/motion.js?v=5.1.1"></script>



  
  

  <script type="text/javascript" src="/assets/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/assets/js/src/post-details.js?v=5.1.1"></script>


  


  <script type="text/javascript" src="/assets/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  











  




  

    

  





  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>

  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'AQfgICDPDLhuWWdoL5dheFOJ-gzGzoHsz',
        appKey: 'brLcRuH3e1WsGsPm6hzR2bYP',
        placeholder: 'Write comment here.',
        avatar:'mm',
        guest_info:guest,
        pageSize:'' || 10,
    });
  </script>



  


  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
  


  

  
  <script type="text/javascript" src="/assets/js/src/js.cookie.js?v=5.1.1"></script>
  <script type="text/javascript" src="/assets/js/src/scroll-cookie.js?v=5.1.1"></script>


  

</body>
</html>

