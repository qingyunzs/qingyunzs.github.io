---
layout: post
title: GNU Emacs
author: zrg
comments: false
description: Emacs，著名的集成开发环境和文本编辑器。Emacs被公认为是最受专业程序员喜爱的代码编辑器之一。
categories: 
- software
tags:
- GNU-Emacs
- org-mode
photos:
---

<div id="outline-container-org7dc1ea1" class="outline-2">
<h2 id="org7dc1ea1">简介(Introduction)</h2>
<div class="outline-text-2" id="text-org7dc1ea1">
<p>
<b>EN</b>
<br />
GNU Emacs is the most popular and most ported Emacs text editor. It was created by GNU Project founder Richard Stallman. In common with other varieties of Emacs, GNU Emacs is extensible using a Turing complete programming language.
<br />
<b>CN</b>
<br />
EMACS，即 Editor MACroS（编辑器宏）的缩写，最初由 Richard Stallman(理查德·马修·斯托曼)于 1975 年在 MIT 协同 Guy Steele 共同完成。这一创意的灵感来源于 TECMAC 和 TMACS，它们是由 Guy Steele、Dave Moon、Richard Greenblatt、Charles Frankston 等人编写的宏文本编辑器。
<br />
Emacs 使用 Emacs Lisp，这种有着极强扩展性的编程语言，从而实现了包括编程、编译乃至网络浏览等等功能的扩展。
</p>
</div>
</div>
<div id="outline-container-org0cb462f" class="outline-2">
<h2 id="org0cb462f">快捷键(Keyboard)</h2>
<div class="outline-text-2" id="text-org0cb462f">
</div>
<div id="outline-container-orgcca2d96" class="outline-3">
<h3 id="orgcca2d96">Open Emacs on command line.</h3>
<div class="outline-text-3" id="text-orgcca2d96">
<p>
在命令行中打开Emacs
</p>
<pre class="example">
$ emacs -nw filename
</pre>
</div>
</div>
<div id="outline-container-org7ed5401" class="outline-3">
<h3 id="org7ed5401">Don't know how to use emacs?</h3>
<div class="outline-text-3" id="text-org7ed5401">
</div>
<div id="outline-container-orgb019a7c" class="outline-4">
<h4 id="orgb019a7c">缺省按键前缀(Default Prefix)</h4>
<div class="outline-text-4" id="text-orgb019a7c">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 1:</span> Prefix</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">按键前缀</th>
<th scope="col" class="org-left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C</td>
<td class="org-left">Ctrl</td>
</tr>

<tr>
<td class="org-left">M</td>
<td class="org-left">Alt</td>
</tr>

<tr>
<td class="org-left">S</td>
<td class="org-left">Shift</td>
</tr>

<tr>
<td class="org-left">RET</td>
<td class="org-left">Enter 回车键</td>
</tr>

<tr>
<td class="org-left">up/down/left/right</td>
<td class="org-left">上/下/左/右 方向键</td>
</tr>

<tr>
<td class="org-left">C-c</td>
<td class="org-left">当前编辑模式特有的命令</td>
</tr>

<tr>
<td class="org-left">C-x</td>
<td class="org-left">文件和缓冲区命令</td>
</tr>

<tr>
<td class="org-left">C-h</td>
<td class="org-left">获取帮助命令</td>
</tr>

<tr>
<td class="org-left">M-x</td>
<td class="org-left">键入函数名称前缀快捷键</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org2c5472d" class="outline-4">
<h4 id="org2c5472d">常用的快捷键(General Keyboard)</h4>
<div class="outline-text-4" id="text-org2c5472d">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 2:</span> general shotkeys</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">描述</th>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-x  C-c</td>
<td class="org-left">退出</td>
<td class="org-left">C-g</td>
<td class="org-left">退出一个正在运行的命令</td>
</tr>

<tr>
<td class="org-left">C-v</td>
<td class="org-left">查看下一屏</td>
<td class="org-left">M-v</td>
<td class="org-left">查看上一屏</td>
</tr>

<tr>
<td class="org-left">C-l</td>
<td class="org-left">重绘屏幕，并将光标所在行置于屏幕的中央</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">C-f</td>
<td class="org-left">向右移（forward,前进）</td>
<td class="org-left">C-b</td>
<td class="org-left">向左移（backward，回退）</td>
</tr>

<tr>
<td class="org-left">C-p</td>
<td class="org-left">上一行（previous）</td>
<td class="org-left">C-n</td>
<td class="org-left">下一行（next）</td>
</tr>

<tr>
<td class="org-left">M-f</td>
<td class="org-left">向右移（以单词为一个单位）</td>
<td class="org-left">M-b</td>
<td class="org-left">向左移（以单词为一个单位）</td>
</tr>

<tr>
<td class="org-left">M-&lt;</td>
<td class="org-left">移动到所有文字最开头</td>
<td class="org-left">M-&gt;</td>
<td class="org-left">移动到所有文字的最末尾</td>
</tr>

<tr>
<td class="org-left">C-a</td>
<td class="org-left">移动到行首</td>
<td class="org-left">C-e</td>
<td class="org-left">移动到行尾</td>
</tr>

<tr>
<td class="org-left">M-a</td>
<td class="org-left">移动到句首</td>
<td class="org-left">M-e</td>
<td class="org-left">移动到句尾</td>
</tr>

<tr>
<td class="org-left">C-k</td>
<td class="org-left">删除光标后的内容</td>
<td class="org-left">C-y</td>
<td class="org-left">粘贴</td>
</tr>

<tr>
<td class="org-left">C-/</td>
<td class="org-left">撤销</td>
<td class="org-left">C-x C-u</td>
<td class="org-left">撤销</td>
</tr>

<tr>
<td class="org-left">C-d</td>
<td class="org-left">删除光标后的字符</td>
<td class="org-left">M-w</td>
<td class="org-left">复制</td>
</tr>

<tr>
<td class="org-left">C-SPACE</td>
<td class="org-left">选择内容模式</td>
<td class="org-left">C-w</td>
<td class="org-left">剪切</td>
</tr>

<tr>
<td class="org-left">C-x C-f</td>
<td class="org-left">新建/打开文件</td>
<td class="org-left">C-x C-s</td>
<td class="org-left">保存</td>
</tr>

<tr>
<td class="org-left">C-x 2</td>
<td class="org-left">分屏</td>
<td class="org-left">C-x 0</td>
<td class="org-left">切换到窗口1</td>
</tr>

<tr>
<td class="org-left">C-x o</td>
<td class="org-left">切换窗口</td>
<td class="org-left">C-h t</td>
<td class="org-left">查看帮助</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org740e89b" class="outline-4">
<h4 id="org740e89b">基本文件操作(File)</h4>
<div class="outline-text-4" id="text-org740e89b">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 3:</span> File</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-x C-f</td>
<td class="org-left">打开/新建文件</td>
</tr>

<tr>
<td class="org-left">C-x C-s</td>
<td class="org-left">保存</td>
</tr>

<tr>
<td class="org-left">C-x C-w</td>
<td class="org-left">另存为</td>
</tr>

<tr>
<td class="org-left">C-x C-v</td>
<td class="org-left">关闭当前缓冲区文件，打开新文件</td>
</tr>

<tr>
<td class="org-left">C-x i</td>
<td class="org-left">在当前光标位置插入文件</td>
</tr>

<tr>
<td class="org-left">C-x b</td>
<td class="org-left">新建/切换缓存区</td>
</tr>

<tr>
<td class="org-left">C-x C-b</td>
<td class="org-left">显示缓存区列表</td>
</tr>

<tr>
<td class="org-left">C-x k</td>
<td class="org-left">关闭当前缓存区</td>
</tr>

<tr>
<td class="org-left">C-x C-c</td>
<td class="org-left">退出emacs.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org699e891" class="outline-4">
<h4 id="org699e891">光标移动(Move)</h4>
<div class="outline-text-4" id="text-org699e891">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 4:</span> Move</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-f</td>
<td class="org-left">光标向后移动</td>
</tr>

<tr>
<td class="org-left">C-b</td>
<td class="org-left">光标向前移动</td>
</tr>

<tr>
<td class="org-left">C-p</td>
<td class="org-left">上一行</td>
</tr>

<tr>
<td class="org-left">C-n</td>
<td class="org-left">下一行</td>
</tr>

<tr>
<td class="org-left">M-f</td>
<td class="org-left">光标移动到单词尾部</td>
</tr>

<tr>
<td class="org-left">M-b</td>
<td class="org-left">光标移动到单词头部</td>
</tr>

<tr>
<td class="org-left">C-a</td>
<td class="org-left">行首</td>
</tr>

<tr>
<td class="org-left">C-e</td>
<td class="org-left">行尾</td>
</tr>

<tr>
<td class="org-left">C-v</td>
<td class="org-left">向下翻页</td>
</tr>

<tr>
<td class="org-left">M-v</td>
<td class="org-left">向上翻页</td>
</tr>

<tr>
<td class="org-left">M-&lt;</td>
<td class="org-left">到文件开头</td>
</tr>

<tr>
<td class="org-left">M-&gt;</td>
<td class="org-left">到文件结尾</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org48a26f2" class="outline-4">
<h4 id="org48a26f2">文本编辑(Text Edit)</h4>
<div class="outline-text-4" id="text-org48a26f2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 5:</span> Text Edit</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">M-n/C-u n</td>
<td class="org-left">重复执行后一个命令n次</td>
</tr>

<tr>
<td class="org-left">C-d</td>
<td class="org-left">删除后一个字符</td>
</tr>

<tr>
<td class="org-left">M-d</td>
<td class="org-left">删除前一个字符</td>
</tr>

<tr>
<td class="org-left">Del</td>
<td class="org-left">删除前一个字符</td>
</tr>

<tr>
<td class="org-left">M-Del</td>
<td class="org-left">删除前一个单词</td>
</tr>

<tr>
<td class="org-left">C-k</td>
<td class="org-left">移除一行</td>
</tr>

<tr>
<td class="org-left">C-@</td>
<td class="org-left">设定标志位(主要是为了粘贴剪切以及删除使用)</td>
</tr>

<tr>
<td class="org-left">C-w</td>
<td class="org-left">移除标记区域的内容（剪切）</td>
</tr>

<tr>
<td class="org-left">M-w</td>
<td class="org-left">复制标记区域的内容（复制）</td>
</tr>

<tr>
<td class="org-left">C-y</td>
<td class="org-left">粘贴</td>
</tr>

<tr>
<td class="org-left">M-y</td>
<td class="org-left">召回更早的内容 (在kill缓冲区内循环)</td>
</tr>

<tr>
<td class="org-left">C-t</td>
<td class="org-left">交换两个字符的位置</td>
</tr>

<tr>
<td class="org-left">M-t</td>
<td class="org-left">交换两个单词的位置</td>
</tr>

<tr>
<td class="org-left">C-x C-t</td>
<td class="org-left">交换两行的位置</td>
</tr>

<tr>
<td class="org-left">M-u</td>
<td class="org-left">使从光标位置到单词结尾处的字母变成大写</td>
</tr>

<tr>
<td class="org-left">M-l</td>
<td class="org-left">与M-u相反</td>
</tr>

<tr>
<td class="org-left">M-c</td>
<td class="org-left">使从光标位置开始的单词的首字母变为大写</td>
</tr>

<tr>
<td class="org-left">M-x mark-whole-buffer or C-x h, M-x indent-region or C-M-\</td>
<td class="org-left">选中整个文件，然后格式化</td>
</tr>

<tr>
<td class="org-left">M-x mark-defun or C-M-h, M-x indent-region or C-M-\</td>
<td class="org-left">选中函数，格式化</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org3cb336a" class="outline-4">
<h4 id="org3cb336a">搜索(search)</h4>
<div class="outline-text-4" id="text-org3cb336a">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 6:</span> search</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-s</td>
<td class="org-left">向前搜索</td>
</tr>

<tr>
<td class="org-left">C-r</td>
<td class="org-left">向前搜索</td>
</tr>

<tr>
<td class="org-left">M-%</td>
<td class="org-left">查找及替换:首先按下快捷键，输入要替换的词，RET，然后输入要替换的词，RET</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orga63d142" class="outline-4">
<h4 id="orga63d142">窗口命令(Window)</h4>
<div class="outline-text-4" id="text-orga63d142">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 7:</span> window</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-x 2</td>
<td class="org-left">水平分割窗格</td>
</tr>

<tr>
<td class="org-left">C-x 3</td>
<td class="org-left">垂直分割窗格</td>
</tr>

<tr>
<td class="org-left">C-x o</td>
<td class="org-left">切换至其他窗格</td>
</tr>

<tr>
<td class="org-left">C-x 0</td>
<td class="org-left">关闭窗格</td>
</tr>

<tr>
<td class="org-left">C-x 1</td>
<td class="org-left">关闭除了光标所在窗格外所有窗格</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orga1e5db3" class="outline-4">
<h4 id="orga1e5db3">帮助(Help)</h4>
<div class="outline-text-4" id="text-orga1e5db3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 8:</span> help</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-h m</td>
<td class="org-left">查看当前模式</td>
</tr>

<tr>
<td class="org-left">C-h c</td>
<td class="org-left">显示快捷键绑定的命令</td>
</tr>

<tr>
<td class="org-left">C-h k</td>
<td class="org-left">显示快捷键绑定的命令和它的作用</td>
</tr>

<tr>
<td class="org-left">C-h f</td>
<td class="org-left">显示函数的功能</td>
</tr>

<tr>
<td class="org-left">C-h b</td>
<td class="org-left">显示当前缓冲区所有可用的快捷键</td>
</tr>

<tr>
<td class="org-left">C-h t</td>
<td class="org-left">打开emacs教程</td>
</tr>

<tr>
<td class="org-left">M-x quit</td>
<td class="org-left">退出help</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="outline-container-org8f7f4cb" class="outline-2">
<h2 id="org8f7f4cb">自定义(Custom)</h2>
<div class="outline-text-2" id="text-org8f7f4cb">
</div>
<div id="outline-container-org4c24ada" class="outline-3">
<h3 id="org4c24ada">基础定制(Basic Custom)</h3>
<div class="outline-text-3" id="text-org4c24ada">
<div class="org-src-container">
<pre class="src src-emacs-lisp" id="orge4d3d30"><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#26174;&#31034;&#34892;&#21015;&#21495;</span>
(<span style="color: #a020f0;">setq</span> column-number-mode t)
(<span style="color: #a020f0;">setq</span> line-number-mode t)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#35774;&#32622;&#26631;&#39064;&#26639;</span>
(<span style="color: #a020f0;">setq</span> frame-title-format <span style="color: #8b2252;">"Welcome to Emacs world! "</span>)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#31105;&#29992;&#33756;&#21333;&#26639;&#65307;F10&#24320;&#21551;&#33756;&#21333;&#26639;</span>
(menu-bar-mode nil)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21462;&#28040;&#24037;&#20855;&#26639;</span>
(tool-bar-mode nil)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21462;&#28040;&#28378;&#21160;&#26639;</span>
(set-scroll-bar-mode nil)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#30452;&#25509;&#25171;&#24320;&#21644;&#26174;&#31034;&#22270;&#29255;</span>
(<span style="color: #a020f0;">setq</span> auto-image-file-mode t)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#26174;&#31034;&#26102;&#38388;</span>
(display-time-mode t)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">24&#23567;&#26102;&#21046;</span>
(<span style="color: #a020f0;">setq</span> display-time-24hr-format t)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#35774;&#32622;F11&#26368;&#22823;&#21270;</span>
(global-set-key [f11] 'maximized)
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">maximized</span> ()
(<span style="color: #a020f0;">interactive</span>)
(x-send-client-message nil 0 nil <span style="color: #8b2252;">"_NET_WM_STATE"</span> 32 '(2 <span style="color: #8b2252;">"_NET_WM_STATE_MAXIMIZED_HORZ"</span> 0)) (x-send-client-message nil 0 nil <span style="color: #8b2252;">"_NET_WM_STATE"</span> 32 '(2 <span style="color: #8b2252;">"_NET_WM_STATE_MAXIMIZED_VERT"</span> 0))
)
</pre>
</div>

<p>
快速设置生效命令: 
</p>
<pre class="example">
M-x eval-buffer
</pre>
</div>
</div>
<div id="outline-container-orgc5000bd" class="outline-3">
<h3 id="orgc5000bd">自定义高级配置(Advanced Custom)</h3>
<div class="outline-text-3" id="text-orgc5000bd">
</div>
<div id="outline-container-org02079dd" class="outline-4">
<h4 id="org02079dd">插件(plugin) &amp; 主题(Theme)</h4>
<div class="outline-text-4" id="text-org02079dd">
<ol class="org-ol">
<li><p>
安装
<br />
示例：安装 plantuml 插件
</p>
<pre class="example">
M+x package-install &lt;RET&gt;
plantuml-mode &lt;RET&gt;
</pre>

<p>
<br />
示例：安装 monokai-pro 主题（手动安装）
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp" id="org1998468">// &#23558;&#28155;&#21152;&#21040; ~/.emacs &#25110; ~/.emacs.d/init.el &#25991;&#20214;
(add-to-list 'load-path <span style="color: #8b2252;">"~/.emacs.d/lisp/"</span>)
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">plugin-name</span>)
</pre>
</div></li>
<li><p>
packages manager
<br />
查看所有安装包
</p>
<pre class="example">
M+x list-packages &lt;RET&gt;
</pre>

<p>
<br />
自动卸载无效的包
</p>
<pre class="example">
M+x package-autoremove &lt;RET&gt;
</pre>

<p>
<br />
修改主题
</p>
<pre class="example">
M-x customize-themes &lt;RET&gt; 
</pre></li>
</ol>
</div>
</div>
<div id="outline-container-org88b0a27" class="outline-4">
<h4 id="org88b0a27">常见插件</h4>
<div class="outline-text-4" id="text-org88b0a27">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 9:</span> 常见插件</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">htmlize</td>
<td class="org-left">export to html.</td>
</tr>

<tr>
<td class="org-left">org</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">org-plus-contrib</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">planuml-mode</td>
<td class="org-left">PlanUML</td>
</tr>

<tr>
<td class="org-left">emmet-mode</td>
<td class="org-left">Emmet plugin</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="outline-container-orga10391d" class="outline-2">
<h2 id="orga10391d">org-mode</h2>
<div class="outline-text-2" id="text-orga10391d">
<p>
Org mode is for keeping notes, maintaining TODO lists, planning projects, and authoring documents with a fast and effective plain-text system.
</p>
</div>
<div id="outline-container-org162a338" class="outline-3">
<h3 id="org162a338">Installation</h3>
<div class="outline-text-3" id="text-org162a338">
<p>
详见: <a href="https://orgmode.org/">https://orgmode.org/</a>
</p>
</div>
</div>
<div id="outline-container-org6bd7c45" class="outline-3">
<h3 id="org6bd7c45">常用快捷键(Keyboard)</h3>
<div class="outline-text-3" id="text-org6bd7c45">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 10:</span> org-mode keyboard</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">TAB  (org-cycle)</td>
<td class="org-left">Cycle visibility. 循环切换光标所在大纲的状态</td>
</tr>

<tr>
<td class="org-left">RET</td>
<td class="org-left">enter,Select this location.</td>
</tr>

<tr>
<td class="org-left">C-c C-n (org-next-visible-heading)</td>
<td class="org-left">Next heading.</td>
</tr>

<tr>
<td class="org-left">C-c C-p (org-previous-visible-heading)</td>
<td class="org-left">Previous heading.</td>
</tr>

<tr>
<td class="org-left">C-c C-f (org-forward-same-level)</td>
<td class="org-left">Next heading same level.</td>
</tr>

<tr>
<td class="org-left">C-c C-b (org-backward-same-level)</td>
<td class="org-left">Previous heading same level.</td>
</tr>

<tr>
<td class="org-left">C-c C-u (outline-up-heading)</td>
<td class="org-left">Backward to higher level heading.</td>
</tr>

<tr>
<td class="org-left">C-c C-j</td>
<td class="org-left">切换到大纲浏览状态</td>
</tr>

<tr>
<td class="org-left">M-RET (org-meta-return)</td>
<td class="org-left">Insert a new heading, item or row.  插入一个同级标题</td>
</tr>

<tr>
<td class="org-left">C-RET (org-insert-heading-respect-content)</td>
<td class="org-left">Insert a new heading at the end of the current subtree.</td>
</tr>

<tr>
<td class="org-left">M-LEFT/RIGHT</td>
<td class="org-left">将当前标题升/降级</td>
</tr>

<tr>
<td class="org-left">M-S-LEFT/RIGHT</td>
<td class="org-left">将子树升/降级</td>
</tr>

<tr>
<td class="org-left">M-S-UP/DOWN</td>
<td class="org-left">将子树上/下移</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org50789d4" class="outline-3">
<h3 id="org50789d4">一些小技巧</h3>
<div class="outline-text-3" id="text-org50789d4">
<pre class="example">
// 快速输入 #+BEGIN_SRC ... #+END_SRC
&lt;s &lt;TAB&gt;
</pre>


<pre class="example">
// 快速输入 #+BEGIN_EXAMPLE ... #+END_EXAMPLE
&lt;e &lt;TAB&gt;
</pre>


<pre class="example">
// 快速输入 #+BEGIN_EXPORT html ... #+END_EXPORT
输入&lt;h &lt;TAB&gt;
</pre>


<pre class="example">
// 快速输入 #+BEGIN_EXPORT latex ... #+END_EXPORT
&lt;l &lt;TAB&gt;
</pre>
</div>
</div>
<div id="outline-container-org26c5b45" class="outline-3">
<h3 id="org26c5b45">基本语法</h3>
<div class="outline-text-3" id="text-org26c5b45">
</div>
<div id="outline-container-orgf6e3f07" class="outline-4">
<h4 id="orgf6e3f07">标题(Title)</h4>
<div class="outline-text-4" id="text-orgf6e3f07">
<pre class="example">
#+TITLE: GNU Emacs
</pre>
</div>
</div>
<div id="outline-container-orgf75f369" class="outline-4">
<h4 id="orgf75f369">字体(Font)</h4>
<div class="outline-text-4" id="text-orgf75f369">
<pre class="example">
*粗体*
/斜体/
+删除线+
_下划线_
下标：H_2 O(这里必须留一个空格要不然2和O都成为小标，目前还不知道怎么去掉空格)
上标：E=mc^2
等宽字： =git=，~code~
</pre>
</div>
</div>
<div id="outline-container-org12fb1db" class="outline-4">
<h4 id="org12fb1db">段落(paragraph)</h4>
<div class="outline-text-4" id="text-org12fb1db">
<pre class="example">
使用 \\ 换行
空一行代表重新起段落
</pre>
</div>
</div>
<div id="outline-container-orgfcb336f" class="outline-4">
<h4 id="orgfcb336f">列表(List)</h4>
<div class="outline-text-4" id="text-orgfcb336f">
<ol class="org-ol">
<li>有序列表
<ul class="org-ul">
<li>无序列表以'-'、'+'或者'*'开头</li>
<li>有序列表以'1.'或者'1)'开头</li>
<li>描述列表用'::'</li>
</ul></li>
<li><p>
列表相关快捷键
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 11:</span> 折叠</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">S-TAB</td>
<td class="org-left">循环切换整个文档的大纲状态（折叠、打开下一级、打开全部）</td>
</tr>

<tr>
<td class="org-left">TAB</td>
<td class="org-left">循环切换光标所在的大纲状态</td>
</tr>
</tbody>
</table>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 12:</span> 大纲或者列表之间移动</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-c C-n/p</td>
<td class="org-left">移动到下上一个标题（不断标题是哪一级）</td>
</tr>

<tr>
<td class="org-left">C-c C-f/b</td>
<td class="org-left">移动到同一级别的下/上标题</td>
</tr>

<tr>
<td class="org-left">C-c C-u</td>
<td class="org-left">跳到上一级标题</td>
</tr>

<tr>
<td class="org-left">C-c C-j</td>
<td class="org-left">切换到大纲预览状态</td>
</tr>
</tbody>
</table>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 13:</span> 基于大纲/标题的编辑</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">M-RET</td>
<td class="org-left">插入一个同级别的标题</td>
</tr>

<tr>
<td class="org-left">M-S-RET</td>
<td class="org-left">插入一个同级别的TODO标题</td>
</tr>

<tr>
<td class="org-left">M-LEFT/RIGHT</td>
<td class="org-left">将当前标题升/降级</td>
</tr>

<tr>
<td class="org-left">M-S-LEFT/RIGHT</td>
<td class="org-left">将子树升/降级</td>
</tr>

<tr>
<td class="org-left">M-S-UP/DOWN</td>
<td class="org-left">将子树上/下移动</td>
</tr>

<tr>
<td class="org-left">C-c *</td>
<td class="org-left">将本行设为标题或者正文</td>
</tr>

<tr>
<td class="org-left">C-c C-w</td>
<td class="org-left">将子树或者区域移动到另一个标题处（跨缓冲区）</td>
</tr>

<tr>
<td class="org-left">C-c C-x b</td>
<td class="org-left">在新缓冲区显示当前分支</td>
</tr>

<tr>
<td class="org-left">C-c /</td>
<td class="org-left">只列出包含搜索结果的大纲，并高亮，支持多种搜索方式</td>
</tr>
</tbody>
</table></li>
</ol>
</div>
</div>
<div id="outline-container-orgd842bf6" class="outline-4">
<h4 id="orgd842bf6">嵌入元数据</h4>
<div class="outline-text-4" id="text-orgd842bf6">
<ol class="org-ol">
<li>内容元数据
<ul class="org-ul">
<li><p>
代码
</p>
<pre class="example">
#+begin_src c -n -t -h 7 -w 40
...
#+end_src
c 为所添加的语言
-n 显示行号
-t 清除格式
-h 7 设置高度为7
-w 40设置宽度为40
</pre></li>
<li><p>
注释
</p>
<pre class="example">
#+BEGIN_COMMENT
块注释
...
#+END_COMMENT
</pre></li>
<li><p>
表格与图片
</p>
<pre class="example">
#+CAPTION: This is the caption for the next table (or link)
则在需要的地方可以通过 \ref{table1} 来引用该表格。
</pre></li>
<li><p>
嵌入HTML
</p>
<pre class="example">
#+BEGIN_EXPORT html
All lines between these markers are exported literally
#+END_EXPORT
</pre></li>
<li><p>
包含文件
</p>
<pre class="example">
#+INCLUDE: "~/.emacs" src emacs-lisp
</pre></li>
</ul></li>
<li><p>
文档元数据
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 14:</span> 文档元数据</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">H:</td>
<td class="org-left">标题层数</td>
</tr>

<tr>
<td class="org-left">num:</td>
<td class="org-left">章节(标题)是否自动编号</td>
</tr>

<tr>
<td class="org-left">toc:</td>
<td class="org-left">是否生成索引</td>
</tr>

<tr>
<td class="org-left">creator:</td>
<td class="org-left">是否生成 "creat by emacs…"</td>
</tr>

<tr>
<td class="org-left">LINKUP:</td>
<td class="org-left">UP: 链接</td>
</tr>

<tr>
<td class="org-left">LINKHOME:</td>
<td class="org-left">HEME: 链接</td>
</tr>
</tbody>
</table></li>
</ol>
</div>
</div>
<div id="outline-container-org8b0871a" class="outline-4">
<h4 id="org8b0871a">表格(Table)</h4>
<div class="outline-text-4" id="text-org8b0871a">
<ol class="org-ol">
<li><p>
快捷键
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="all" frame="border">
<caption class="t-above"><span class="table-number">Table 15:</span> 整体区域</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">操作</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-c 竖线</td>
<td class="org-left">创建或者转化成表格</td>
</tr>

<tr>
<td class="org-left">C-c C-c</td>
<td class="org-left">调整表格，不移动光标</td>
</tr>

<tr>
<td class="org-left">TAB</td>
<td class="org-left">移动到下一区域，必要时新建一行</td>
</tr>

<tr>
<td class="org-left">S-TAB</td>
<td class="org-left">移动到上一区域</td>
</tr>

<tr>
<td class="org-left">RET</td>
<td class="org-left">移动到下一行，必要时新建一行</td>
</tr>
</tbody>
</table>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 16:</span> 编辑行和列</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">M-LEFT/RIGHT</td>
<td class="org-left">移动列</td>
</tr>

<tr>
<td class="org-left">M-UP/DOWN</td>
<td class="org-left">移动行</td>
</tr>

<tr>
<td class="org-left">M-S-LEFT/RIGHT</td>
<td class="org-left">删除/插入列</td>
</tr>

<tr>
<td class="org-left">M-S-UP/DOWN</td>
<td class="org-left">删除/插入行</td>
</tr>

<tr>
<td class="org-left">C-m</td>
<td class="org-left">移动到下一行，或新建一行</td>
</tr>

<tr>
<td class="org-left">C-c -</td>
<td class="org-left">添加水平分割线</td>
</tr>

<tr>
<td class="org-left">C-c RET</td>
<td class="org-left">添加水平分割线并跳到下一行</td>
</tr>

<tr>
<td class="org-left">C-c ^</td>
<td class="org-left">根据当前列排序，可以选择排序方式</td>
</tr>

<tr>
<td class="org-left">C-c `</td>
<td class="org-left">编辑当前单元格</td>
</tr>

<tr>
<td class="org-left">C-c C-x C-w</td>
<td class="org-left">剪切某个区域的表格内容</td>
</tr>

<tr>
<td class="org-left">C-c C-x C-y</td>
<td class="org-left">拷贝复制的内容到表格</td>
</tr>
</tbody>
</table></li>
<li><p>
表格计算
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 17:</span> 一张价格表，要求算出总额</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">数量</th>
<th scope="col" class="org-right">单价</th>
<th scope="col" class="org-right">总额</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">2</td>
<td class="org-right">3.45</td>
<td class="org-right">6.9</td>
</tr>

<tr>
<td class="org-left">4</td>
<td class="org-right">4.34</td>
<td class="org-right">17.36</td>
</tr>

<tr>
<td class="org-left">5</td>
<td class="org-right">3.44</td>
<td class="org-right">17.2</td>
</tr>

<tr>
<td class="org-left">5</td>
<td class="org-right">5.6</td>
<td class="org-right">28.</td>
</tr>
</tbody>
</table>
<pre class="example">
C-u C-c C-c 强制 org-mode 为整个表格进行设计。只希望在某一特定项上进行计算，输入：':=$1*$2′, 即在等号前再加一个冒号。
&lt;5&gt; 表示指定列的宽度，超出宽度的部分会用=&gt;表示，如果想要编辑，需要按下C-c ` ，会打开另一个buffer让你编辑, 用C-c C-c提交编辑内容。
&lt;l&gt; 表示左对齐，r,c,l字符分别表示右、中和左对齐。
</pre></li>
</ol>
</div>
</div>
<div id="outline-container-org483614d" class="outline-4">
<h4 id="org483614d">链接(Link)</h4>
<div class="outline-text-4" id="text-org483614d">
<p>
在一个链接上按C-c C-o即可访问。
</p>
<ol class="org-ol">
<li>自动链接
对于符合链接规则的内容，org-mode会自动将其视为链接，包括括文件、网页、邮箱、新闻组、BBDB 数据库项、 IRC 会话和记录等。</li>
<li><p>
手动链接
</p>
<pre class="example">
[[link][description]]
[[link]]
</pre></li>
<li><p>
内部链接
</p>
<pre class="example">
#&lt;&lt;target&gt;&gt;
设置到target的链接：[[target]] 或 [[target][猛击锚点]]
</pre></li>
</ol>
</div>
</div>
<div id="outline-container-org60d4540" class="outline-4">
<h4 id="org60d4540">注脚</h4>
<div class="outline-text-4" id="text-org60d4540">
<p>
注脚的格式有两种，一是方括号+数字，二是方括号+fn+名字。插入脚注：C-c C-x f ，接下俩你可以写一些其他东西，然后在文章的末尾写上下面两句话（注意：必须要顶格写）：
</p>
<pre class="example">
[1] The link is: http://orgmode.org
[fn:orghome] The link is: http://orgmode.org
</pre>
</div>
</div>
<div id="outline-container-org212238f" class="outline-4">
<h4 id="org212238f">分割线</h4>
<div class="outline-text-4" id="text-org212238f">
<pre class="example">
五条短线或以上
</pre>

<hr />
</div>
</div>
<div id="outline-container-org86fb9f8" class="outline-4">
<h4 id="org86fb9f8">标签(Tag)</h4>
<div class="outline-text-4" id="text-org86fb9f8">
<ol class="org-ol">
<li><p>
标记tags
</p>
<pre class="example">
#+FILETAGS: :Peter:Boss:Secret:
</pre>

<p>
更方便的做法是在正文部分用C-c C-q 或直接在标题上用C-c C-c创建标签
</p></li>
<li>预定义tags
<ul class="org-ul">
<li>预定义的方式有两种：
<ul class="org-ul">
<li><p>
在当前文件头部定义这种方式预定义的标签只能在当前文件中使用。
</p>
<pre class="example">
使用#+TAGS元数据进行标记， #+TAGS: { 桌面(d) 服务器(s) }  编辑器(e) 浏览器(f) 多媒体(m) 压缩(z)
每项之间必须用空格分隔，可以在括号中定义一个快捷键；
花括号里的为标签组，只能选择一个对标签定义进行修改后，要在标签定义的位置按 C-c C-c 刷新才能生效。
</pre></li>
<li><p>
在配置文件中定义
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp" id="org9ef0e58">(<span style="color: #a020f0;">setq</span> org-tag-alist '((<span style="color: #483d8b;">:startgroup</span> . nil)
    (<span style="color: #8b2252;">"@work . ?w) ("</span>@home<span style="color: #8b2252;">" . ?h)</span>
<span style="color: #8b2252;">    ("</span>@tennisclub<span style="color: #8b2252;">" . ?t)</span>
<span style="color: #8b2252;">    (:endgroup . nil)</span>
<span style="color: #8b2252;">    ("</span>laptop<span style="color: #8b2252;">" . ?l) ("</span>pc<span style="color: #8b2252;">" . ?p)))</span>
</pre>
</div>
<p>
默认情况下，org会动态维护一个Tag列表，即当前输入的标签若不在列表中，则自动加入列表以供下次补齐使用。为了使这几种情况（默认列表、文件预设tags，全局预设tags）同时生效，需要在文件中增加一个空的TAGS定义：'#+TAGS:'
</p></li>
</ul></li>
</ul></li>
<li><p>
tags查询
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 18:</span> tags查询快捷键</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-c \</td>
<td class="org-left">可以用来查找某个tag下的所有项目</td>
</tr>

<tr>
<td class="org-left">C-c / m</td>
<td class="org-left">搜索并按树状结构显示</td>
</tr>

<tr>
<td class="org-left">C-c a m</td>
<td class="org-left">从所有agenda file里建立符合某tag的全局性列表</td>
</tr>
</tbody>
</table>
<pre class="example">
+   和      a+b   同时有这两个标签
-   排除    a-b   有 a 但没有 b
|   或      a|b   有 a 或者有 b
&amp;   和      a&amp;b   同时有 a 和 b，可以用“+”替代
</pre></li>
</ol>
</div>
</div>
<div id="outline-container-orgc71a243" class="outline-4">
<h4 id="orgc71a243">源码(Source Code)</h4>
<div class="outline-text-4" id="text-orgc71a243">
<ol class="org-ol">
<li><p>
Structure of Code Blocks
</p>
<pre class="example">
#+NAME:&lt;name&gt;
#+BEGIN_SRC &lt;language&gt; &lt;switches&gt; &lt;header arguments&gt;
&lt;body&gt;
#+END_SRC
</pre>


<dl class="org-dl">
<dt>'&lt;switches&gt;'</dt><dd>Optional. Switches provide finer control of the code execution, export, and format(see the discussion of switches in <a href="https://orgmode.org/org.html#Literal-Examples">Literal Examples</a>).</dd>
<dt>'&lt;header arguments&gt;'</dt><dd>Optional. Heading arguments control many aspects of evaluation, export and tangling of code blocks(see <a href="https://orgmode.org/org.html#Using-Header-Arguments">Using Header Arguments</a>).</dd>
<dt>'&lt;body&gt;'</dt><dd>Source code in the dialect of the specified language identifier.</dd>
</dl>

<p>
// Literal Examples
</p>
<pre class="example">
#+BEGIN_SRC emacs-lisp -n 1 -r -l "((%s))"
(save-excursion                 (ref:sc)
	(goto-char (point-min))      (ref:jump)
#+END_SRC
</pre>


<dl class="org-dl">
<dt>'-n' or '+n'</dt><dd>to get the lines of the example numbered.</dd>
<dt>'-r'</dt><dd>switch which removes the labels from the source code. With the ‘-n’ switch, links to these references are labeled by the line numbers from the code liing.</dd>
<dt>'-i'</dt><dd>to preserve the indentation of a specific code block(see <a href="https://orgmode.org/org.html#Editing-Source-Code">Editing Source Code</a>).<br /></dd>
<dt>'-l'</dt><dd>to change the format. See also the variable org-coderef-label-format.<br /></dd>
</dl>

<p>
// Example 2
</p>
<pre class="example">
#+ALTR_HTML::textarea t :width 40
#+BEGIN_EXAMPLE
 (defun org-xor (a b)
 "Exclusive or."
 (if a (not b) b))
#+END_EXAMPLE
</pre>

<p>
HTML export also allows examples to be published as text areas (see <a href="https://orgmode.org/org.html#Text-areas-in-HTML-export">Text areas in HTML export</a>).
</p></li>
<li><p>
Environment of a Code Block
</p>
<ol class="org-ol">
<li>Passing arguments</li>
</ol>
<pre class="example">
#+NAME: with-rownames
| one | 1 | 2 | 3 | 4 |  5 |
| two | 6 | 7 | 8 | 9 | 10 |
#+BEGIN_SRC python :var tab=with-rownames :rownames yes
 return [[val + 10 for val in row] for row in tab]
#+END_SRC
</pre>


<pre class="example">
#+RESULTS:
| one | 11 | 12 | 13 | 14 | 15 |
| two | 16 | 17 | 18 | 19 | 20 |
</pre>


<ol class="org-ol">
<li>Using sessions</li>

<li>Choosing a working directory</li>
</ol>
<pre class="example">
#+BEGIN_SRC R :file myplot.png :dir ~/Work
 matplot(matrix(rnorm(100), 10), type="l")
#+END_SRC
</pre>


<pre class="example">
#+BEGIN_SRC R :file plot.png :dir /scp:dand@yakuba.princeton.edu:
  plot(1:10, main=system("hostname", intern=TRUE))
#+END_SRC
</pre>


<pre class="example">
[[file:{{site.url}}/assets/images/plot.png][plot.png]]
</pre>


<ol class="org-ol">
<li>Inserting headers and footers</li>
</ol>
<p>
<br />
The ‘prologue’ header argument is for appending to the top of the code block for execution, like a reset instruction. For example, you may use ‘:prologue "reset"’ in a Gnuplot code block or, for every such block:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr">1: </span>(add-to-list 'org-babel-default-header-args:gnuplot
<span class="linenr">2: </span>     '((<span style="color: #483d8b;">:prologue</span> . <span style="color: #8b2252;">"reset"</span>)))
</pre>
</div></li>
<li><p>
Evaluating Code Blocks
</p>
<pre class="example">
1) How to evaluate source code
2) Limit code block evaluation
3) Cache results of evaluation
</pre></li>
<li>Exporting Code Blocks
<dl class="org-dl">
<dt>‘code’</dt><dd>The default. The body of code is included into the exported file. Example: ‘:exports code’.</dd>
<dt>‘results’</dt><dd>The results of evaluation of the code is included in the exported file. Example: ‘:exports results’.</dd>

<dt>‘both’</dt><dd>Both the code and results of evaluation are included in the exported file. Example: ‘:exports both’.</dd>

<dt>‘none’</dt><dd>Neither the code nor the results of evaluation is included in the exported file. Whether the code is evaluated at all depends on other options. Example: ‘:exports none’.</dd>
</dl></li>
<li><p>
Extracting Source Code
Create pure source code files.
</p>
<pre class="example">
1) Header arguments
2) Functions
3) Hooks
4) Jumping between code and Org
</pre></li>
<li>Noweb Reference Syntax
Literate programming in Org mode.</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-org30e54f3" class="outline-3">
<h3 id="org30e54f3">PlantUML</h3>
<div class="outline-text-3" id="text-org30e54f3">
</div>
<div id="outline-container-orgbc75e91" class="outline-4">
<h4 id="orgbc75e91">什么是 PlantUML?</h4>
<div class="outline-text-4" id="text-orgbc75e91">
<p>
PlantUML是一个快速创建UML图形的组件。下面是一个简单的示例：
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">#+BEGIN_SRC plantuml :file {{site.url}}/assets/images/orgmode-babel-sequenceuml.png</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Alice -&gt; Bob: synchronous call</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Alice -&gt;&gt; Bob: asynchronous call</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">#+END_SRC</span>
</pre>
</div>


<div class="figure">
<p><img src="{{site.url}}/assets/images/orgmode-babel-sequenceuml.png" alt="orgmode-babel-sequenceuml.png" />
</p>
</div>

<p>
<a href="http://www.plantuml.com/plantuml/">在线Demo服务</a>
</p>
</div>
</div>
<div id="outline-container-org6f0f2c3" class="outline-4">
<h4 id="org6f0f2c3">配置 Emacs 支持 PlantUML</h4>
<div class="outline-text-4" id="text-org6f0f2c3">
<ol class="org-ol">
<li>下载 plantuml.jar 到你的硬盘上
<a href="http://www.plantuml.com/download.html">官网下载页面</a></li>
<li><p>
安装生成图片用的软件：Graphviz
</p>
<pre class="example">
$ sudo apt install graphviz
</pre></li>
<li><p>
配置 Emacs 支持 PlantUML
首先，将下载的 plantuml.jar 文件放到 ~/.emacs.d/plantuml/ 目录下；
<br />
其次，打开 ~/.emacs.d/init.el 文件，添加配置加载 PlantUML；
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr">1: </span><span style="color: #b22222;">;; </span><span style="color: #b22222;">Load plantuml</span>
<span class="linenr">2: </span>(<span style="color: #a020f0;">setq</span> org-plantuml-jar-path
<span class="linenr">3: </span>(expand-file-name <span style="color: #8b2252;">"~/.emacs.d/plantuml/plantuml.jar"</span>))
</pre>
</div>

<p>
最后在 ~/.emacs 或 ~/.emacs.d/init.el 中，添加配置语言。
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr">1: </span><span style="color: #b22222;">;; </span><span style="color: #b22222;">active Org-babel languages</span>
<span class="linenr">2: </span>(org-babel-do-load-languages
<span class="linenr">3: </span>'org-babel-load-languages
<span class="linenr">4: </span>'(<span style="color: #b22222;">;; </span><span style="color: #b22222;">other Babel languages</span>
<span class="linenr">5: </span>(plantuml . t))) <span style="color: #b22222;">;; </span><span style="color: #b22222;">add this line</span>
</pre>
</div></li>
<li><p>
PlantUML mode for Emacs
</p>
<pre class="example">
M-x package-install &lt;RET&gt;
plantuml-mode &lt;RET&gt;
</pre>


<pre class="example">
M-x customize-variable &lt;RET&gt;
plantuml-jar-path &lt;RET&gt;
</pre></li>
</ol>
</div>
</div>
<div id="outline-container-org2444597" class="outline-4">
<h4 id="org2444597">PlantUML 使用</h4>
<div class="outline-text-4" id="text-org2444597">
<ol class="org-ol">
<li>顺序图(Sequence Diagram)
<ul class="org-ul">
<li><p>
简单示例
<br />
顺序图用 -&gt; , &#x2013;&gt;, &lt;-, &lt;&#x2013; 来绘制参与者（Participants）之 间的消息（Message）。
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">#+BEGIN_SRC plantuml <span style="color: #483d8b;">:file</span> {{site.url}}/assets/images/plantuml-quickstart-s1.png
Alice -&gt; Bob: Authentication Request
Bob --&gt; Alice: Authentication Response

Alice -&gt; Bob: Another atuhentication Request
Alice &lt;-- Bob: Another authentication Response
</pre>
</div>


<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-s1.png" alt="plantuml-quickstart-s1.png" />
</p>
</div></li>
<li>注释
<br />
使用  ' 进行单行/多行注释</li>
<li><p>
申明参与者
<br />
使用 participant 关键词，也可以使用下面的参与者 分类关键词来申明参与者：
</p>
<ul class="org-ul">
<li>actor</li>
<li>boundary</li>
<li>control</li>
<li>entity</li>
<li>database</li>
</ul>

<p>
不同的参与者类型，其图标也是不一样的：
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-s2.png" alt="plantuml-quickstart-s2.png" />
</p>
</div>

<p>
使用 as 关键词可以为参与者起一个别名(显示申明)
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-s3.png" alt="plantuml-quickstart-s3.png" />
</p>
</div>

<p>
采用引号来申明参与者(隐示申明)
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-s4.png" alt="plantuml-quickstart-s4.png" />
</p>
</div></li>
<li><p>
发送消息给自己(Message to Self)
<br />
一个参与者可以给自己发送消息，消息名如果需要有多行文本，可以用 \n 来表示换行。
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-s5.png" alt="plantuml-quickstart-s5.png" />
</p>
</div></li>
<li><p>
改变箭头(Arrow)
<br />
<b>样式(Style)</b>
<br />
在用例图里可以通过以下方式来改变箭头的样式：
</p>
<ul class="org-ul">
<li>使用 \ 或 / 来替换 &lt; 或 &gt; 可以让箭头只显示上半部分或下半 部分。</li>
<li>重复输入箭头或斜杠（ &gt;&gt; // ），用来绘制空心箭头。</li>
<li>使用双横线 &#x2013; 替代 - 可以用来绘制点线。</li>
<li>在箭头后面加个 o 可以在箭头前绘制一个圆圈。</li>
<li>使用 &lt;-&gt; 可用来绘制双向箭头。</li>
</ul>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-s6.png" alt="plantuml-quickstart-s6.png" />
</p>
</div></li>
<li><p>
颜色(Color)
<br />
要改变箭头的颜色，可以使用HTML颜色符号
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-s7.png" alt="plantuml-quickstart-s7.png" />
</p>
</div></li>
<li><p>
消息序号(Message sequence numbering)
<br />
使用关键词 autonumber 给消息添加上序号。
</p>
<p>
<img src="{{site.url}}/assets/images/plantuml-quickstart-s8.png" alt="plantuml-quickstart-s8.png" />
如果需要指定一个起始号码，可以直接在 autonumber 后面加个数字就行 了，如果要设置自增量，再在后面加一个数字就行了（ autonumber start increment ）。
</p>
<p>
<img src="{{site.url}}/assets/images/plantuml-quickstart-s9.png" alt="plantuml-quickstart-s9.png" />
也可以为序号指定数字格式，这个格式化的过程实际上是Java类 DecimalFormat 来执行的（ 0 表示数字， # 缺省补零位数）。同样的，也可以使用一些HTML标签来控制数字的样式。
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-s10.png" alt="plantuml-quickstart-s10.png" />
</p>
</div></li>
<li><p>
标题(Title)
<br />
要给图形加一个标题可以用 title 关键词来设置。
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-s11.png" alt="plantuml-quickstart-s11.png" />
</p>
</div></li>
<li><p>
图形图例(Legend the diagram)
<br />
使用 legend 和 end legend 关键词可以设置图形的图例。图例可以设 为左对齐、右对齐和居中对齐。
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-s12.png" alt="plantuml-quickstart-s12.png" />
</p>
</div></li>
<li><p>
分割图形(Splitting diagrams)
<br />
关键词 newpage 是用来把图形分割成几个图片的。每一个被分割出来的 图片可以看作是一个新的页面（ new page ），如果要给新的页面添加一 个标题，可以紧跟在关键词 newpage 之后来设置。
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-s13.png" alt="plantuml-quickstart-s13.png" />
</p>
</div></li>
<li><p>
消息(Message)
<br />
<b>分组(Grouping)</b>
<br />
可以使用下面的关键词来实现：
</p>
<ul class="org-ul">
<li>alt/else</li>
<li>opt</li>
<li>loop</li>
<li>par</li>
<li>break</li>
<li>critical</li>
<li>group, 这个关键词后面的文字会作为组名显示在图形上</li>
</ul>

<p>
上面的关键词后可以添加一些文本用来显示在头部（注： group 除外，因 为它后面的文本用来显示在组名称的位置）。在组嵌套组的结构里可以用关 键词 end 来关闭组或者说是表示一个组符号的结束符（类似 if/endif ）。
</p>
<p>
<img src="{{site.url}}/assets/images/plantuml-quickstart-s14.png" alt="plantuml-quickstart-s14.png" />
<b>注解(Notes)</b>
使用 note left 或 note right 关键词
</p>
<p>
<img src="{{site.url}}/assets/images/plantuml-quickstart-s15.png" alt="plantuml-quickstart-s15.png" />
<b>一些其他的注解方式(Some other notes)</b>
通过使用关键词 note left of ， note right of 或 note over，可以把注解放置在与之相关的参与者的左边或右边，或下方。如果要使用多行注解，可以使用关键词 end note 来表示注解的结束。
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-s16.png" alt="plantuml-quickstart-s16.png" />
</p>
</div></li>
<li><p>
使用HTML进行格式化(Formatting using HTML)
<br />
可以使用少量的HTML标签来格式化文本：
</p>
<ul class="org-ul">
<li>&lt;b&gt; 加粗文本</li>
<li>&lt;u&gt; 或 &lt;u:#AAAAAA&gt; 或 &lt;u:colorName&gt; 用来加下划线</li>
<li>&lt;i&gt; 斜体</li>
<li>&lt;s&gt; 或 &lt;s:#AAAAAA&gt; 或 &lt;s:colorName&gt; 用来加删除线</li>
<li>&lt;w&gt; 或 &lt;w:#AAAAAA&gt; 或 &lt;w:colorName&gt; 用来加波浪线</li>
<li>&lt;color:#AAAAAA&gt; 或 &lt;color:colorName&gt; 用来设置文本颜色</li>
<li>&lt;back:#AAAAAA&gt; 或 &lt;back:colorName&gt; 用来设置背景色</li>
<li>&lt;size:nn&gt; 设置字体大小</li>
<li>&lt;img src="file"&gt; 或 &lt;img:file&gt; 用来添加图片，图片文件必须 是可以访问得到才行。</li>
<li>&lt;img src="<a href="http://url">http://url</a>"&gt; 或 &lt;img:<a href="http://url">http://url</a>&gt; 用来添加一个互 联网图片，同样的图片地址必须是可用的才行。</li>
</ul>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-s17.png" alt="plantuml-quickstart-s17.png" />
</p>
</div></li>
</ul></li>
<li>用例图(Use Case Diagram)
<ul class="org-ul">
<li><p>
用例(Usecase)
</p>
<pre class="example">
用例可以用一对小括号括起来表示，也可以使用 usecase 关键词来定义。
用例也可以通过使用 as 关键词来设置别名
</pre>


<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-u1.png" alt="plantuml-quickstart-u1.png" />
</p>
</div></li>

<li><p>
参与者(Actors)
<br />
定义参与者时，可以把参与者的名称放在两个冒号的中间，也可以用 actor 关键词来定义参与者。同样参与着也可以使用别名。
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-u2.png" alt="plantuml-quickstart-u2.png" />
</p>
</div></li>

<li><p>
示例
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-u99.png" alt="plantuml-quickstart-u99.png" />
</p>
</div></li>
</ul></li>
<li>类图(Class Diagram)
<ul class="org-ul">
<li>示例1</li>
</ul></li>
<li>活动图(Activity Diagram)
<ul class="org-ul">
<li><p>
简单活动(Simple Activity)
<br />
使用 (*) 来表示活动开始点和结束点。使用 &#x2013;&gt; 来表示箭头。
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-a1.png" alt="plantuml-quickstart-a1.png" />
</p>
</div></li>
<li><p>
带标注的箭头(Label on arrows)
<br />
可以通过方括号 [labels] 来设置标注
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-a2.png" alt="plantuml-quickstart-a2.png" />
</p>
</div></li>
<li><p>
改变箭头的方向(Changing arrow direction)
<br />
可以使用 -&gt; 创建一个水平箭头，也可以通过下面的方式来改变箭头 的方向：
</p>
<ul class="org-ul">
<li>-down-&gt; 向下（这个是默认的，等同于 =–&gt;=）</li>
<li>-right-&gt; 向右</li>
<li>-left-&gt; 向左</li>
<li>-up-&gt; 向上</li>
</ul>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-a2.png" alt="plantuml-quickstart-a2.png" />
</p>
</div>

<p>
在描述箭头时， up|down|left|right 这几个单词的写法可以简化， 用单词开头的一个或两个字母来替换就行了，比如 -down-&gt; 也可以写成 -d-&gt; 或者 -do-&gt; 。
</p></li>
<li><p>
分支(Branches)
<br />
可以使用 if/then/else 关键词来定义分支。
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-a4.png" alt="plantuml-quickstart-a4.png" />
</p>
</div></li>

<li><p>
多分支(More on Branches)
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-a5.png" alt="plantuml-quickstart-a5.png" />
</p>
</div></li>

<li><p>
同步块(Synchronization)
<br />
同步块可以用“=== code ===”来表示。
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-a6.png" alt="plantuml-quickstart-a6.png" />
</p>
</div>

<pre class="example">
实例
</pre>


<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-a7.png" alt="plantuml-quickstart-a7.png" />
</p>
</div></li>
<li><p>
长文本的活动描述(Long activity description)
<br />
在定义活动的时候，有时候需要用多行文字来描述这个活动，这时我们可以 在描述里添加换行符，也可以使用少量的HTML标签。以下是可以使用的HTML标签：
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #0000ff;">b</span>&gt;
&lt;<span style="color: #0000ff;">i</span>&gt;
&lt;<span style="color: #0000ff;">font</span> <span style="color: #a0522d;">size</span>=<span style="color: #8b2252;">"nn"</span>&gt; or &lt;<span style="color: #483d8b;">size</span>:<span style="color: #0000ff;">nn</span>&gt; to change font size
&lt;<span style="color: #0000ff;">font</span> <span style="color: #a0522d;">color</span>=<span style="color: #8b2252;">"#AAAAAA"</span>&gt; or &lt;<span style="color: #0000ff;">font</span> <span style="color: #a0522d;">color</span>=<span style="color: #8b2252;">"colorName"</span>&gt;
&lt;<span style="color: #0000ff;">color</span>:#AAAAAA&gt; or &lt;<span style="color: #483d8b;">color</span>:<span style="color: #0000ff;">colorName</span>&gt;
&lt;<span style="color: #483d8b;">img</span>:<span style="color: #0000ff;">file.png</span>&gt; to include an image
</pre>
</div>

<p>
在图形定义脚本中可以直接使用别名
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-a8.png" alt="plantuml-quickstart-a8.png" />
</p>
</div></li>
<li><p>
注释(Notes)
<br />
可以通过在脚本里使用 note 来添加注释文本块。
</p>
<ul class="org-ul">
<li>note left</li>
<li>note right</li>
<li>note top</li>
<li>note bottom</li>
</ul>

<p>
用上面列表里的命令来标注一个注释块的开始，然后用 end note 来标注注释块的结束。
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-a9.png" alt="plantuml-quickstart-a9.png" />
</p>
</div></li>
<li><p>
图形标题(Title the diagram)
<br />
标题关键词 title 用来设置一个图形的标题文本，我们可以在 title 和 end title 两个关键词之间放置比较长的标题文本。
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-a11.png" alt="plantuml-quickstart-a11.png" />
</p>
</div></li>
<li><p>
皮肤(Skinparam)
<br />
皮肤命令 skinparam 可以改变图形的颜色和字体。这些命令可以在以下 的位置中使用：
</p>
<ul class="org-ul">
<li>在图形定义里使用</li>
<li>在包含的文件里使用</li>
<li>在一个配置文件里使用，这个配置文件一般由命令行或ANT的Task来提供。</li>
</ul>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-a12.png" alt="plantuml-quickstart-a12.png" />
</p>
</div></li>
<li><p>
完整示例(Complete Example)
</p>

<div class="figure">
<p><img src="{{site.url}}/assets/images/plantuml-quickstart-a13.png" alt="plantuml-quickstart-a13.png" />
</p>
</div></li>
</ul></li>
<li>活动图Beta版本
<br />
Beta版本的活动图简化了活动图的符号定义，从 V7947 这个版本开始， PlantUML就开始引入了一些简化写法，当然到目前（20140627）为止还不是 很完善，但这个版本里的一些简化写法已经是PlantUML后续版本的发展方向。
<br />
在使用新的写法之前需要把 GraphViz 更新到最新版本。
<dl class="org-dl">
<dt>简单活动（Simple Activity）</dt><dd>活动元素从一个 : 开始，然后到一个 ; 结束。 开始和结束符号，可以用 start 和 end 两个关键词来表示。之前版 本的开始和结束符都是用同一个符号 (*) 来表示的。</dd>
</dl></li>
</ol>
</div>
</div>
<div id="outline-container-orgf39752c" class="outline-4">
<h4 id="orgf39752c">快捷键(Keyboard)</h4>
<div class="outline-text-4" id="text-orgf39752c">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 19:</span> Default key bindings</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-c C-c</td>
<td class="org-left">plantuml-preview: renders a PlantUML diagram from the current buffer in the best supported format</td>
</tr>

<tr>
<td class="org-left">C-u C-c C-c</td>
<td class="org-left">plantuml-preview in other window</td>
</tr>

<tr>
<td class="org-left">C-u C-u C-c C-c</td>
<td class="org-left">plantuml-preview in other frame</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="outline-container-org124cd6e" class="outline-2">
<h2 id="org124cd6e">问题解决(Solving Problem)</h2>
<div class="outline-text-2" id="text-org124cd6e">
</div>
<div id="outline-container-org50243d3" class="outline-3">
<h3 id="org50243d3">emacs 不能输入中文(Don't input chinese character)</h3>
<div class="outline-text-3" id="text-org50243d3">
<p>
编辑~/.bashrc文件，加入如下内容：
</p>
<pre class="example">
$ vim ~/.bashrc
</pre>

<p>
LC<sub>CTYPE</sub>="zh<sub>CN.utf8</sub>"
</p>

<p>
<br />
编辑/etc/environment文件，加入如下内容：
</p>
<pre class="example">
$ sudo vim /etc/environment
</pre>

<p>
LC<sub>CTYPE</sub>="zh<sub>CN.utf8</sub>"
</p>
</div>
</div>
<div id="outline-container-org53b91b7" class="outline-3">
<h3 id="org53b91b7">Warning (server): Unable to start the Emacs server</h3>
<div class="outline-text-3" id="text-org53b91b7">
<p>
<b>问题描述</b>
<br />
Warning (server): Unable to start the Emacs server <br />
There is an existing Emacs server, named "server". <br />
To start the server in this Emacs process, stop the existing <br />
server or call ‘M-x server-force-delete’ to forcibly disconnect it.
<br />
<b>问题解决</b>
<br />
打开 init.el 或 .emacs 文件，注释以下代码：（这只是临时解决办法，肯定有更好的解决方式，暂时未找到）
</p>
<div class="org-src-container">
<pre class="src src-shell">(server-start)
(setq server-socket-dir <span style="color: #8b2252;">"~/.emacs.d/server"</span>)
</pre>
</div>
<p>
<br />
<b>参考资料</b>
</p>
<ul class="org-ul">
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Emacs-Server.html">39 Using Emacs as a Server</a></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org975853f" class="outline-2">
<h2 id="org975853f">References</h2>
<div class="outline-text-2" id="text-org975853f">
<ul class="org-ul">
<li><a href="http://www.cnblogs.com/holbrook/archive/2012/04/12/2444992.html">org-mode: 最好的文档编辑利器</a></li>
<li><a href="https://baike.baidu.com/item/emacs">emacs 百度百科</a></li>
<li><a href="https://en.wikipedia.org/wiki/GNU_Emacs">emacs wiki</a></li>
<li><a href="http://plantuml.com/">PlantUML Official Site</a></li>
<li><a href="http://nasseralkmim.github.io/notes/2016/08/14/using-dot-to-make-diagrams-in-org-mode/">Using plantuml to make diagrams in org-mode</a></li>
<li><a href="http://blog.3zso.com/archives/plantuml-quickstart.html">使用Emacs敲出UML，PlantUML快速指南</a></li>
<li><a href="http://www.zmonster.me/2016/06/03/org-mode-table.html">强大的 Org mode</a></li>
<li><a href="https://github.com/skuro/plantuml-mode">github plantuml-mode</a></li>
<li><a href="https://www.cnblogs.com/bamanzi/p/org-mode-tips.html">org-mode的一些小技巧</a></li>
</ul>
</div>
</div>
