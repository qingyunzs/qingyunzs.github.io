---
layout: post
title: 数据库笔记
author: zrg
description:   
excerpt: 
comments: false
categories: 
- algorithms
tags:
- ACM
---

<p>
感谢您阅读此文，如果您发现任何错误，请发邮件至 zrg1390556487@gmail.com，谢谢！
</p>

<div id="outline-container-orge0f35d5" class="outline-2">
<h2 id="orge0f35d5"><span class="section-number-2">1</span> 数据库设计</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orge8787b9" class="outline-3">
<h3 id="orge8787b9"><span class="section-number-3">1.1</span> 引发血案的面试题：如何设计一个关系型数据库？</h3>
<div class="outline-text-3" id="text-1-1">

<div class="figure">
<p><img src="{{site.url}}/assets/images/database-001.png" alt="database-001.png" />
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org5cdc29a" class="outline-2">
<h2 id="org5cdc29a"><span class="section-number-2">2</span> 索引</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-orgab91b0d" class="outline-3">
<h3 id="orgab91b0d"><span class="section-number-3">2.1</span> MySQL</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>MyISAM 默认支持表级锁，不支持行级锁。</li>
<li>锁
<ul class="org-ul">
<li>按级别划分：
<ul class="org-ul">
<li>共享锁</li>
<li>排它锁</li>
</ul></li>
<li>按所的粒度划分：
<ul class="org-ul">
<li>表级锁</li>
<li>行级锁</li>
<li>页级锁（BDB 引擎）</li>
</ul></li>
<li>按加锁方式划分：
<ul class="org-ul">
<li>自动锁</li>
<li>显示锁</li>
</ul></li>
<li>按操作划分：
<ul class="org-ul">
<li>DML 锁</li>
<li>DDL 锁</li>
</ul></li>
<li>按使用方式划分：
<ul class="org-ul">
<li>乐观锁</li>
<li>悲观锁</li>
</ul></li>
</ul></li>
<li>MyISAM 应用场景：
<ul class="org-ul">
<li>频繁执行全表 count 语句</li>
<li>对数据进行增删改的频率不高，查询非常频繁</li>
<li>没有事务</li>
</ul></li>
<li>InnoDB 应用场景：
<ul class="org-ul">
<li>数据增删改都相当频繁</li>
<li>可靠性要求比较高，要求支持事务</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org2a55d7f" class="outline-3">
<h3 id="org2a55d7f"><span class="section-number-3">2.2</span> 常见问题</h3>
<div class="outline-text-3" id="text-2-2">
<ol class="org-ol">
<li><p>
为什么要使用索引？
</p>
<pre class="example">
快速查询数据
</pre></li>
<li><p>
什么样的信息能创建索引？
</p>
<pre class="example">
主键、唯一键、普通键等
</pre></li>
<li><p>
索引的数据结构是怎么样的？
</p>
<pre class="example">
生成索引，建立二叉查找树进行二分查找
生成索引，建立 B-Tree 结构进行查找
生成索引，建立 B+-Tree 结构进行查找
生成索引，建立 Hash 结构进行查找
</pre></li>
<li>密集索引和稀疏索引的区别？</li>
<li>如何定位并优化慢查询 SQL？
<ol class="org-ol">
<li>根据慢日志定位慢查询 SQL</li>
<li>使用 explain 等工具分析 SQL</li>
<li>修改 SQL 或者尽量让 SQL 走索引</li>
</ol></li>
</ol>
</div>
</div>
</div>
<div id="outline-container-orgd5af626" class="outline-2">
<h2 id="orgd5af626"><span class="section-number-2">3</span> 锁</h2>
</div>
